2025-11-06 17:00:51.204 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 17:00:51.262 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 70628 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:00:51.263 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:00:51.265 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:00:51.310 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 17:00:51.310 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:00:51.974 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:00:51.975 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:00:51.976 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:00:51.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:00:51.979 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:00:51.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:00:51.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:00:51.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:00:51.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:00:51.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:00:51.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:00:51.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:00:51.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:00:51.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:00:51.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:00:52.365 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:00:52.373 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:00:52.373 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:00:52.373 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:00:52.411 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:00:52.412 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1100 ms
2025-11-06 17:00:52.441 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:00:52.865 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:00:52.865 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:00:53.290 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:00:53.314 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:00:53.329 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:00:53.338 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.574 seconds (process running for 3.145)
2025-11-06 17:01:54.591 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 17:01:54.598 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-06 17:01:54.608 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:01:54.613 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:01:54.614 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:01:54.714 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:01:54.774 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:01:54.785 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54748760] was not registered for synchronization because synchronization is not active
2025-11-06 17:01:54.798 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 17:01:55.019 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6908fad1
2025-11-06 17:01:55.021 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 17:01:55.031 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@752639431 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:01:55.133 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:01:55.137 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:01:55.179 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54748760]
2025-11-06 17:01:55.217 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:01:55.217 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca1e0af] was not registered for synchronization because synchronization is not active
2025-11-06 17:01:55.346 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:01:55.347 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:01:55.349 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:01:55.350 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:01:55.351 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:01:55.358 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:01:55.367 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:01:55.368 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5216180d] was not registered for synchronization because synchronization is not active
2025-11-06 17:01:55.369 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1167911445 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:01:55.373 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5216180d]
2025-11-06 17:01:55.453 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:01:55.454 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:01:55.454 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:01:55.464 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:01:55.466 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 3f14b188-a35f-9c9e-63dd-4dbc466e4b52
2025-11-06 17:01:55.467 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 3f14b188-a35f-9c9e-63dd-4dbc466e4b52, 当前在线用户数: 1
2025-11-06 17:01:55.467 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:01:55.468 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f300ce4] was not registered for synchronization because synchronization is not active
2025-11-06 17:01:55.476 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@560482944 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:01:55.481 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f300ce4]
2025-11-06 17:01:55.490 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:01:55.497 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:01:55.498 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:01:55.501 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:01:55.502 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:01:55.503 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742cfb4e] was not registered for synchronization because synchronization is not active
2025-11-06 17:01:55.505 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@399336268 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:01:55.521 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1547136936 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:01:55.528 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca1e0af]
2025-11-06 17:01:55.531 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742cfb4e]
2025-11-06 17:01:55.556 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:02:25.947 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:02:25.948 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:25.948 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:02:25.953 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:25.955 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:25.956 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9cb243] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:25.957 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1564865675 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:25.961 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d9cb243]
2025-11-06 17:02:25.970 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:02:25.971 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:25.971 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:02:25.981 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:25.982 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:25.982 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da2ba62] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:25.984 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1534389122 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:25.987 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da2ba62]
2025-11-06 17:02:26.136 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:02:26.137 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:26.140 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:02:26.140 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:26.142 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:02:26.142 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f80dc524-cf6c-6ff6-4b36-4cd73b22d361
2025-11-06 17:02:26.143 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 3f14b188-a35f-9c9e-63dd-4dbc466e4b52
2025-11-06 17:02:26.146 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 3f14b188-a35f-9c9e-63dd-4dbc466e4b52, 当前在线用户数: 0
2025-11-06 17:02:26.146 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:02:26.146 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f80dc524-cf6c-6ff6-4b36-4cd73b22d361, 当前在线用户数: 1
2025-11-06 17:02:26.147 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:02:26.149 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:26.150 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:26.151 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332f950] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:26.152 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2140529811 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:26.154 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332f950]
2025-11-06 17:02:26.178 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:02:26.179 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:02:26.346 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:02:26.347 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:26.347 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:02:26.356 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:26.357 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:26.357 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75940fc6] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:26.358 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1110122174 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:26.360 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75940fc6]
2025-11-06 17:02:26.448 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:02:26.450 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:26.451 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:26.451 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6b0f71] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:26.452 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1358008438 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:02:26.459 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6b0f71]
2025-11-06 17:02:33.735 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/ask-chunk
2025-11-06 17:02:33.735 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:33.735 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/ask-chunk
2025-11-06 17:02:33.745 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:33.766 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:33.767 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:33.767 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:33.772 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:34.027 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:34.028 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:34.028 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:34.033 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:34.590 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:34.591 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:34.591 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:34.603 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:34.858 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:34.858 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:34.858 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:34.866 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:35.113 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:35.113 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:35.113 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:35.121 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:35.343 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:35.343 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:35.343 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:35.351 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:35.560 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:35.560 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:35.560 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:35.565 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:35.772 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:35.774 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:35.774 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:35.779 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:36.025 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:36.025 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:36.025 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:36.033 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:36.239 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:36.239 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:36.240 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:36.245 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:36.496 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:36.496 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:36.496 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:36.533 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:36.706 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/upload-chunk
2025-11-06 17:02:36.708 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:36.709 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/upload-chunk
2025-11-06 17:02:36.715 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:55.918 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/add
2025-11-06 17:02:55.918 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:55.918 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/add
2025-11-06 17:02:55.921 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:56.328 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:56.328 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:56.332 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1600428360 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will be managed by Spring
2025-11-06 17:02:56.342 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:56.343 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de] from current transaction
2025-11-06 17:02:56.346 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:56.347 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:56.348 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:56.349 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccf03de]
2025-11-06 17:02:59.161 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:02:59.161 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:59.161 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:02:59.164 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:59.165 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.165 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5f568b] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:59.166 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@29443675 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:59.168 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c5f568b]
2025-11-06 17:02:59.498 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:02:59.499 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:59.501 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:02:59.501 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:59.501 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:02:59.501 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c6674b97-8e50-4ae8-ea64-8ea8214ee961
2025-11-06 17:02:59.504 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: f80dc524-cf6c-6ff6-4b36-4cd73b22d361
2025-11-06 17:02:59.504 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f80dc524-cf6c-6ff6-4b36-4cd73b22d361, 当前在线用户数: 0
2025-11-06 17:02:59.505 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:02:59.505 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c6674b97-8e50-4ae8-ea64-8ea8214ee961, 当前在线用户数: 1
2025-11-06 17:02:59.505 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:02:59.505 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:59.506 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.506 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c1893f] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:59.506 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1254928005 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:59.508 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c1893f]
2025-11-06 17:02:59.562 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:02:59.563 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:02:59.607 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:02:59.607 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:02:59.607 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:02:59.611 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:02:59.612 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.615 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ff78d8d] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:59.618 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@8941639 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:02:59.624 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ff78d8d]
2025-11-06 17:02:59.668 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:02:59.669 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:59.669 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.670 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c880e38] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:59.671 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1202005035 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:59.681 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c880e38]
2025-11-06 17:02:59.707 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:02:59.707 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:59.708 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.709 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a622c7e] was not registered for synchronization because synchronization is not active
2025-11-06 17:02:59.715 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@868011513 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:02:59.721 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a622c7e]
2025-11-06 17:02:59.994 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:02:59.994 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:02:59.995 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:02:59.995 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dec603d] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:00.001 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1640057338 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:00.012 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dec603d]
2025-11-06 17:03:06.066 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:03:06.067 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:06.067 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:03:06.070 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:06.071 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:06.071 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36521ebf] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:06.072 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2071507939 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:06.075 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36521ebf]
2025-11-06 17:03:06.081 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:03:06.081 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:06.081 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:03:06.085 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:06.086 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:06.086 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49908a20] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:06.087 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1906877257 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:06.089 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49908a20]
2025-11-06 17:03:06.255 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:03:06.255 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:06.258 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:03:06.258 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:06.258 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:03:06.259 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 4be5eca1-d03c-3ca7-3e6b-f2ee834f60fa
2025-11-06 17:03:06.259 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: c6674b97-8e50-4ae8-ea64-8ea8214ee961
2025-11-06 17:03:06.259 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c6674b97-8e50-4ae8-ea64-8ea8214ee961, 当前在线用户数: 0
2025-11-06 17:03:06.259 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:03:06.260 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 4be5eca1-d03c-3ca7-3e6b-f2ee834f60fa, 当前在线用户数: 1
2025-11-06 17:03:06.260 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:03:06.262 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:06.263 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:06.263 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70072642] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:06.263 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@930479159 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:06.266 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70072642]
2025-11-06 17:03:06.306 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:03:06.307 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:03:06.373 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:03:06.373 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:06.373 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:03:06.378 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:06.379 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:06.379 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435260d] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:06.381 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1037675568 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:03:06.383 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435260d]
2025-11-06 17:03:06.423 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:03:06.423 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:06.423 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:06.423 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7457974a] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:06.423 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@850377476 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:06.427 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7457974a]
2025-11-06 17:03:08.133 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 17:03:08.133 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:08.134 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:08.136 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5309c1b1] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:08.144 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2014246692 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:08.152 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5309c1b1]
2025-11-06 17:03:08.153 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:08.153 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316d362d] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:08.153 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1685982766 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:08.155 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@316d362d]
2025-11-06 17:03:08.155 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:08.155 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b550bf6] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:08.155 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1004835775 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:08.157 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b550bf6]
2025-11-06 17:03:08.170 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:03:08.171 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:21.940 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 4be5eca1-d03c-3ca7-3e6b-f2ee834f60fa, 当前在线用户数: 0
2025-11-06 17:03:21.940 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:03:22.660 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:03:22.661 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:22.661 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:03:22.665 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:22.666 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:22.666 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513ce32] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:22.667 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1308607413 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:22.669 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7513ce32]
2025-11-06 17:03:22.819 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:03:22.819 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:22.823 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:03:22.823 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:22.823 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:03:22.823 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 29c5692a-d595-4434-84ea-5d40f13e3e43
2025-11-06 17:03:22.823 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 29c5692a-d595-4434-84ea-5d40f13e3e43, 当前在线用户数: 1
2025-11-06 17:03:22.824 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:03:22.826 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:22.826 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:22.826 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b99acd] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:22.827 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1411438790 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:22.828 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b99acd]
2025-11-06 17:03:22.879 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:03:22.879 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:03:22.934 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:03:22.934 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:03:22.934 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:03:22.939 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:03:22.940 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:22.940 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7320724a] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:22.941 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1627807598 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:22.944 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7320724a]
2025-11-06 17:03:22.968 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:03:22.968 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:22.969 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:22.969 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbc02e] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:22.970 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1727790736 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:03:22.975 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22fbc02e]
2025-11-06 17:03:23.005 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:03:23.006 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:03:23.007 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:03:23.008 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457bf21b] was not registered for synchronization because synchronization is not active
2025-11-06 17:03:23.016 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1298206954 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:03:23.019 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@457bf21b]
2025-11-06 17:04:02.906 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 29c5692a-d595-4434-84ea-5d40f13e3e43, 当前在线用户数: 0
2025-11-06 17:04:02.906 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:03.093 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:03.094 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:03.094 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:03.097 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:03.097 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:03.098 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5215528e] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:03.098 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1307499905 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:03.100 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5215528e]
2025-11-06 17:04:03.140 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:03.140 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:03.144 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:03.144 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:03.144 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:03.144 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 10053311-df7f-609c-d930-c35ccf165573
2025-11-06 17:04:03.144 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 10053311-df7f-609c-d930-c35ccf165573, 当前在线用户数: 1
2025-11-06 17:04:03.145 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:03.147 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:03.148 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:03.149 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3876b6] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:03.149 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1758467091 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:03.151 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3876b6]
2025-11-06 17:04:03.304 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:03.304 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:03.341 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:03.341 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:03.341 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:03.343 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:03.344 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:03.344 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4ffc38] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:03.347 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1853640634 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:03.349 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4ffc38]
2025-11-06 17:04:03.437 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:03.437 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:03.438 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:03.438 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396380f9] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:03.439 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2011495835 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:03.443 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@396380f9]
2025-11-06 17:04:03.483 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:03.483 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:03.484 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:03.484 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518ba26] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:03.488 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@540745907 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:03.491 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@518ba26]
2025-11-06 17:04:05.811 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:05.811 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:05.811 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:05.813 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:05.814 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:05.814 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719b46b2] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:05.815 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1621837468 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:05.817 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719b46b2]
2025-11-06 17:04:05.822 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:05.823 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:05.823 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:05.825 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:05.825 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:05.825 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3779d465] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:05.826 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@133144475 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:05.828 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3779d465]
2025-11-06 17:04:05.993 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:05.994 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:05.997 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f76185de-2914-f725-24fd-b6256af33527
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 10053311-df7f-609c-d930-c35ccf165573
2025-11-06 17:04:05.997 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:05.997 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 10053311-df7f-609c-d930-c35ccf165573, 当前在线用户数: 0
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f76185de-2914-f725-24fd-b6256af33527, 当前在线用户数: 1
2025-11-06 17:04:05.997 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:05.999 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:05.999 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:05.999 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bab1e5] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:06.000 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@225157943 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:06.001 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26bab1e5]
2025-11-06 17:04:06.044 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:06.045 [http-nio-8080-exec-1] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:06.128 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:06.128 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:06.128 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:06.131 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:06.131 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:06.131 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2950f45b] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:06.133 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1151905799 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:06.134 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2950f45b]
2025-11-06 17:04:06.156 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:06.157 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:06.157 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:06.157 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f05dce] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:06.158 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@227529851 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:06.161 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f05dce]
2025-11-06 17:04:08.110 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 17:04:08.110 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:08.111 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:08.112 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec98ce8] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:08.115 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1328169450 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:08.117 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec98ce8]
2025-11-06 17:04:08.118 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:08.118 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270e3310] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:08.118 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@976622346 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:08.119 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@270e3310]
2025-11-06 17:04:08.119 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:08.120 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd384a3] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:08.120 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@496220282 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:08.121 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bd384a3]
2025-11-06 17:04:08.132 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:04:08.132 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:09.949 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f76185de-2914-f725-24fd-b6256af33527, 当前在线用户数: 0
2025-11-06 17:04:09.949 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:10.089 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:10.089 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:10.090 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:10.091 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:10.092 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.092 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac756ba] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.093 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1235887958 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.094 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac756ba]
2025-11-06 17:04:10.239 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:10.239 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:10.241 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: a898fded-1771-9f02-321d-444a4bc08fab
2025-11-06 17:04:10.242 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: a898fded-1771-9f02-321d-444a4bc08fab, 当前在线用户数: 1
2025-11-06 17:04:10.242 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:10.277 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:10.277 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:10.306 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:10.308 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:10.309 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:10.311 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:10.311 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.313 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4524cf4f] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.313 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1125612242 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.315 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4524cf4f]
2025-11-06 17:04:10.320 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:10.320 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:10.320 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:10.323 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:10.324 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.324 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c65ce2] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.324 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1559041495 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.328 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c65ce2]
2025-11-06 17:04:10.330 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:10.330 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:10.330 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:10.335 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:10.336 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.336 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18217994] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.337 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1097407003 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.339 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18217994]
2025-11-06 17:04:10.363 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:10.363 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:10.363 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.364 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182fea2f] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.364 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1067279144 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.366 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182fea2f]
2025-11-06 17:04:10.389 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 17:04:10.389 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:10.391 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.391 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37765653] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.394 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@915667663 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.397 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37765653]
2025-11-06 17:04:10.398 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.398 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ffcb5c] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.398 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@974331502 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.399 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ffcb5c]
2025-11-06 17:04:10.399 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:10.400 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d5d175] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:10.400 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1511868920 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:10.401 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37d5d175]
2025-11-06 17:04:19.967 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: a898fded-1771-9f02-321d-444a4bc08fab, 当前在线用户数: 0
2025-11-06 17:04:19.967 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:20.103 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:20.103 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:20.103 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:20.104 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:20.104 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.104 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551e0a26] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.105 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1939214897 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:20.108 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551e0a26]
2025-11-06 17:04:20.121 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:20.121 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:20.121 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:20.124 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:20.125 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.125 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a008e81] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.125 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1536076640 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.127 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a008e81]
2025-11-06 17:04:20.266 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:20.266 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:20.268 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:20.268 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:20.268 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:20.269 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 82aa11ca-ae19-3b92-224a-d821d0e63ae6
2025-11-06 17:04:20.269 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 82aa11ca-ae19-3b92-224a-d821d0e63ae6, 当前在线用户数: 1
2025-11-06 17:04:20.269 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:20.271 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:20.271 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.271 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8fe9dd] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.271 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1966729963 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.272 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8fe9dd]
2025-11-06 17:04:20.310 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:20.311 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:20.374 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:20.374 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:20.374 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:20.376 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:20.377 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.377 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cef2f79] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.377 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1532373986 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.378 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cef2f79]
2025-11-06 17:04:20.587 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:20.587 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:20.588 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.588 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f783c26] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.588 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@784109724 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.590 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f783c26]
2025-11-06 17:04:20.696 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 17:04:20.696 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:20.698 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.698 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1498257c] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.700 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1168971961 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.703 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1498257c]
2025-11-06 17:04:20.703 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.703 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45829485] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.703 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1757885532 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.705 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45829485]
2025-11-06 17:04:20.705 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:20.706 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2de674] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:20.706 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1608154504 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:20.707 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2de674]
2025-11-06 17:04:20.716 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:04:20.717 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:23.094 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:23.094 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:23.094 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:23.096 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:23.098 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.098 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73dca391] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.098 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@853343972 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.100 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73dca391]
2025-11-06 17:04:23.288 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:23.288 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:23.289 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:23.290 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:23.290 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:23.290 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 7a2a532d-4558-12f5-02e7-f778f7d138f3
2025-11-06 17:04:23.290 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 82aa11ca-ae19-3b92-224a-d821d0e63ae6
2025-11-06 17:04:23.291 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 82aa11ca-ae19-3b92-224a-d821d0e63ae6, 当前在线用户数: 0
2025-11-06 17:04:23.291 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:23.291 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 7a2a532d-4558-12f5-02e7-f778f7d138f3, 当前在线用户数: 1
2025-11-06 17:04:23.291 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:23.291 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:23.291 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.292 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da50fc0] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.292 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1374683774 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.293 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da50fc0]
2025-11-06 17:04:23.331 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:23.331 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:23.383 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:23.384 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:23.384 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:23.387 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:23.389 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.389 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6b5aa9] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.390 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1714229139 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.391 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6b5aa9]
2025-11-06 17:04:23.432 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:23.432 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:23.432 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.433 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72cef8de] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.433 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2023396422 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.435 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72cef8de]
2025-11-06 17:04:23.671 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:23.671 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:23.672 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.672 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517a0470] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.674 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@159355957 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.679 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@517a0470]
2025-11-06 17:04:23.680 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.680 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795322c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.680 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@217632747 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.681 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@795322c8]
2025-11-06 17:04:23.683 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.683 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1a1244] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.683 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@733953165 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.685 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b1a1244]
2025-11-06 17:04:23.816 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:23.816 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:23.817 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.818 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d29e2] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.822 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1479663085 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.825 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d29e2]
2025-11-06 17:04:23.825 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.825 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21605c40] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.826 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2003313460 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.827 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21605c40]
2025-11-06 17:04:23.828 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:23.828 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690aa437] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:23.828 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1244362506 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:23.830 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690aa437]
2025-11-06 17:04:25.736 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:25.736 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:25.736 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:25.740 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:25.741 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:25.741 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17db136e] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:25.742 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1503102415 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:25.743 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17db136e]
2025-11-06 17:04:26.253 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:26.253 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.255 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:26.255 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:26.255 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 62d61acb-7c98-47eb-ba85-1cdd7d5b0798
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 7a2a532d-4558-12f5-02e7-f778f7d138f3
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 7a2a532d-4558-12f5-02e7-f778f7d138f3, 当前在线用户数: 0
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 62d61acb-7c98-47eb-ba85-1cdd7d5b0798, 当前在线用户数: 1
2025-11-06 17:04:26.256 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:26.257 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:26.257 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.257 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2628a1] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.258 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@62565081 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.259 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a2628a1]
2025-11-06 17:04:26.313 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:26.313 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:26.338 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:26.339 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:26.339 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:26.341 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:26.343 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.343 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b0dc53] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.343 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1495349059 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.345 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54b0dc53]
2025-11-06 17:04:26.364 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:26.364 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.364 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.364 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aedf104] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.365 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2060692975 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.367 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aedf104]
2025-11-06 17:04:26.479 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:04:26.480 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.481 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:04:26.482 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:04:26.482 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:04:26.535 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:04:26.536 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.536 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.536 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3daa4e] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.537 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@134995999 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.538 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c3daa4e]
2025-11-06 17:04:26.538 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.538 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90607e8] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.539 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@684237660 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.540 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@90607e8]
2025-11-06 17:04:26.540 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.541 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d41aebf] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.541 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1958857144 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.543 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d41aebf]
2025-11-06 17:04:26.636 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:04:26.636 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:04:26.636 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.636 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:04:26.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:26.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:04:26.637 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.638 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32bdc452] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.638 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.638 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478d7976] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.638 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:26.638 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@26687037 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.639 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.639 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58895700] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.639 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@549813471 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:26.640 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32bdc452]
2025-11-06 17:04:26.640 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1128818046 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.640 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58895700]
2025-11-06 17:04:26.642 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@478d7976]
2025-11-06 17:04:26.711 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:04:26.711 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:04:26.712 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:26.712 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.712 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:04:26.714 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:26.716 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.717 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406e3cba] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.717 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@840173891 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.718 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@406e3cba]
2025-11-06 17:04:26.718 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.718 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189d7cce] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.720 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@417775792 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.723 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189d7cce]
2025-11-06 17:04:26.876 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:26.876 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.876 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.876 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a670326] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.879 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1271174730 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.880 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a670326]
2025-11-06 17:04:26.961 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:26.961 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.962 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:26.962 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f71cb77] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:26.964 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1921385886 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:26.964 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f71cb77]
2025-11-06 17:04:26.970 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:26.970 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:26.984 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:04:26.985 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:04:27.225 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:27.225 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:27.230 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:04:27.231 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 17:04:27.286 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:27.286 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:27.539 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:27.539 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:29.975 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:29.975 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:37.902 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg","data":{"content":"你好","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":9.480698}}
2025-11-06 17:04:48.898 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/add
2025-11-06 17:04:48.898 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:48.906 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:48.906 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.907 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1272004619 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will be managed by Spring
2025-11-06 17:04:48.909 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.909 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc] from current transaction
2025-11-06 17:04:48.911 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.911 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.911 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.911 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451308dc]
2025-11-06 17:04:48.915 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:48.915 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b87622] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:48.915 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1384863383 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:48.916 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b87622]
2025-11-06 17:04:48.917 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:48.917 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3cccc5] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:48.917 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@285124838 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:48.918 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b3cccc5]
2025-11-06 17:04:51.855 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 62d61acb-7c98-47eb-ba85-1cdd7d5b0798, 当前在线用户数: 0
2025-11-06 17:04:51.855 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:04:51.855 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:04:51.855 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:04:52.013 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:04:52.014 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:52.014 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:04:52.015 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:52.016 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.016 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bb02de] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.017 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@825354422 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.018 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25bb02de]
2025-11-06 17:04:52.178 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:04:52.178 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.180 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f28c72fd-2231-7e53-8ce3-b6c55ea9273c
2025-11-06 17:04:52.180 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f28c72fd-2231-7e53-8ce3-b6c55ea9273c, 当前在线用户数: 1
2025-11-06 17:04:52.181 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:04:52.182 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:04:52.182 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:52.182 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:04:52.184 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:52.184 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.184 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb4cb51] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.185 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@931460661 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.186 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb4cb51]
2025-11-06 17:04:52.219 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:04:52.219 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:04:52.296 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:04:52.296 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:52.296 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:04:52.298 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:52.299 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.299 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fb6bef] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.300 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1881965370 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.301 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43fb6bef]
2025-11-06 17:04:52.319 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:04:52.320 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.320 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.320 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71318a30] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.321 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2124407612 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:52.323 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71318a30]
2025-11-06 17:04:52.394 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:04:52.394 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.395 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:04:52.395 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:04:52.396 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:04:52.413 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:04:52.414 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.416 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.416 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:04:52.416 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.416 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c9f8c3] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.416 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1582376557 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.417 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.417 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cb793e] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.418 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c9f8c3]
2025-11-06 17:04:52.419 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.419 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0978af] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.419 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@70811853 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.420 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1984008767 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:52.421 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0978af]
2025-11-06 17:04:52.421 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.421 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36aaba5d] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.421 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1201106983 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.422 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cb793e]
2025-11-06 17:04:52.423 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36aaba5d]
2025-11-06 17:04:52.424 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.425 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6670ae2d] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.425 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@484051126 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:52.427 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6670ae2d]
2025-11-06 17:04:52.428 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.428 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164348b7] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.428 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1965137300 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:52.430 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164348b7]
2025-11-06 17:04:52.494 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:04:52.494 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.494 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.495 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16e144f3] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.495 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@961786480 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.496 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16e144f3]
2025-11-06 17:04:52.604 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:04:52.604 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:52.604 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:04:52.606 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:52.606 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.606 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b4b79a] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.607 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@640175247 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.608 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b4b79a]
2025-11-06 17:04:52.640 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:04:52.640 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:04:52.640 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:04:52.641 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:04:52.641 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.644 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:04:52.647 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.647 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc444fa] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.647 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1655132791 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.649 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc444fa]
2025-11-06 17:04:52.649 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.649 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611869d3] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.650 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@674366110 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.653 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611869d3]
2025-11-06 17:04:52.742 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:52.742 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.743 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.743 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1835e442] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.744 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1306317718 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:04:52.745 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1835e442]
2025-11-06 17:04:52.750 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:04:52.750 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.817 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:04:52.817 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:04:52.818 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:04:52.818 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b429425] was not registered for synchronization because synchronization is not active
2025-11-06 17:04:52.820 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@375789447 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:04:52.821 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b429425]
2025-11-06 17:05:12.319 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:05:12.320 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:12.320 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:05:12.322 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:12.323 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.324 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b8e80] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.324 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@738331162 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.326 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b8e80]
2025-11-06 17:05:12.479 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:05:12.480 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:12.482 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: d2991cf7-1e0d-df67-1d1f-56c776dc073a
2025-11-06 17:05:12.482 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: f28c72fd-2231-7e53-8ce3-b6c55ea9273c
2025-11-06 17:05:12.482 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f28c72fd-2231-7e53-8ce3-b6c55ea9273c, 当前在线用户数: 0
2025-11-06 17:05:12.482 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:05:12.482 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: d2991cf7-1e0d-df67-1d1f-56c776dc073a, 当前在线用户数: 1
2025-11-06 17:05:12.483 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:05:12.484 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:05:12.484 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:12.484 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:05:12.486 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:12.486 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.487 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4a4ccd] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.487 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1839003640 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.488 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4a4ccd]
2025-11-06 17:05:12.523 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:05:12.523 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:05:12.573 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:05:12.573 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:12.574 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:05:12.576 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:12.577 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.577 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f501ba] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.578 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1844032728 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.579 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f501ba]
2025-11-06 17:05:12.613 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:05:12.613 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:12.613 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.614 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c39cd1] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.614 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@288039950 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.616 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c39cd1]
2025-11-06 17:05:12.645 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:05:12.645 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:12.646 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.646 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347634d4] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.649 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1180673936 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.653 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@347634d4]
2025-11-06 17:05:12.653 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.653 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474d7a56] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.653 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2090153480 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.655 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@474d7a56]
2025-11-06 17:05:12.655 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:12.655 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537bd1cd] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:12.655 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2143850046 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:12.656 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537bd1cd]
2025-11-06 17:05:12.680 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:05:12.680 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.189 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:05:22.190 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:05:22.345 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:05:22.345 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:22.348 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:05:22.350 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:22.350 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.350 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fafce2] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.351 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@558510037 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.352 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fafce2]
2025-11-06 17:05:22.523 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:05:22.523 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.525 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:05:22.525 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:22.525 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:05:22.525 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f3d40e21-b922-eedb-a32c-9ae802ec311d
2025-11-06 17:05:22.526 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: d2991cf7-1e0d-df67-1d1f-56c776dc073a
2025-11-06 17:05:22.526 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: d2991cf7-1e0d-df67-1d1f-56c776dc073a, 当前在线用户数: 0
2025-11-06 17:05:22.527 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:05:22.527 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:22.528 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f3d40e21-b922-eedb-a32c-9ae802ec311d, 当前在线用户数: 1
2025-11-06 17:05:22.528 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.529 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:05:22.529 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5937b5b0] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.531 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1952351202 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.533 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5937b5b0]
2025-11-06 17:05:22.565 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:05:22.566 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:05:22.628 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:05:22.628 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:22.628 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:05:22.633 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:22.634 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.634 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a8759b] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.635 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1446615066 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.637 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a8759b]
2025-11-06 17:05:22.669 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:05:22.669 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.670 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.670 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0e60] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.671 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@467213092 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.672 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0e60]
2025-11-06 17:05:22.720 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:05:22.720 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.723 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:05:22.723 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:05:22.723 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:05:22.730 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:05:22.730 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.731 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.731 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b084cf1] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.732 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1421186491 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.733 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b084cf1]
2025-11-06 17:05:22.733 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.733 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6483e120] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.733 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1035294341 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.734 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6483e120]
2025-11-06 17:05:22.734 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.734 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd75080] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.735 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@933638875 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.736 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cd75080]
2025-11-06 17:05:22.871 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:05:22.871 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.871 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:05:22.871 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:22.871 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:05:22.871 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:05:22.871 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.872 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.872 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.872 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c492a0] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.872 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42dd4046] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.873 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@542906202 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.873 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:22.874 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c492a0]
2025-11-06 17:05:22.874 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.874 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648ce27b] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.874 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@57957194 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:22.874 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1492324510 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.876 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@648ce27b]
2025-11-06 17:05:22.876 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42dd4046]
2025-11-06 17:05:22.877 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.877 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23a630e5] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.877 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@36278736 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:22.879 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23a630e5]
2025-11-06 17:05:22.879 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.880 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17873477] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.880 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@95686522 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:22.881 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17873477]
2025-11-06 17:05:22.977 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:05:22.978 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:22.993 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:05:22.993 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:22.993 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:05:22.995 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:22.998 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:22.998 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1295d9b5] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:22.999 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1970225344 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:22.999 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1295d9b5]
2025-11-06 17:05:23.000 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:23.000 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea2e2bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:23.000 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1388762799 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:23.004 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ea2e2bf]
2025-11-06 17:05:23.055 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:05:23.055 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:23.056 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:23.056 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a103863] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:23.058 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@486936170 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:23.060 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a103863]
2025-11-06 17:05:23.196 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:05:23.196 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:23.197 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:23.198 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:05:23.198 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:23.198 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b344bc] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:23.201 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1051270198 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:23.202 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b344bc]
2025-11-06 17:05:42.654 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg","data":{"content":"你好","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}}
2025-11-06 17:05:44.989 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:05:44.990 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:51.317 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:05:51.317 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f3d40e21-b922-eedb-a32c-9ae802ec311d, 当前在线用户数: 0
2025-11-06 17:05:51.318 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:05:51.318 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:05:51.781 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:05:51.781 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:51.781 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:05:51.783 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:51.783 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:51.783 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a87d5cc] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:51.784 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@931895863 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:51.785 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a87d5cc]
2025-11-06 17:05:51.954 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:05:51.954 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:51.957 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:05:51.957 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:51.957 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:05:51.957 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 6b297942-6535-1324-e7cd-ad347a42850c
2025-11-06 17:05:51.957 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 6b297942-6535-1324-e7cd-ad347a42850c, 当前在线用户数: 1
2025-11-06 17:05:51.958 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:05:51.958 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:51.959 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:51.959 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a316de] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:51.959 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@921800751 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:51.960 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a316de]
2025-11-06 17:05:52.003 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:05:52.004 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:05:52.063 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:05:52.063 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:52.063 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:05:52.067 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:52.068 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.069 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7babe7f2] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.069 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@209165242 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.071 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7babe7f2]
2025-11-06 17:05:52.116 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:05:52.116 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.116 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.116 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164378c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.117 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1487402483 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.119 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164378c8]
2025-11-06 17:05:52.162 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:05:52.162 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.163 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:05:52.163 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:05:52.164 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:05:52.180 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:05:52.181 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.181 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.181 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18379059] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.181 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@298873762 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.183 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:05:52.183 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.184 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.184 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18379059]
2025-11-06 17:05:52.184 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@533a8a12] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.184 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.185 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613d4dde] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.185 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1168944376 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.186 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@798423667 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.186 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613d4dde]
2025-11-06 17:05:52.187 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.187 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a9786e] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.187 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1064407192 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.188 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a9786e]
2025-11-06 17:05:52.189 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@533a8a12]
2025-11-06 17:05:52.189 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.189 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebee51] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.189 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1117056939 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.190 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebee51]
2025-11-06 17:05:52.190 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.190 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b65088] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.191 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1760864713 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.192 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b65088]
2025-11-06 17:05:52.323 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:05:52.323 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.324 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:05:52.324 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:52.324 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:05:52.324 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.324 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@521268a0] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.324 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@885573872 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.326 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@521268a0]
2025-11-06 17:05:52.326 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:52.326 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.326 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d890879] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.327 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1740709041 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.328 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d890879]
2025-11-06 17:05:52.414 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:05:52.414 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:05:52.414 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:05:52.416 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:05:52.418 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.418 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d18a38] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.418 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1296601784 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.419 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d18a38]
2025-11-06 17:05:52.419 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.419 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402894d5] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.419 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@266815138 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:05:52.423 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402894d5]
2025-11-06 17:05:52.444 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:05:52.444 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.509 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:05:52.509 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.510 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.510 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9e3d0c] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.511 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@585952603 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.513 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9e3d0c]
2025-11-06 17:05:52.521 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:05:52.521 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:05:52.521 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:05:52.523 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4bbb5b] was not registered for synchronization because synchronization is not active
2025-11-06 17:05:52.524 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@158863610 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:05:52.525 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4bbb5b]
2025-11-06 17:07:13.089 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:07:13.089 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 6b297942-6535-1324-e7cd-ad347a42850c, 当前在线用户数: 0
2025-11-06 17:07:13.089 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:07:13.089 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:07:13.581 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:07:13.581 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:13.581 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:07:13.585 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:13.585 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.585 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6ce4f6] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.586 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1667186381 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:13.588 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6ce4f6]
2025-11-06 17:07:13.603 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:07:13.603 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:13.606 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: d2964311-1e4b-578b-6259-037f0b329e3e
2025-11-06 17:07:13.607 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: d2964311-1e4b-578b-6259-037f0b329e3e, 当前在线用户数: 1
2025-11-06 17:07:13.607 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:07:13.608 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:07:13.609 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:07:13.621 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:07:13.623 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:13.623 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:07:13.625 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:13.627 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.627 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc9dd21] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.627 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2091389065 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:13.630 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc9dd21]
2025-11-06 17:07:13.669 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:07:13.669 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:13.669 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:07:13.672 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:13.672 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.672 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d71b81e] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.673 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@632710193 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:13.674 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d71b81e]
2025-11-06 17:07:13.798 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:07:13.798 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:13.800 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.801 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620dafcb] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.801 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1495491748 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:13.806 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620dafcb]
2025-11-06 17:07:13.958 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:07:13.958 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:13.959 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:07:13.959 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:07:13.960 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:07:13.981 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:07:13.981 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:13.981 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:07:13.981 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:13.981 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.981 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ffc44f] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.981 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.983 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@52312554 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:13.983 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b30a65] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.985 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25ffc44f]
2025-11-06 17:07:13.985 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.985 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e058c3b] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.986 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@889450504 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:13.986 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2117517049 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:13.987 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e058c3b]
2025-11-06 17:07:13.987 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.987 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7181feaa] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.988 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@858243317 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:13.989 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b30a65]
2025-11-06 17:07:13.990 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.990 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b574e08] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.990 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@282977005 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:13.991 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7181feaa]
2025-11-06 17:07:13.991 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b574e08]
2025-11-06 17:07:13.991 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:13.991 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78e68a58] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:13.993 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@429960258 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:13.994 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78e68a58]
2025-11-06 17:07:14.004 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:07:14.005 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:14.005 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.005 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686ababa] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.006 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2139988967 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:14.008 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686ababa]
2025-11-06 17:07:14.089 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:07:14.089 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:07:14.089 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:14.089 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:14.089 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:07:14.093 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:14.094 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.095 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79af4902] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.095 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1854880947 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:14.096 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79af4902]
2025-11-06 17:07:14.143 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:07:14.143 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:14.143 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:07:14.145 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:14.150 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.151 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537786b6] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.151 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@437741307 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:14.153 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@537786b6]
2025-11-06 17:07:14.153 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.153 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afbf562] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.153 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1171690685 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:14.158 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afbf562]
2025-11-06 17:07:14.324 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:07:14.324 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:14.325 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:07:14.325 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:14.325 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.325 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c92aad1] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.327 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1832674152 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:14.329 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c92aad1]
2025-11-06 17:07:14.338 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:07:14.339 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:14.340 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:14.341 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fb16de] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:14.344 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@144845641 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:14.347 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fb16de]
2025-11-06 17:07:15.828 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:07:15.828 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: d2964311-1e4b-578b-6259-037f0b329e3e, 当前在线用户数: 0
2025-11-06 17:07:15.828 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:07:15.828 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:07:15.989 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:07:15.989 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:15.989 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:07:15.991 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:15.991 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:15.991 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f1442b] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:15.993 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@55626339 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:15.994 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69f1442b]
2025-11-06 17:07:16.151 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:07:16.151 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.155 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 24a89263-6a7c-4257-25b4-71232e0c4064
2025-11-06 17:07:16.155 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 24a89263-6a7c-4257-25b4-71232e0c4064, 当前在线用户数: 1
2025-11-06 17:07:16.156 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:07:16.157 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:07:16.157 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:16.157 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:07:16.159 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:16.160 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.161 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed99636] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.163 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@779415410 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.164 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed99636]
2025-11-06 17:07:16.193 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:07:16.194 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:07:16.251 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:07:16.251 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:16.251 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:07:16.258 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:16.259 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.260 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e18cb46] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.261 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1457722060 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.263 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e18cb46]
2025-11-06 17:07:16.300 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:07:16.300 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.300 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.301 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6832afb4] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.301 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@940559315 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.304 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6832afb4]
2025-11-06 17:07:16.347 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:07:16.347 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.349 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:07:16.349 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:07:16.349 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:07:16.365 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:07:16.365 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.366 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.366 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@893ccbb] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.366 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@646012682 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.366 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:07:16.366 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.367 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.368 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3b17fa] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.368 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@893ccbb]
2025-11-06 17:07:16.368 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.368 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fd5b] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.368 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@377823224 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.370 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fd5b]
2025-11-06 17:07:16.370 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1450170171 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.370 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.371 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30148558] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.371 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@531904804 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.373 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30148558]
2025-11-06 17:07:16.375 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3b17fa]
2025-11-06 17:07:16.375 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.375 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d3a559] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.376 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@657655774 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.378 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75d3a559]
2025-11-06 17:07:16.378 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.378 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@798c7c98] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.379 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@287172509 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.380 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@798c7c98]
2025-11-06 17:07:16.457 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:07:16.457 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.458 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.458 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6a1ea3] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.458 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@851140034 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.461 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6a1ea3]
2025-11-06 17:07:16.559 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:07:16.560 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:16.560 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:07:16.563 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:16.563 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.564 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5faeb008] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.564 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1378237538 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.566 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5faeb008]
2025-11-06 17:07:16.597 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:07:16.597 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.622 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:07:16.623 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:16.623 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:07:16.625 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:16.629 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.630 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460160b3] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.630 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@686664375 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.632 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460160b3]
2025-11-06 17:07:16.632 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.632 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9876a53] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.633 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1146001192 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.639 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9876a53]
2025-11-06 17:07:16.701 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:07:16.701 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.703 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.704 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77193566] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.709 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@241525925 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:16.710 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77193566]
2025-11-06 17:07:16.717 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:07:16.717 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:16.718 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:16.718 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93269d8] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:16.719 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@535442944 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:16.721 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93269d8]
2025-11-06 17:07:20.392 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 24a89263-6a7c-4257-25b4-71232e0c4064, 当前在线用户数: 0
2025-11-06 17:07:20.392 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:07:20.392 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:07:20.392 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:07:22.934 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:07:22.934 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:22.934 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:07:22.937 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:22.937 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:22.937 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d22da31] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:22.938 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@413223236 wrapping com.mysql.cj.jdbc.ConnectionImpl@7dd04e64] will not be managed by Spring
2025-11-06 17:07:22.940 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d22da31]
2025-11-06 17:07:23.125 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:07:23.126 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:23.128 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:07:23.129 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:23.129 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:07:23.129 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: e21ee5d3-03b0-702e-6747-71ceaebddba8
2025-11-06 17:07:23.129 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: e21ee5d3-03b0-702e-6747-71ceaebddba8, 当前在线用户数: 1
2025-11-06 17:07:23.130 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:07:23.132 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:23.132 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.132 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f94b91e] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.133 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@596390116 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.134 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f94b91e]
2025-11-06 17:07:23.176 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 17:07:23.176 [http-nio-8080-exec-1] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:07:23.248 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:07:23.248 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:07:23.249 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:07:23.253 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:07:23.253 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.254 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28eedb1b] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.254 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1287440188 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.256 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28eedb1b]
2025-11-06 17:07:23.280 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:07:23.281 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:23.281 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.281 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b39e2c3] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.282 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1290781764 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.285 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b39e2c3]
2025-11-06 17:07:23.338 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:07:23.338 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:23.340 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.340 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d84169] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.344 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@941394718 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.347 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35d84169]
2025-11-06 17:07:23.348 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.348 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ac4a84] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.348 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@95710932 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.350 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ac4a84]
2025-11-06 17:07:23.350 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:07:23.350 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54794b20] was not registered for synchronization because synchronization is not active
2025-11-06 17:07:23.351 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1866122049 wrapping com.mysql.cj.jdbc.ConnectionImpl@6908fad1] will not be managed by Spring
2025-11-06 17:07:23.353 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54794b20]
2025-11-06 17:07:23.386 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:07:23.386 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:07:26.017 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: e21ee5d3-03b0-702e-6747-71ceaebddba8, 当前在线用户数: 0
2025-11-06 17:07:26.017 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:12:44.195 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 17:12:44.203 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 17:12:47.188 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 17:12:47.235 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 51648 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:12:47.236 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:12:47.238 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:12:47.282 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 17:12:47.282 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:12:47.927 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:12:47.928 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:12:47.928 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:12:47.928 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:12:47.928 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:12:47.929 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:12:47.932 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:12:47.932 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:12:47.932 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:12:47.933 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:12:47.933 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:12:47.933 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:12:47.933 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:12:47.933 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:12:47.934 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:12:47.934 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:12:47.934 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:12:47.934 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:12:47.935 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:12:47.935 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:12:47.935 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:12:47.935 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:12:47.936 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:12:47.936 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:12:47.936 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:12:47.936 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:12:47.937 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:12:47.937 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:12:47.937 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:12:47.937 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:12:47.937 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:12:47.938 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:12:47.938 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:12:48.327 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:12:48.335 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:48.336 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:12:48.336 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:12:48.376 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:12:48.376 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1093 ms
2025-11-06 17:12:48.407 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:12:48.827 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:12:48.827 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:12:49.234 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:12:49.259 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:49.273 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:12:49.281 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.564 seconds (process running for 3.485)
2025-11-06 17:12:54.758 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-11-06 17:12:54.761 [Thread-6] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:54.843 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 51648 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:12:54.844 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:12:54.844 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:12:55.074 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:12:55.075 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:12:55.076 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:12:55.077 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:12:55.077 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:12:55.077 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:12:55.077 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:12:55.078 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:12:55.078 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:12:55.078 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:12:55.078 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:12:55.078 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:12:55.079 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:12:55.080 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:12:55.081 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:12:55.138 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:12:55.139 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:55.139 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:12:55.139 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:12:55.154 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:12:55.154 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 308 ms
2025-11-06 17:12:55.161 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:12:55.164 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webSocketConfig' defined in file [E:\temimi\temimi-backend\target\classes\com\temimi\config\WebSocketConfig.class]: Post-processing of merged bean definition failed
2025-11-06 17:12:55.164 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-06 17:12:55.170 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-06 17:12:55.192 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webSocketConfig' defined in file [E:\temimi\temimi-backend\target\classes\com\temimi\config\WebSocketConfig.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:577)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.temimi.BackendApplication.main(BackendApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.temimi.config.WebSocketConfig] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3df5b11a]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:757)
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:689)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:431)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:412)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1085)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:574)
	... 20 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/temimi/handler/DanmuWebSocketHandler
	at java.base/java.lang.Class.getDeclaredFields0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2371)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:752)
	... 26 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.temimi.handler.DanmuWebSocketHandler
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 30 common frames omitted
2025-11-06 17:12:57.714 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 51648 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:12:57.715 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:12:57.715 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:12:58.049 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:12:58.049 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:12:58.050 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:12:58.050 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:12:58.050 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:12:58.050 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:12:58.051 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:12:58.052 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:12:58.052 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:12:58.052 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:12:58.053 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:12:58.053 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:12:58.054 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:12:58.054 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:12:58.054 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:12:58.054 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:12:58.055 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:12:58.055 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:12:58.055 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:12:58.055 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:12:58.056 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:12:58.057 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:12:58.058 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:12:58.058 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:12:58.058 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:12:58.104 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:12:58.105 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:58.105 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:12:58.105 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:12:58.117 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:12:58.117 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 398 ms
2025-11-06 17:12:58.122 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:12:58.312 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:12:58.312 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:12:58.492 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:12:58.508 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:12:58.515 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:12:58.518 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.85 seconds (process running for 12.722)
2025-11-06 17:12:58.519 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 17:13:08.124 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 113 class path changes (0 additions, 112 deletions, 1 modification)
2025-11-06 17:13:08.125 [Thread-8] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:08.199 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 51648 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:13:08.200 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:13:08.200 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:13:08.295 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 17:13:08.323 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:13:08.323 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:08.323 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:13:08.323 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:13:08.335 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:13:08.335 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 134 ms
2025-11-06 17:13:08.414 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:13:08.418 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:08.421 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:13:08.424 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.254 seconds (process running for 22.628)
2025-11-06 17:13:08.425 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 17:13:13.114 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 112 class path changes (112 additions, 0 deletions, 0 modifications)
2025-11-06 17:13:13.115 [Thread-17] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:13.171 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 51648 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:13:13.171 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:13:13.171 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:13:13.301 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:13:13.302 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:13:13.303 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:13:13.304 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:13:13.305 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:13:13.348 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:13:13.348 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:13.348 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:13:13.349 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:13:13.359 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:13:13.360 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 188 ms
2025-11-06 17:13:13.365 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:13:13.514 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:13:13.514 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:13:13.688 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:13:13.703 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:13:13.707 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:13:13.710 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.56 seconds (process running for 27.915)
2025-11-06 17:13:13.718 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JwtAuthenticationTokenFilter matched:
      - @ConditionalOnProperty (jwt.enabled=true) matched (OnPropertyCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 17:13:31.816 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 17:13:31.816 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 17:13:31.818 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-06 17:13:31.825 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:13:31.826 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:31.826 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:13:31.911 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:13:31.911 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:31.921 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:31.951 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:31.960 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525430a1] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:31.964 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:31.965 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f70c24d] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:31.973 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 17:13:32.304 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4331945a
2025-11-06 17:13:32.306 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 17:13:32.314 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@9745193 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:32.315 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@977194732 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:32.421 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525430a1]
2025-11-06 17:13:32.430 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f70c24d]
2025-11-06 17:13:32.431 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:32.431 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5679bec] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:32.431 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@215123236 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:32.439 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5679bec]
2025-11-06 17:13:32.440 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:32.441 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c2a197a] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:32.441 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@605687061 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:32.444 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c2a197a]
2025-11-06 17:13:32.539 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:13:32.539 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:32.543 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:13:32.543 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:32.543 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:13:32.548 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:13:32.549 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:32.550 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:32.554 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:32.555 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551e8aa0] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:32.555 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2045308342 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:32.559 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551e8aa0]
2025-11-06 17:13:32.622 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:13:32.622 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:32.622 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:13:32.627 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c67ef245-0f50-4a06-8e62-d6be3fcc7c08
2025-11-06 17:13:32.627 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c67ef245-0f50-4a06-8e62-d6be3fcc7c08, 当前在线用户数: 1
2025-11-06 17:13:32.628 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:32.629 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:32.629 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b9646a] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:32.630 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@307171164 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:32.633 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33b9646a]
2025-11-06 17:13:32.641 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:13:32.643 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:13:32.645 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:13:32.646 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:32.648 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:32.648 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20305d0b] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:32.649 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@451234504 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:32.661 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20305d0b]
2025-11-06 17:13:32.671 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:13:35.907 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:13:35.908 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:35.908 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:13:35.914 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:35.915 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:35.916 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154df69f] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:35.916 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1251571033 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:35.919 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@154df69f]
2025-11-06 17:13:35.939 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:13:35.940 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:35.941 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:13:35.941 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:35.941 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:13:35.944 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 1f4022ee-85f3-d8ad-bc83-f93e7122e9e8
2025-11-06 17:13:35.944 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: c67ef245-0f50-4a06-8e62-d6be3fcc7c08
2025-11-06 17:13:35.946 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c67ef245-0f50-4a06-8e62-d6be3fcc7c08, 当前在线用户数: 0
2025-11-06 17:13:35.946 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:13:35.947 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 1f4022ee-85f3-d8ad-bc83-f93e7122e9e8, 当前在线用户数: 1
2025-11-06 17:13:35.947 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:13:35.948 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:13:35.948 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:13:35.950 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:35.951 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:35.951 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784a90b] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:35.952 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1551844314 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:35.955 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@784a90b]
2025-11-06 17:13:35.990 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:13:35.990 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:35.991 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:13:35.996 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:35.997 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:35.997 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9f65ac] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:35.998 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1493493406 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.000 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9f65ac]
2025-11-06 17:13:36.031 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:13:36.031 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.031 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.032 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5b63eb] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.033 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@246641721 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.037 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5b63eb]
2025-11-06 17:13:36.067 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:13:36.067 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.069 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:13:36.070 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:13:36.070 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:13:36.191 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:13:36.191 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.194 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.194 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337206c] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.195 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1662052504 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.197 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1337206c]
2025-11-06 17:13:36.198 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.198 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a03127] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.198 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2143178687 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.200 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55a03127]
2025-11-06 17:13:36.200 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.201 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfdbc61] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.201 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@159422448 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.201 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:13:36.201 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.203 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfdbc61]
2025-11-06 17:13:36.257 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:13:36.257 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.259 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.259 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399c23d] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.266 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2130405898 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.267 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:13:36.268 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.269 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.270 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccb8e86] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.271 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1255358461 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:36.273 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ccb8e86]
2025-11-06 17:13:36.277 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399c23d]
2025-11-06 17:13:36.278 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.278 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced3e34] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.278 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2059309882 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.281 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced3e34]
2025-11-06 17:13:36.281 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.281 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@480ca19e] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.282 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@232073781 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.282 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@480ca19e]
2025-11-06 17:13:36.313 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:13:36.313 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:36.313 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:13:36.316 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:36.316 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.316 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267acd37] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.317 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1770861598 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:36.318 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267acd37]
2025-11-06 17:13:36.499 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:13:36.499 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.545 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:13:36.545 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:13:36.546 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.546 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:36.547 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:13:36.547 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.547 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a323dec] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.550 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:36.550 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@26981985 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.551 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a323dec]
2025-11-06 17:13:36.570 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.570 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c5ddad] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.570 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@932356565 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.571 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58c5ddad]
2025-11-06 17:13:36.571 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.571 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747f438c] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.574 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1624781251 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.579 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@747f438c]
2025-11-06 17:13:36.584 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:13:36.584 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.585 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:36.585 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ed2546d] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:36.587 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@742821850 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:36.589 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ed2546d]
2025-11-06 17:13:36.594 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:13:36.594 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.872 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:36.872 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:36.886 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:13:36.887 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:13:37.201 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:37.201 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:37.465 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:37.466 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:43.593 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ","data":{"content":"你还哦","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":5.024186}}
2025-11-06 17:13:43.606 [http-nio-8080-exec-2] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"你还哦","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":5.024186}"; line: 1, column: 31] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"你还哦","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":5.024186}"; line: 1, column: 31] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1719)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1697)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3740)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:137)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 17:13:46.352 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 1f4022ee-85f3-d8ad-bc83-f93e7122e9e8, 当前在线用户数: 0
2025-11-06 17:13:46.352 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:13:46.376 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:13:46.374 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:13:46.898 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:13:46.900 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:46.901 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:13:46.918 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:46.920 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:46.921 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d0e87a] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:46.924 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@652774282 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:46.933 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36d0e87a]
2025-11-06 17:13:46.949 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:13:46.952 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:46.966 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 6bae09fb-6e85-65eb-de63-56ca152fa2e1
2025-11-06 17:13:46.967 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 6bae09fb-6e85-65eb-de63-56ca152fa2e1, 当前在线用户数: 1
2025-11-06 17:13:46.969 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:13:46.972 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:13:46.973 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:13:46.986 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:13:46.987 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:46.988 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:13:47.008 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:13:47.010 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:47.010 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:47.011 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:13:47.012 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.018 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4545c1c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.020 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:47.019 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2051127133 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.021 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.026 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4545c1c8]
2025-11-06 17:13:47.026 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff4e7d4] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.030 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1138737341 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.037 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ff4e7d4]
2025-11-06 17:13:47.064 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:13:47.064 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.065 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.066 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f1970] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.068 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1244297800 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.085 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693f1970]
2025-11-06 17:13:47.092 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:13:47.093 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.097 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:13:47.098 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:13:47.099 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:13:47.140 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:13:47.141 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.143 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.144 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4914771] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.146 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2065219685 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:47.151 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4914771]
2025-11-06 17:13:47.153 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.153 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d1a80] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.155 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1163976750 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:47.159 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@610d1a80]
2025-11-06 17:13:47.160 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.161 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6825981a] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.163 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1190122572 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:47.167 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6825981a]
2025-11-06 17:13:47.193 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:13:47.193 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.247 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:13:47.248 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.251 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.251 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e16371] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.264 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1638476441 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.271 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e16371]
2025-11-06 17:13:47.272 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.273 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5796eaa1] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.273 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2135162664 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.277 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5796eaa1]
2025-11-06 17:13:47.278 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.279 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc32f78] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.281 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@232784771 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.284 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc32f78]
2025-11-06 17:13:47.341 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:13:47.341 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.342 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.342 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59513c11] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.345 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1187800196 wrapping com.mysql.cj.jdbc.ConnectionImpl@5dc4d5ae] will not be managed by Spring
2025-11-06 17:13:47.348 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59513c11]
2025-11-06 17:13:47.356 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:13:47.356 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:47.356 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:13:47.368 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:47.370 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.370 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ab04f2] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.372 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@456635138 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.375 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ab04f2]
2025-11-06 17:13:47.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:13:47.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.496 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:13:47.496 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:13:47.496 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:13:47.509 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:13:47.516 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.517 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b59b82] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.517 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@358100986 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.520 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b59b82]
2025-11-06 17:13:47.520 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.520 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@895b47c] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.522 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@743987047 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.527 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:13:47.527 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.528 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@895b47c]
2025-11-06 17:13:47.529 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.529 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed198b1] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.536 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@569427006 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.540 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed198b1]
2025-11-06 17:13:47.604 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:13:47.604 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.605 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:13:47.605 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5b1104] was not registered for synchronization because synchronization is not active
2025-11-06 17:13:47.611 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@792760284 wrapping com.mysql.cj.jdbc.ConnectionImpl@4331945a] will not be managed by Spring
2025-11-06 17:13:47.612 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b5b1104]
2025-11-06 17:13:47.664 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:47.664 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.673 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:13:47.673 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:13:47.867 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:13:47.867 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:47.990 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:47.990 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:48.316 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:13:48.317 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:13:48.842 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:13:48.843 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:15:01.196 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:15:01.196 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:15:02.515 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:15:02.515 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:15:02.823 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:15:02.823 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:15:02.848 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:15:02.849 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:15:07.802 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:15:07.803 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:14.399 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 17:18:14.419 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 17:18:14.422 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:18:14.422 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:18:14.422 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 6bae09fb-6e85-65eb-de63-56ca152fa2e1, 当前在线用户数: 0
2025-11-06 17:18:14.422 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:18:17.238 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 17:18:17.289 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 56876 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:18:17.289 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:18:17.290 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:18:17.336 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 17:18:17.336 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:18:17.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:18:17.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:18:17.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:18:17.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:18:17.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:18:17.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:18:17.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:18:17.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:18:17.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:18:17.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:18:17.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:18:17.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:18:17.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:18:17.989 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:18:17.990 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:18:17.990 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:18:17.990 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:18:17.990 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:18:17.991 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:18:18.359 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:18:18.366 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:18:18.367 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:18:18.367 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:18:18.408 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:18:18.409 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1072 ms
2025-11-06 17:18:18.443 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:18:18.875 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:18:18.875 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:18:19.298 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:18:19.320 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:18:19.335 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:18:19.342 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.51 seconds (process running for 3.103)
2025-11-06 17:18:27.036 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 17:18:27.037 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 17:18:27.038 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 17:18:27.046 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:18:27.047 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:18:27.047 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:18:27.116 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:18:27.145 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.151 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2188f31c] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.154 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:18:27.155 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.161 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 17:18:27.200 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:18:27.201 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.204 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:18:27.205 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.216 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.216 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a80067e] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.229 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:18:27.230 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:18:27.233 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.234 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6640e308] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.237 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:18:27.371 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67187f6d
2025-11-06 17:18:27.373 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 17:18:27.378 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@526290397 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.378 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1356578221 wrapping com.mysql.cj.jdbc.ConnectionImpl@2daabc01] will not be managed by Spring
2025-11-06 17:18:27.397 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@890643678 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fe7b609] will not be managed by Spring
2025-11-06 17:18:27.444 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2188f31c]
2025-11-06 17:18:27.444 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a80067e]
2025-11-06 17:18:27.446 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.446 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a4811a] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.446 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@769771508 wrapping com.mysql.cj.jdbc.ConnectionImpl@2daabc01] will not be managed by Spring
2025-11-06 17:18:27.451 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a4811a]
2025-11-06 17:18:27.452 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.453 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce3c849] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.454 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@41995950 wrapping com.mysql.cj.jdbc.ConnectionImpl@2daabc01] will not be managed by Spring
2025-11-06 17:18:27.455 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6640e308]
2025-11-06 17:18:27.456 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.456 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d9b619] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.457 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce3c849]
2025-11-06 17:18:27.457 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1288684264 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fe7b609] will not be managed by Spring
2025-11-06 17:18:27.460 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40d9b619]
2025-11-06 17:18:27.460 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.462 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba3efd1] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.467 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@650640834 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fe7b609] will not be managed by Spring
2025-11-06 17:18:27.473 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba3efd1]
2025-11-06 17:18:27.527 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:18:27.527 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.527 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:18:27.527 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:18:27.528 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:18:27.528 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.528 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:18:27.528 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.529 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74702724] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.530 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2058868698 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.531 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:18:27.531 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.534 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74702724]
2025-11-06 17:18:27.535 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:18:27.536 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 31e06d41-039e-f2c3-3c59-b1dd4b5559e9
2025-11-06 17:18:27.537 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.537 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 31e06d41-039e-f2c3-3c59-b1dd4b5559e9, 当前在线用户数: 1
2025-11-06 17:18:27.537 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe3fd22] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.538 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2143731566 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.541 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fe3fd22]
2025-11-06 17:18:27.543 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:18:27.553 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:18:27.567 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:18:27.837 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:18:27.838 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.839 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:18:27.839 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:18:27.839 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:18:27.843 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:18:27.843 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:18:27.843 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:18:27.844 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:18:27.845 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.845 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6255ea8f] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.845 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@718141543 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.847 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6255ea8f]
2025-11-06 17:18:27.847 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:18:27.855 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:18:27.855 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.856 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.857 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@427d991e] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.860 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:18:27.860 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:27.861 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:18:27.861 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:27.861 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1180157746 wrapping com.mysql.cj.jdbc.ConnectionImpl@2daabc01] will not be managed by Spring
2025-11-06 17:18:27.861 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:18:27.865 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@427d991e]
2025-11-06 17:18:27.869 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:18:27.870 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.871 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354c51e3] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.873 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@219223414 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fe7b609] will not be managed by Spring
2025-11-06 17:18:27.880 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354c51e3]
2025-11-06 17:18:27.886 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:27.887 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:27.890 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.891 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e69c78d] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.891 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@496855639 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.892 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e69c78d]
2025-11-06 17:18:27.893 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:27.893 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27659e3b] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:27.895 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1039984449 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:27.900 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27659e3b]
2025-11-06 17:18:28.185 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:18:28.185 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:28.186 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:28.186 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea92096] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:28.189 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@780591065 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:28.197 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ea92096]
2025-11-06 17:18:28.201 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:18:28.201 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:28.201 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:28.201 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:28.202 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:18:28.203 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4448b394] was not registered for synchronization because synchronization is not active
2025-11-06 17:18:28.204 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1044831495 wrapping com.mysql.cj.jdbc.ConnectionImpl@67187f6d] will not be managed by Spring
2025-11-06 17:18:28.219 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4448b394]
2025-11-06 17:18:28.515 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:28.516 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:28.703 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:28.703 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:28.872 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:28.873 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:28.940 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:28.941 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:29.025 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:29.025 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:29.034 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:29.034 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:29.256 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:29.256 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:29.272 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:29.272 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:29.349 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:29.349 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:29.395 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:29.396 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:35.166 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ","data":{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}}
2025-11-06 17:18:35.180 [http-nio-8080-exec-9] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}"; line: 1, column: 30] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}"; line: 1, column: 30] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1719)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1697)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3740)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:137)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 17:18:38.230 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:38.230 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:47.237 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:47.237 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:47.621 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:47.623 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:47.627 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:47.627 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:18:47.672 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:18:47.673 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:18:54.265 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:18:54.265 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:19:09.259 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ","data":{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":11.217021}}
2025-11-06 17:19:09.261 [http-nio-8080-exec-8] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":11.217021}"; line: 1, column: 30] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "fontsize" (class com.temimi.model.dto.DanmuMessageDTO), not marked as ignorable (4 known properties: "content", "mode", "time", "color"])
 at [Source: (String)"{"content":"鸣潮","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":11.217021}"; line: 1, column: 30] (through reference chain: com.temimi.model.dto.DanmuMessageDTO["fontsize"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1719)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1697)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3740)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:137)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 17:21:40.652 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 17:21:40.676 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 17:21:40.683 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:21:40.683 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:21:40.683 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 31e06d41-039e-f2c3-3c59-b1dd4b5559e9, 当前在线用户数: 0
2025-11-06 17:21:40.684 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:21:46.713 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 17:21:46.758 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 17:21:46.758 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 17:21:46.759 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 17:21:46.801 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 17:21:46.801 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 17:21:47.433 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 17:21:47.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 17:21:47.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 17:21:47.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 17:21:47.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 17:21:47.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 17:21:47.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 17:21:47.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 17:21:47.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 17:21:47.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 17:21:47.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 17:21:47.439 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 17:21:47.439 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 17:21:47.439 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 17:21:47.439 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 17:21:47.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 17:21:47.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 17:21:47.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 17:21:47.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 17:21:47.441 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 17:21:47.441 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 17:21:47.442 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 17:21:47.442 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 17:21:47.442 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 17:21:47.442 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 17:21:47.442 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 17:21:47.824 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 17:21:47.832 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 17:21:47.832 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 17:21:47.832 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 17:21:47.875 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 17:21:47.876 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1075 ms
2025-11-06 17:21:47.906 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 17:21:48.322 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 17:21:48.322 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 17:21:48.725 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 17:21:48.747 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 17:21:48.766 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 17:21:48.773 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.457 seconds (process running for 2.985)
2025-11-06 17:23:12.372 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 17:23:12.378 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-06 17:23:12.390 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:23:12.390 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:23:12.393 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:12.393 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:12.395 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:23:12.435 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:23:12.436 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:12.439 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:23:12.441 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:12.558 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:12.574 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:12.583 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfa225d] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:12.583 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@539d0455] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:12.609 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 17:23:12.617 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:12.623 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:12.623 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3459bb] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:12.636 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:23:12.637 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:23:12.647 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:23:12.973 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@503b3c83
2025-11-06 17:23:12.976 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 17:23:12.983 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1689521741 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:12.983 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1902395166 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.002 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1493629469 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:23:13.081 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@539d0455]
2025-11-06 17:23:13.080 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f3459bb]
2025-11-06 17:23:13.082 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.083 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650f295e] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.084 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@376508700 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.092 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@650f295e]
2025-11-06 17:23:13.093 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.093 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a4300e] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.095 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1863334309 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.096 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dfa225d]
2025-11-06 17:23:13.097 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.098 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a4300e]
2025-11-06 17:23:13.098 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dda00e5] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.099 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1737932226 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:13.102 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dda00e5]
2025-11-06 17:23:13.102 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.102 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ff80417] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.104 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@318306341 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:13.111 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ff80417]
2025-11-06 17:23:13.180 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:23:13.180 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:23:13.182 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.182 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.182 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:23:13.183 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:23:13.183 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:13.185 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.185 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:23:13.185 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.186 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f7e709] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.188 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@654869923 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.191 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: bf95ebe0-cc92-9370-a272-9bdd04cdfe6c
2025-11-06 17:23:13.193 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: bf95ebe0-cc92-9370-a272-9bdd04cdfe6c, 当前在线用户数: 1
2025-11-06 17:23:13.194 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:13.194 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f7e709]
2025-11-06 17:23:13.197 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.201 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387864e9] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.205 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1563875304 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.212 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387864e9]
2025-11-06 17:23:13.217 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:23:13.219 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:23:13.238 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:23:13.497 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:23:13.497 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:23:13.497 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:23:13.498 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:13.498 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.499 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:13.499 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:23:13.501 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:23:13.513 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:13.513 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:23:13.513 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:23:13.513 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:13.514 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.514 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:13.516 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:23:13.516 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf39832] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.522 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.526 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55efd58f] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.527 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:13.529 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.528 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1892786357 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:23:13.528 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@634441688 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.533 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:13.533 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55efd58f]
2025-11-06 17:23:13.534 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf39832]
2025-11-06 17:23:13.534 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.538 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f9e6d71] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.542 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1394038710 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.550 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f9e6d71]
2025-11-06 17:23:13.568 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:23:13.570 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:23:13.585 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.586 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2284cac4] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.586 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@250576773 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.588 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2284cac4]
2025-11-06 17:23:13.588 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.589 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3512005f] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.594 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@894616874 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.599 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3512005f]
2025-11-06 17:23:13.866 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:23:13.867 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:23:13.867 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.867 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.870 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.872 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb6570e] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.873 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:13.873 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ab9f16] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:13.874 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@533720253 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:13.877 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1871363413 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:13.881 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:13.881 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:13.887 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fb6570e]
2025-11-06 17:23:13.907 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ab9f16]
2025-11-06 17:23:14.194 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:14.194 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:18.363 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ","data":{"content":"你好","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":3.471168}}
2025-11-06 17:23:18.386 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:18.387 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.390 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@965164392 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will be managed by Spring
2025-11-06 17:23:18.404 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.404 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d] from current transaction
2025-11-06 17:23:18.407 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.407 [http-nio-8080-exec-2] INFO  c.t.service.impl.DanmuServiceImpl - 弹幕发送成功, id=4, vid=11, uid=14, content=你好
2025-11-06 17:23:18.408 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.408 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.409 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3619df7d]
2025-11-06 17:23:18.412 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕保存成功: vid=11, uid=14, content=你好
2025-11-06 17:23:18.417 [http-nio-8080-exec-2] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:168)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 17:23:20.169 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: bf95ebe0-cc92-9370-a272-9bdd04cdfe6c, 当前在线用户数: 0
2025-11-06 17:23:20.170 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:23:20.169 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:23:20.170 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:23:20.680 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:23:20.681 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:20.681 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:23:20.689 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:20.690 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.690 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e7fc5b] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.691 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@11933647 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.695 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e7fc5b]
2025-11-06 17:23:20.715 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:23:20.716 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:20.717 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:23:20.718 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:20.718 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:23:20.721 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: a89a405a-857f-1106-a02d-3caebc29f837
2025-11-06 17:23:20.721 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: a89a405a-857f-1106-a02d-3caebc29f837, 当前在线用户数: 1
2025-11-06 17:23:20.722 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:23:20.724 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:23:20.724 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:23:20.726 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:20.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf53231] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.728 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@159550315 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.733 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf53231]
2025-11-06 17:23:20.778 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:23:20.779 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:20.779 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:23:20.784 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:20.784 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.784 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@744156f6] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.785 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1658135497 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.787 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@744156f6]
2025-11-06 17:23:20.880 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:23:20.881 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:20.881 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.882 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef931dd] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.883 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@280350925 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:20.891 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef931dd]
2025-11-06 17:23:20.922 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:23:20.922 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:20.924 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:23:20.925 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:23:20.925 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:23:20.968 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:23:20.969 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:20.970 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.971 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a23d190] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.971 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1055178259 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.974 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a23d190]
2025-11-06 17:23:20.974 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.975 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573f80ac] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.975 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@863270026 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.978 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@573f80ac]
2025-11-06 17:23:20.979 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:20.979 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b0cadd7] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:20.980 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@547186426 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:20.983 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b0cadd7]
2025-11-06 17:23:21.012 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:23:21.012 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.022 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:23:21.022 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.024 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.025 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d161e11] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.030 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@385742636 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:23:21.035 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d161e11]
2025-11-06 17:23:21.036 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.036 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a77fa44] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.036 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1910947772 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:23:21.039 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a77fa44]
2025-11-06 17:23:21.040 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.040 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66df99c5] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.042 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1397746304 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:23:21.043 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66df99c5]
2025-11-06 17:23:21.049 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:23:21.049 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.050 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.051 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198c7b6f] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.051 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1568086753 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:21.053 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198c7b6f]
2025-11-06 17:23:21.101 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:23:21.101 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:21.101 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:23:21.106 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:21.107 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.107 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ad9825] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.108 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@611906856 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:21.109 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ad9825]
2025-11-06 17:23:21.271 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:23:21.271 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.302 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:23:21.302 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:23:21.302 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:23:21.306 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:23:21.310 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.310 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646305b7] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.311 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1212872110 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:21.312 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646305b7]
2025-11-06 17:23:21.312 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.312 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21809420] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.313 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1958356150 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:21.318 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21809420]
2025-11-06 17:23:21.333 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:23:21.333 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.334 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.335 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6b2843] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.340 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@841805933 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:23:21.342 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6b2843]
2025-11-06 17:23:21.378 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:23:21.378 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:21.378 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.378 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.379 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:23:21.380 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5035672d] was not registered for synchronization because synchronization is not active
2025-11-06 17:23:21.384 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:23:21.384 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:23:21.386 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@28388942 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:23:21.387 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5035672d]
2025-11-06 17:23:21.657 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:23:21.658 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:21.705 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:21.705 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:22.030 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:22.030 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:22.183 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:23:22.191 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 17:23:22.280 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:22.282 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:23:22.601 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:23:22.601 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:23:25.560 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:23:25.560 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:29:59.781 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:29:59.781 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: a89a405a-857f-1106-a02d-3caebc29f837, 当前在线用户数: 0
2025-11-06 17:29:59.781 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:29:59.781 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:30:00.299 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:30:00.299 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:00.299 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:30:00.305 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:00.306 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.306 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a11c20a] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.307 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1473386644 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.309 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a11c20a]
2025-11-06 17:30:00.334 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:30:00.334 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.337 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:30:00.337 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:00.337 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:30:00.339 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: b53d9a3a-5ec7-22c1-a956-62f52f22a95f
2025-11-06 17:30:00.339 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: b53d9a3a-5ec7-22c1-a956-62f52f22a95f, 当前在线用户数: 1
2025-11-06 17:30:00.339 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:30:00.341 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:30:00.341 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:30:00.346 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:00.348 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.348 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b28d7ec] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.349 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@236948218 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.351 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b28d7ec]
2025-11-06 17:30:00.405 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:30:00.405 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:00.405 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:30:00.409 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:00.410 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.411 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e77612] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.412 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@772220301 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.415 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e77612]
2025-11-06 17:30:00.501 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:30:00.501 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.501 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.501 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7baa55] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.502 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2018325799 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:30:00.507 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e7baa55]
2025-11-06 17:30:00.550 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:30:00.550 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.552 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:30:00.552 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:30:00.553 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:30:00.598 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:30:00.599 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.600 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.601 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423cd5c0] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.602 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1608341319 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.605 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423cd5c0]
2025-11-06 17:30:00.605 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.606 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715fcb2a] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.606 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1441366548 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.609 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715fcb2a]
2025-11-06 17:30:00.609 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.609 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19652328] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.609 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@384609717 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.612 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19652328]
2025-11-06 17:30:00.640 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:30:00.640 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.656 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:30:00.657 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.660 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.660 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28374a4b] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.664 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@104787301 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.668 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28374a4b]
2025-11-06 17:30:00.668 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.669 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7054f798] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.669 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@32532786 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.671 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7054f798]
2025-11-06 17:30:00.671 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.672 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28737e3a] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.672 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2135729307 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.674 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28737e3a]
2025-11-06 17:30:00.681 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:30:00.681 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.682 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.683 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9eaa26a] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.683 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1230982121 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.685 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9eaa26a]
2025-11-06 17:30:00.726 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:30:00.727 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:00.727 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:30:00.730 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:00.731 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.731 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b560b6e] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.731 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1541361566 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.734 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b560b6e]
2025-11-06 17:30:00.820 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:30:00.820 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.931 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:30:00.931 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:00.932 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:30:00.937 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:00.940 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.940 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4013ad1c] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.940 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1546925377 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.942 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4013ad1c]
2025-11-06 17:30:00.942 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.942 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58278f87] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.942 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@92381906 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:00.947 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58278f87]
2025-11-06 17:30:00.952 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:30:00.952 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.953 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.953 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd620f6] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.955 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1755726813 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:00.957 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd620f6]
2025-11-06 17:30:00.993 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:30:00.993 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:00.994 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:00.994 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132897f7] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:00.998 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@768414468 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:30:01.000 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132897f7]
2025-11-06 17:30:01.039 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:01.039 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:01.049 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:30:01.049 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:30:01.271 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:30:01.271 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:01.362 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:01.362 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:01.681 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:01.682 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:11.702 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:11.702 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:11.811 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:30:11.812 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:30:11.945 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:11.945 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:11.958 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:30:11.959 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:30:18.226 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:18.226 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:21.070 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: b53d9a3a-5ec7-22c1-a956-62f52f22a95f, 当前在线用户数: 0
2025-11-06 17:30:21.070 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:30:21.070 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:30:21.070 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:30:21.940 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:30:21.941 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:21.941 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:30:21.946 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:21.946 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:21.946 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afa8b3c] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:21.947 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1014046369 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:30:21.949 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afa8b3c]
2025-11-06 17:30:22.076 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:30:22.076 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.077 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:30:22.078 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:22.078 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:30:22.081 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 20ae25f1-ec69-2670-75c0-90cec63f26e2
2025-11-06 17:30:22.081 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 20ae25f1-ec69-2670-75c0-90cec63f26e2, 当前在线用户数: 1
2025-11-06 17:30:22.082 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:30:22.083 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:30:22.084 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:30:22.086 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:22.086 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.087 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d81aa7d] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.088 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1578929871 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.089 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d81aa7d]
2025-11-06 17:30:22.123 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:30:22.123 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:22.123 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:30:22.128 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:22.128 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.129 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb68d1d] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.129 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1412393791 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.131 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb68d1d]
2025-11-06 17:30:22.192 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:30:22.192 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.193 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.193 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198a5b8] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.194 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1884149575 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:22.198 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198a5b8]
2025-11-06 17:30:22.246 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:30:22.247 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.249 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:30:22.249 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:30:22.250 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:30:22.388 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:30:22.388 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.389 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.389 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e4e3bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.389 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@286316633 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.392 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49e4e3bf]
2025-11-06 17:30:22.392 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.392 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4daf10] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.392 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:30:22.392 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1539173145 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.393 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.395 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4daf10]
2025-11-06 17:30:22.395 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.395 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:30:22.395 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@acc0eea] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.396 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.396 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1020204428 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.397 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.397 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f792ad2] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.397 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@acc0eea]
2025-11-06 17:30:22.401 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1779092935 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:22.405 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f792ad2]
2025-11-06 17:30:22.406 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.406 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fddb997] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.406 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@595934046 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:22.408 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fddb997]
2025-11-06 17:30:22.409 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.409 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f84c4d] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.409 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1268472804 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:22.411 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f84c4d]
2025-11-06 17:30:22.444 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:30:22.445 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.467 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:30:22.467 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.468 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.468 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174765ba] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.470 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@425323577 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:30:22.472 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174765ba]
2025-11-06 17:30:22.698 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:30:22.698 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:22.698 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:30:22.701 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:22.701 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.702 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332de35] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.702 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@959846134 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.704 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332de35]
2025-11-06 17:30:22.745 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:30:22.746 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.752 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:30:22.752 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:30:22.752 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.752 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:30:22.752 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:30:22.753 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.753 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec39971] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.755 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:30:22.755 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@678855436 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:30:22.757 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec39971]
2025-11-06 17:30:22.758 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.759 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@435a3828] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.759 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1903850424 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.760 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@435a3828]
2025-11-06 17:30:22.760 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.760 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5110c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.761 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1297672306 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.765 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:30:22.765 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.765 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f5110c8]
2025-11-06 17:30:22.766 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:30:22.766 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ef97778] was not registered for synchronization because synchronization is not active
2025-11-06 17:30:22.769 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2147303970 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:30:22.770 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ef97778]
2025-11-06 17:30:22.794 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:22.794 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:22.801 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:30:22.802 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:30:23.075 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:23.075 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:23.120 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:23.120 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:29.022 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:30:29.022 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:30:29.158 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:30:29.158 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:34:13.525 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:34:13.525 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:34:13.714 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:34:13.714 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:34:13.721 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:34:13.721 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:34:13.852 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:34:13.852 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:34:14.039 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:34:14.039 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:43.320 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:35:43.320 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 20ae25f1-ec69-2670-75c0-90cec63f26e2, 当前在线用户数: 0
2025-11-06 17:35:43.320 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:35:43.320 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:35:43.846 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:35:43.846 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:43.846 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:35:43.851 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:43.851 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:43.851 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edc16ff] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:43.852 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@975438848 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:43.853 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edc16ff]
2025-11-06 17:35:43.879 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:35:43.879 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:43.882 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: da6e6ee3-0631-1ef6-9395-69ac32b8693a
2025-11-06 17:35:43.883 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: da6e6ee3-0631-1ef6-9395-69ac32b8693a, 当前在线用户数: 1
2025-11-06 17:35:43.884 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:35:43.884 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:35:43.884 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:35:43.886 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:35:43.886 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:43.886 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:35:43.890 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:43.890 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:43.891 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41138cf3] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:43.892 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@988352941 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:35:43.894 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41138cf3]
2025-11-06 17:35:43.907 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:35:43.907 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:43.907 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:35:43.911 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:43.911 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:43.912 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e858e1] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:43.912 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1744038001 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:43.914 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e858e1]
2025-11-06 17:35:44.049 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:35:44.049 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.049 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.050 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1ade8] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.050 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1257153878 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:35:44.052 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1ade8]
2025-11-06 17:35:44.149 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:35:44.149 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.151 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:35:44.151 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:35:44.151 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:35:44.176 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:35:44.176 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.176 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:35:44.176 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.176 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.176 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5324db07] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.177 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1903676728 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.179 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5324db07]
2025-11-06 17:35:44.179 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.180 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c999a7] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.180 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1463849498 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.182 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c999a7]
2025-11-06 17:35:44.182 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.182 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d292b3] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.183 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@423110991 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.185 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d292b3]
2025-11-06 17:35:44.207 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:35:44.207 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:35:44.207 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.207 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.208 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.208 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7509012c] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.209 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1929708272 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.210 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7509012c]
2025-11-06 17:35:44.221 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:35:44.222 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:44.222 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:35:44.225 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:44.226 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.226 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5448cc2c] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.226 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@775789283 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.228 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5448cc2c]
2025-11-06 17:35:44.372 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:35:44.372 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.372 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.374 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fffcd60] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.376 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1518041369 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:44.377 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fffcd60]
2025-11-06 17:35:44.513 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:35:44.513 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:44.513 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:44.513 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735da86a] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:44.516 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@828331669 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:35:44.518 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735da86a]
2025-11-06 17:35:44.518 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:35:44.519 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:47.902 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:35:47.903 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:47.903 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:35:47.907 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:47.908 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:47.908 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e44793] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:47.909 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@801390551 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:35:47.911 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e44793]
2025-11-06 17:35:47.956 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:35:47.956 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:47.956 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:35:47.960 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:47.960 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:47.961 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fef1cea] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:47.961 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@838289914 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:47.962 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:35:47.962 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:47.963 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fef1cea]
2025-11-06 17:35:47.965 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: fa62a31d-d82d-2ccb-58d7-d219984af41f
2025-11-06 17:35:47.965 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: da6e6ee3-0631-1ef6-9395-69ac32b8693a
2025-11-06 17:35:47.966 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: da6e6ee3-0631-1ef6-9395-69ac32b8693a, 当前在线用户数: 0
2025-11-06 17:35:47.966 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:35:47.966 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: fa62a31d-d82d-2ccb-58d7-d219984af41f, 当前在线用户数: 1
2025-11-06 17:35:47.966 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:35:47.966 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:35:47.967 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:35:48.014 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:35:48.014 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:48.014 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:35:48.016 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:48.017 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.017 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d705ce] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.017 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@123703030 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.018 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d705ce]
2025-11-06 17:35:48.085 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:35:48.085 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.086 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.086 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@212cf89] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.087 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1952459133 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.089 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@212cf89]
2025-11-06 17:35:48.139 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:35:48.139 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.141 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:35:48.141 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:35:48.141 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 17:35:48.163 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:35:48.165 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.166 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.166 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf67711] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.166 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@368060020 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.170 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cf67711]
2025-11-06 17:35:48.170 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.171 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde7473] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.171 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@59753990 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.173 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:35:48.173 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.177 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde7473]
2025-11-06 17:35:48.178 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.178 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d555cf3] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.178 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1449907973 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.180 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d555cf3]
2025-11-06 17:35:48.279 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:35:48.280 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:35:48.280 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:35:48.280 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.280 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:35:48.281 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.281 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ef9bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.282 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@70415854 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.282 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:35:48.284 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ef9bf]
2025-11-06 17:35:48.284 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.284 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273bfd94] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.285 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@990696396 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:35:48.288 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@273bfd94]
2025-11-06 17:35:48.325 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:35:48.325 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.326 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.326 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271246cb] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.329 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@894268670 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.331 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271246cb]
2025-11-06 17:35:48.401 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:35:48.401 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:48.402 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:35:48.402 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e57b2e3] was not registered for synchronization because synchronization is not active
2025-11-06 17:35:48.404 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@659630817 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:35:48.406 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e57b2e3]
2025-11-06 17:35:48.494 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:35:48.495 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:35:49.061 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:35:49.061 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:35:50.346 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: fa62a31d-d82d-2ccb-58d7-d219984af41f, 当前在线用户数: 0
2025-11-06 17:35:50.347 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:35:50.382 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:35:50.384 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:36:09.795 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:36:09.795 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:09.796 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:36:09.800 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:09.801 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:09.801 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cd7122] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:09.802 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1145927888 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:09.804 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53cd7122]
2025-11-06 17:36:09.849 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:36:09.850 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:09.852 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:36:09.852 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:09.852 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:36:09.853 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 392eede0-63cf-0c28-59f2-28ab0e7ac190
2025-11-06 17:36:09.853 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 392eede0-63cf-0c28-59f2-28ab0e7ac190, 当前在线用户数: 1
2025-11-06 17:36:09.855 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:36:09.855 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:36:09.857 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:36:09.859 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:09.860 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:09.860 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6306641a] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:09.861 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@61971792 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:09.863 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6306641a]
2025-11-06 17:36:09.904 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:36:09.904 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:09.904 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:36:09.912 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:09.914 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:09.914 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5df32d] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:09.915 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1768977287 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:36:09.917 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5df32d]
2025-11-06 17:36:09.963 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:36:09.965 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:09.966 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:09.967 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15404344] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:09.968 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1144381937 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:09.971 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15404344]
2025-11-06 17:36:10.030 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:36:10.030 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.032 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:36:10.032 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:36:10.032 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:36:10.051 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:36:10.051 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.052 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.052 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e000f42] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.052 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1851318017 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:10.055 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e000f42]
2025-11-06 17:36:10.056 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.056 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d57c7b] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.056 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1727077948 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:10.059 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d57c7b]
2025-11-06 17:36:10.059 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.059 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a146baf] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.060 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@967961650 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:10.062 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a146baf]
2025-11-06 17:36:10.062 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:36:10.062 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.173 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:36:10.173 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:36:10.173 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:10.173 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.173 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:36:10.174 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.174 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4704efd8] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.174 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1514710111 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:10.175 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4704efd8]
2025-11-06 17:36:10.176 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:10.176 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.177 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd1da09] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.177 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1231631058 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:10.178 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd1da09]
2025-11-06 17:36:10.235 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:36:10.236 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.236 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.237 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b84a30d] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.238 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1463012275 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:10.239 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b84a30d]
2025-11-06 17:36:10.282 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:36:10.282 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:10.283 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:10.283 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58cc9a4c] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:10.285 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1776973837 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:10.287 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58cc9a4c]
2025-11-06 17:36:10.391 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:36:10.392 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.062 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 392eede0-63cf-0c28-59f2-28ab0e7ac190, 当前在线用户数: 0
2025-11-06 17:36:19.062 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:36:19.397 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:36:19.397 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:36:19.648 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:36:19.648 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:19.648 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:36:19.652 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:19.653 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.654 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7627e31a] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.655 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@528683358 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.657 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7627e31a]
2025-11-06 17:36:19.711 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:36:19.711 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.713 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:36:19.713 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:19.713 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:36:19.714 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 77250015-f848-4d35-f362-7f76249898be
2025-11-06 17:36:19.714 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 77250015-f848-4d35-f362-7f76249898be, 当前在线用户数: 1
2025-11-06 17:36:19.717 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:19.719 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:36:19.720 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:36:19.720 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:36:19.721 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.721 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ba04e] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.721 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@766925336 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.726 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ba04e]
2025-11-06 17:36:19.731 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:36:19.732 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:19.732 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:36:19.740 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:19.742 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.742 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfb6689] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.742 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@686856410 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.748 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dfb6689]
2025-11-06 17:36:19.795 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:36:19.796 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.796 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.796 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ed8e57] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.797 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@188629969 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.801 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ed8e57]
2025-11-06 17:36:19.923 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:36:19.924 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.927 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:36:19.927 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:36:19.927 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:36:19.944 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:36:19.944 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.945 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.945 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f7812b] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.946 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@25355637 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.948 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f7812b]
2025-11-06 17:36:19.948 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.948 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452a94b4] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.948 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2036902883 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.949 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:36:19.949 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:19.950 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452a94b4]
2025-11-06 17:36:19.951 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:19.951 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f1e145a] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:19.951 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@771795001 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:19.955 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f1e145a]
2025-11-06 17:36:20.031 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:36:20.031 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:20.032 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:20.032 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652c737c] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:20.035 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@203934322 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:36:20.037 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@652c737c]
2025-11-06 17:36:20.051 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:36:20.051 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:36:20.051 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:36:20.056 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:36:20.057 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:20.057 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4dfaf0] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:20.057 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@177713471 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:20.059 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4dfaf0]
2025-11-06 17:36:20.072 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:36:20.072 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:20.075 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:20.075 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a555d61] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:20.098 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@170657499 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:36:20.100 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a555d61]
2025-11-06 17:36:20.120 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:36:20.121 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:20.122 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:36:20.122 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46da436f] was not registered for synchronization because synchronization is not active
2025-11-06 17:36:20.125 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@841457403 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:36:20.128 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46da436f]
2025-11-06 17:36:20.283 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:36:20.283 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:36:24.560 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 77250015-f848-4d35-f362-7f76249898be, 当前在线用户数: 0
2025-11-06 17:36:24.560 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:36:24.602 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:36:24.602 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:39:02.158 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:39:02.158 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:39:02.158 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:39:02.162 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:39:02.162 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.164 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ec8d81] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.164 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2101321743 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:39:02.167 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68ec8d81]
2025-11-06 17:39:02.197 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:39:02.197 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.201 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 34cfcbd2-c148-783b-c369-a100589f8400
2025-11-06 17:39:02.202 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 34cfcbd2-c148-783b-c369-a100589f8400, 当前在线用户数: 1
2025-11-06 17:39:02.202 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:39:02.207 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:39:02.207 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:39:02.285 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:39:02.285 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:39:02.285 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:39:02.289 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:39:02.290 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.291 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5802f7] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.292 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1450494430 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:39:02.293 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5802f7]
2025-11-06 17:39:02.359 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:39:02.359 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:39:02.359 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:39:02.363 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:39:02.364 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.364 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ec58f0] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.364 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1524345422 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.367 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ec58f0]
2025-11-06 17:39:02.408 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:39:02.408 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.408 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.409 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0c316a] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.409 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@210580911 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.413 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0c316a]
2025-11-06 17:39:02.456 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:39:02.456 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.458 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:39:02.459 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:39:02.459 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:39:02.568 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:39:02.568 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:39:02.568 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.568 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.569 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.569 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3228159e] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.569 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1471420451 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.571 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3228159e]
2025-11-06 17:39:02.571 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.572 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:39:02.572 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d26f3c0] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.572 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.572 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1070635807 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.573 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.573 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b034363] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.573 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d26f3c0]
2025-11-06 17:39:02.574 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.574 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3379d096] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.574 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1237032394 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.576 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3379d096]
2025-11-06 17:39:02.576 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2100312851 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.579 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b034363]
2025-11-06 17:39:02.579 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.579 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f057733] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.580 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1133587299 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.581 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f057733]
2025-11-06 17:39:02.581 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.581 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58bffaed] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.582 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1285005862 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.583 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58bffaed]
2025-11-06 17:39:02.607 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:39:02.607 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.682 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:39:02.682 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.682 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.684 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd4e6bc] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.684 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1618007062 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.686 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd4e6bc]
2025-11-06 17:39:02.879 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:39:02.879 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:39:02.879 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:39:02.885 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:39:02.886 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.887 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e63c6f] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.887 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@996232772 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.890 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47e63c6f]
2025-11-06 17:39:02.912 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:39:02.912 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.912 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:39:02.912 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:39:02.912 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:39:02.912 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.912 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:39:02.914 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.914 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e51e663] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.916 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:39:02.917 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1612949279 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.918 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e51e663]
2025-11-06 17:39:02.922 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.922 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f63b3c5] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.922 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1069358637 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.924 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f63b3c5]
2025-11-06 17:39:02.924 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.924 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428e2616] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.925 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@3229721 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:39:02.927 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:39:02.927 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:02.927 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:39:02.928 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebbc7bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:39:02.929 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428e2616]
2025-11-06 17:39:02.931 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1310270030 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:39:02.934 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ebbc7bf]
2025-11-06 17:39:03.005 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:39:03.005 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:03.016 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:39:03.017 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:39:03.238 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:39:03.239 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:03.334 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:39:03.334 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:58.826 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:39:58.826 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:39:58.844 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:39:58.845 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:40:48.265 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:40:48.265 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:40:48.266 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:40:48.270 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:40:48.271 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:48.271 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467ea5f0] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:48.272 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@803123395 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:40:48.274 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467ea5f0]
2025-11-06 17:40:48.296 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:40:48.297 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:40:48.297 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:40:48.300 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:40:48.300 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:40:48.300 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:40:48.301 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:48.301 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fc3ab9a] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:48.301 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1313140206 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:40:48.303 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 17f46958-38fe-b27e-2ed0-c4d0a0dd7c78
2025-11-06 17:40:48.303 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 34cfcbd2-c148-783b-c369-a100589f8400
2025-11-06 17:40:48.303 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fc3ab9a]
2025-11-06 17:40:48.303 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 34cfcbd2-c148-783b-c369-a100589f8400, 当前在线用户数: 0
2025-11-06 17:40:48.303 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:40:48.303 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 17f46958-38fe-b27e-2ed0-c4d0a0dd7c78, 当前在线用户数: 1
2025-11-06 17:40:48.304 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:40:48.312 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:40:48.312 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:40:48.316 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:40:48.316 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:40:48.316 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:40:48.319 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:40:48.320 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:48.320 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53862024] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:48.321 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@874930446 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:40:48.322 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53862024]
2025-11-06 17:40:48.400 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:40:48.401 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:40:48.401 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:40:48.404 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:40:48.405 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:48.405 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b794948] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:48.405 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1012327096 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:40:48.407 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b794948]
2025-11-06 17:40:48.418 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:40:48.418 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:40:48.419 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:48.419 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cca2356] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:48.419 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@771078555 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:40:48.423 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cca2356]
2025-11-06 17:40:48.494 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:40:48.494 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:40:54.450 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 17:40:54.450 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:40:54.451 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:54.452 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2527fef8] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:54.456 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1986017041 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:40:54.459 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2527fef8]
2025-11-06 17:40:54.460 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:54.460 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509a906e] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:54.460 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@666238419 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:40:54.462 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509a906e]
2025-11-06 17:40:54.462 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:40:54.462 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a978f41] was not registered for synchronization because synchronization is not active
2025-11-06 17:40:54.462 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1846180765 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:40:54.464 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a978f41]
2025-11-06 17:40:54.692 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 17:40:54.692 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:40:59.524 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 17f46958-38fe-b27e-2ed0-c4d0a0dd7c78, 当前在线用户数: 0
2025-11-06 17:40:59.524 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:41:16.570 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:41:16.570 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:44:17.243 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:44:17.244 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:17.244 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:44:17.246 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:17.247 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.247 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea8164e] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.247 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1525059081 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:17.249 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea8164e]
2025-11-06 17:44:17.334 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:44:17.334 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:17.336 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 0d62b97b-af3b-3132-c9f3-622c3bb953a7
2025-11-06 17:44:17.337 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 0d62b97b-af3b-3132-c9f3-622c3bb953a7, 当前在线用户数: 1
2025-11-06 17:44:17.337 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:44:17.337 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:44:17.337 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:17.337 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:44:17.338 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:44:17.339 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:44:17.340 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:17.340 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.340 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50900fa9] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.341 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@919685435 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:17.342 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50900fa9]
2025-11-06 17:44:17.359 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:44:17.359 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:17.359 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:44:17.361 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:17.361 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.362 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cd5c3c] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.362 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1948994578 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:17.363 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cd5c3c]
2025-11-06 17:44:17.403 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:44:17.403 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:17.403 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.404 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c50913] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.404 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1948841704 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:17.407 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c50913]
2025-11-06 17:44:17.432 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:44:17.432 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:17.432 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.432 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369473d1] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.435 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1374855877 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:17.438 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369473d1]
2025-11-06 17:44:17.439 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.439 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189bd797] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.439 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1151501755 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:17.441 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189bd797]
2025-11-06 17:44:17.441 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:17.442 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd2bc7] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:17.442 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1169978180 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:17.444 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd2bc7]
2025-11-06 17:44:19.062 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:44:19.062 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:19.062 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:44:19.067 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:19.067 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.067 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d01cb6] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.068 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1739411564 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.070 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d01cb6]
2025-11-06 17:44:19.096 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:44:19.096 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:19.096 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:44:19.097 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:44:19.097 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.098 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:19.099 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 6b3fafd8-ae70-8485-dabc-2069e56e8854
2025-11-06 17:44:19.099 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 0d62b97b-af3b-3132-c9f3-622c3bb953a7
2025-11-06 17:44:19.099 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.099 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704e5ed0] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.099 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@127769531 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.099 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 0d62b97b-af3b-3132-c9f3-622c3bb953a7, 当前在线用户数: 0
2025-11-06 17:44:19.099 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:44:19.099 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 6b3fafd8-ae70-8485-dabc-2069e56e8854, 当前在线用户数: 1
2025-11-06 17:44:19.100 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:44:19.101 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704e5ed0]
2025-11-06 17:44:19.105 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:44:19.106 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:44:19.141 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:44:19.141 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:19.141 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:44:19.143 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:19.144 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.144 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cae0915] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.145 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@587876842 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.146 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cae0915]
2025-11-06 17:44:19.192 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:44:19.192 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.193 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.193 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6218c99e] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.193 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1140959036 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:19.196 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6218c99e]
2025-11-06 17:44:19.249 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:44:19.249 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.250 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:44:19.251 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:44:19.251 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:44:19.362 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:44:19.362 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.364 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.364 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@375dc505] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.364 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@207320664 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.366 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@375dc505]
2025-11-06 17:44:19.366 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.366 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd4d7fd] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.367 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@880296623 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.368 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd4d7fd]
2025-11-06 17:44:19.368 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.368 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c28b00e] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.369 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1200153929 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.369 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:44:19.369 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.370 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c28b00e]
2025-11-06 17:44:19.420 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:44:19.420 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:44:19.420 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.420 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.421 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.421 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf9a486] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.421 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.422 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb49745] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.422 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@963434630 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.424 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf9a486]
2025-11-06 17:44:19.424 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@720395940 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:19.429 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fb49745]
2025-11-06 17:44:19.429 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.429 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea3462c] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.430 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1208195068 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:19.432 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea3462c]
2025-11-06 17:44:19.432 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.432 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b65bbcf] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.433 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1871912617 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:19.434 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b65bbcf]
2025-11-06 17:44:19.465 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:44:19.465 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:19.465 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:44:19.467 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:19.467 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.468 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4231eb7b] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.468 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@44494173 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:44:19.470 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4231eb7b]
2025-11-06 17:44:19.511 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:44:19.511 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.714 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:44:19.714 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:44:19.715 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:44:19.715 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.715 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:44:19.715 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.715 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7181a7d6] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.716 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:44:19.716 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@582182339 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.717 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7181a7d6]
2025-11-06 17:44:19.719 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.719 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17176a44] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.720 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1592405835 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.721 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17176a44]
2025-11-06 17:44:19.722 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.722 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa73b76] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.722 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1993228076 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:44:19.725 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa73b76]
2025-11-06 17:44:19.747 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:44:19.747 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:44:19.747 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.747 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:19.747 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:44:19.748 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a4324f0] was not registered for synchronization because synchronization is not active
2025-11-06 17:44:19.750 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@681894827 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:44:19.751 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a4324f0]
2025-11-06 17:44:20.040 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:44:20.041 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:20.047 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:44:20.047 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:44:20.364 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:44:20.364 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:44:20.611 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:44:20.611 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.210 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:47:19.210 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:47:19.215 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:47:19.215 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.217 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:47:19.217 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:47:19.217 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:47:19.231 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:47:19.231 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.393 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:47:19.394 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.394 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.394 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b9c80f] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.395 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@551193951 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.396 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b9c80f]
2025-11-06 17:47:19.396 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.396 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d093668] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.396 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1114596470 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.397 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d093668]
2025-11-06 17:47:19.397 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.397 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dd540] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.398 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@285415931 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.399 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dd540]
2025-11-06 17:47:19.530 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:47:19.530 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.531 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.532 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e246ce6] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.533 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1519865294 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.535 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e246ce6]
2025-11-06 17:47:19.536 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.536 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b801bd] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.536 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@10606937 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.538 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b801bd]
2025-11-06 17:47:19.538 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.538 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db7a933] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.540 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@757265617 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.542 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@db7a933]
2025-11-06 17:47:19.553 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:47:19.553 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:47:19.553 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.553 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:47:19.553 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:47:19.555 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.555 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c37de6b] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.556 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1764898164 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.557 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:47:19.558 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c37de6b]
2025-11-06 17:47:19.561 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.561 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef24e08] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.561 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@172368743 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:47:19.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ef24e08]
2025-11-06 17:47:19.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35321350] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.565 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1499240944 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:47:19.616 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35321350]
2025-11-06 17:47:19.726 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:47:19.726 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:47:19.726 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:47:19.726 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:47:19.727 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.727 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:47:19.727 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.727 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.728 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5847b75a] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.729 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:47:19.729 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.729 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a5bf3f] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.729 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@871525770 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:47:19.730 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1953456475 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:47:19.731 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5847b75a]
2025-11-06 17:47:19.731 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a5bf3f]
2025-11-06 17:47:19.868 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:47:19.868 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:19.869 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:47:19.869 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dda215] was not registered for synchronization because synchronization is not active
2025-11-06 17:47:19.871 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@739239734 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:47:19.873 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52dda215]
2025-11-06 17:47:19.878 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:47:19.878 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:20.063 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:47:20.063 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:20.074 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:47:20.074 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:47:20.388 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:47:20.388 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:20.643 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:47:20.644 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:21.249 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:47:21.249 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:47:21.250 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:47:21.250 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:47:21.254 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 17:48:08.876 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 6b3fafd8-ae70-8485-dabc-2069e56e8854, 当前在线用户数: 0
2025-11-06 17:48:08.876 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:48:08.876 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:48:08.876 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:48:08.894 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:48:08.895 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:48:09.154 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:48:09.154 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:09.154 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:48:09.156 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:09.157 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.157 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29dd129] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.158 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2021518955 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.160 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29dd129]
2025-11-06 17:48:09.172 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:48:09.172 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.174 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: bf164752-f617-d5a7-e700-fb27c98e05b0
2025-11-06 17:48:09.175 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: bf164752-f617-d5a7-e700-fb27c98e05b0, 当前在线用户数: 1
2025-11-06 17:48:09.175 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:48:09.176 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:48:09.177 [http-nio-8080-exec-1] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:48:09.200 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:48:09.200 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:09.200 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:48:09.203 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:09.204 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.204 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fee895] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.205 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1544175151 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.206 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69fee895]
2025-11-06 17:48:09.267 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:48:09.267 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:09.267 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:48:09.270 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:09.270 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.270 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b764ad6] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.271 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1014059643 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.273 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b764ad6]
2025-11-06 17:48:09.321 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:48:09.321 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.322 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.322 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771d96ec] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.323 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@921620494 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.324 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771d96ec]
2025-11-06 17:48:09.366 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:48:09.366 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.367 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:48:09.368 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:48:09.368 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:48:09.409 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:48:09.410 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.411 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.411 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3d2fb4] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.411 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1292358706 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.413 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3d2fb4]
2025-11-06 17:48:09.413 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.413 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1d652a] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.413 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1776199506 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.416 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1d652a]
2025-11-06 17:48:09.416 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.416 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c866de] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.416 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@645755704 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.419 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c866de]
2025-11-06 17:48:09.461 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:48:09.461 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.481 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:48:09.481 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.482 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.482 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e80e0e0] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.484 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1543090283 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.487 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e80e0e0]
2025-11-06 17:48:09.487 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.488 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37716e2b] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.488 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1573144049 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.489 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37716e2b]
2025-11-06 17:48:09.489 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.489 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fffe3c7] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.490 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@323211301 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.491 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fffe3c7]
2025-11-06 17:48:09.512 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:48:09.512 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.513 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.513 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f87e817] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.513 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1197027260 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.514 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f87e817]
2025-11-06 17:48:09.589 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:48:09.589 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:09.589 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:48:09.592 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:09.593 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.593 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5e2be4] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.593 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@94888965 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:09.595 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5e2be4]
2025-11-06 17:48:09.636 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:48:09.636 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.744 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:48:09.744 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:09.744 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:48:09.747 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:09.749 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.749 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e63dc9] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.749 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1787912443 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.750 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e63dc9]
2025-11-06 17:48:09.750 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.751 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24fd1c86] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.751 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1714906533 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.756 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24fd1c86]
2025-11-06 17:48:09.775 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:48:09.776 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.776 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.776 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9fd6b2] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.778 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@731685561 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.780 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9fd6b2]
2025-11-06 17:48:09.838 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:48:09.838 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:09.839 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.839 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:09.840 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:09.840 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567e800f] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:09.843 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1624993196 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:09.845 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567e800f]
2025-11-06 17:48:09.845 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:09.846 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:10.100 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:48:10.101 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:10.162 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:10.162 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:10.475 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:10.475 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:10.594 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:10.594 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:10.737 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:10.737 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:10.754 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:10.755 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:10.824 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:10.825 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:10.875 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:10.875 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:10.905 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:10.905 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:11.018 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:11.018 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:15.924 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: bf164752-f617-d5a7-e700-fb27c98e05b0, 当前在线用户数: 0
2025-11-06 17:48:15.924 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:48:15.924 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:48:15.924 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:48:16.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:48:16.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:16.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:48:16.453 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:16.453 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.453 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8072db] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.454 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1295059266 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.455 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e8072db]
2025-11-06 17:48:16.476 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:48:16.476 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.479 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 08eb3c6c-0dfd-e5e5-6ad0-5cfa7e095370
2025-11-06 17:48:16.479 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 08eb3c6c-0dfd-e5e5-6ad0-5cfa7e095370, 当前在线用户数: 1
2025-11-06 17:48:16.479 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:48:16.480 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:48:16.480 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:16.480 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:48:16.482 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:16.483 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.483 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dee3f4b] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.483 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQxODEzNSwiZXhwIjoxODQ4ODE4MTM1LCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.9S6MToCsPnSnXeL--d2J_5VtlaA7MGjuOeqs4CS_-vo2IfAN0ds9RDgvtBJlt1l-tQkklkrpT00lvrUzRdW8XQ"}
2025-11-06 17:48:16.484 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:48:16.484 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@311922039 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:16.486 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dee3f4b]
2025-11-06 17:48:16.497 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:48:16.498 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:16.498 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:48:16.500 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:16.500 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.500 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c128c6] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.501 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@399283068 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.502 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c128c6]
2025-11-06 17:48:16.650 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:48:16.650 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.650 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.650 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2028f91d] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.651 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@702080348 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:16.653 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2028f91d]
2025-11-06 17:48:16.727 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:48:16.727 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.728 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:48:16.728 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:48:16.728 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:48:16.772 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:48:16.772 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.773 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.773 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789c457c] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.774 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@733983027 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:48:16.776 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@789c457c]
2025-11-06 17:48:16.776 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.776 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c73d90] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.778 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@585771089 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:48:16.780 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38c73d90]
2025-11-06 17:48:16.780 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.780 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2860d61e] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.781 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@692737343 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:48:16.783 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2860d61e]
2025-11-06 17:48:16.786 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:48:16.786 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.798 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:48:16.798 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.799 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.799 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e82c4] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.801 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@691606960 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.803 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28e82c4]
2025-11-06 17:48:16.804 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.804 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6acec9ab] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.804 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@188470743 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.805 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6acec9ab]
2025-11-06 17:48:16.805 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.805 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8f2dc1] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.806 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@277884522 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.807 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8f2dc1]
2025-11-06 17:48:16.807 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:48:16.807 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:16.808 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.808 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef1637c] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.809 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2056532210 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.810 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ef1637c]
2025-11-06 17:48:16.833 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:48:16.834 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:16.834 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:48:16.836 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:16.837 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:16.837 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5d77af] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:16.837 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1109514047 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:16.838 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5d77af]
2025-11-06 17:48:16.969 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:48:16.969 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.108 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:48:17.108 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:48:17.108 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:48:17.108 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:48:17.109 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.109 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:17.109 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc661f] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:17.110 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:48:17.111 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@689610380 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:48:17.112 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc661f]
2025-11-06 17:48:17.112 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:17.112 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44867d77] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:17.112 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@621817695 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:17.115 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44867d77]
2025-11-06 17:48:17.115 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:17.115 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40bd81fd] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:17.115 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@933704024 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:17.118 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:17.118 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.120 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40bd81fd]
2025-11-06 17:48:17.126 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:17.126 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:17.127 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:48:17.127 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.128 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:48:17.128 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42078e5c] was not registered for synchronization because synchronization is not active
2025-11-06 17:48:17.129 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1096154383 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:48:17.129 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42078e5c]
2025-11-06 17:48:17.430 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:48:17.430 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:17.430 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.430 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.756 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:17.756 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:17.869 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:17.869 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:48:18.007 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:48:18.007 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:48:18.241 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:48:18.241 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:16.010 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 08eb3c6c-0dfd-e5e5-6ad0-5cfa7e095370, 当前在线用户数: 0
2025-11-06 17:49:16.011 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:49:16.010 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:49:16.011 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:49:16.515 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:49:16.516 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.516 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.516 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7967d300] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.517 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1304979658 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:16.520 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7967d300]
2025-11-06 17:49:16.665 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:49:16.665 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.666 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:49:16.667 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:49:16.667 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:49:16.716 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:49:16.716 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.717 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.717 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:49:16.718 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aea663e] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.718 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.718 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1895833661 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:16.719 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.719 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a40c196] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.722 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2103581759 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:16.724 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aea663e]
2025-11-06 17:49:16.724 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.724 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d234c33] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.725 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1792097517 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:16.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d234c33]
2025-11-06 17:49:16.727 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a40c196]
2025-11-06 17:49:16.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.727 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12215a17] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.727 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea12c16] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.728 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@893705908 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:16.728 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@323965977 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:16.729 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12215a17]
2025-11-06 17:49:16.729 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ea12c16]
2025-11-06 17:49:16.730 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.730 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e31a008] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.731 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1762131524 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:16.733 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e31a008]
2025-11-06 17:49:16.753 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:49:16.753 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.760 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:49:16.760 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.761 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:16.761 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100d8d1a] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:16.762 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1276750743 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:49:16.763 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100d8d1a]
2025-11-06 17:49:16.770 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:49:16.770 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:16.850 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/visitor
2025-11-06 17:49:16.850 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:49:16.851 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/visitor
2025-11-06 17:49:16.851 [http-nio-8080-exec-10] WARN  c.t.c.JwtAuthenticationTokenFilter - 未提供JWT Token，路径: /api/video/play/visitor
2025-11-06 17:49:17.076 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:17.076 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.076 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:17.077 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.077 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:17.077 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618a48f] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:17.079 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@590633231 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:17.080 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6618a48f]
2025-11-06 17:49:17.084 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:17.084 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:17.087 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:17.088 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.091 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:17.091 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.092 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:17.092 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66577817] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:17.094 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1545401477 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:17.095 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66577817]
2025-11-06 17:49:17.400 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:17.400 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.555 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:17.555 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:17.759 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:17.759 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.805 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:17.805 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:17.878 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:17.878 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:17.955 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:17.956 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:18.935 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:49:18.935 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:49:19.206 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:49:19.206 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.207 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.207 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a2512b] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.208 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@964384491 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.210 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a2512b]
2025-11-06 17:49:19.403 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:49:19.403 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.405 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:49:19.405 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:49:19.405 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:49:19.446 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:49:19.446 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:49:19.446 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.447 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.448 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.448 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b058d31] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.448 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.448 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3069bb] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.449 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1288740551 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:19.450 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b058d31]
2025-11-06 17:49:19.451 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.451 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@172353182 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.451 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1297d9f7] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.451 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@625779345 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:19.453 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1297d9f7]
2025-11-06 17:49:19.453 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.454 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a2d730f] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.454 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1985565148 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:19.455 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3069bb]
2025-11-06 17:49:19.456 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.456 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1097f80] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.456 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a2d730f]
2025-11-06 17:49:19.456 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@618465321 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.458 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1097f80]
2025-11-06 17:49:19.458 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.458 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d12953c] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.459 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@120391265 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.461 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d12953c]
2025-11-06 17:49:19.479 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:49:19.480 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.480 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:49:19.480 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.480 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.480 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@488f5a62] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.481 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1106945092 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.483 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@488f5a62]
2025-11-06 17:49:19.504 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:49:19.504 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.535 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/visitor
2025-11-06 17:49:19.535 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:49:19.535 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/visitor
2025-11-06 17:49:19.535 [http-nio-8080-exec-7] WARN  c.t.c.JwtAuthenticationTokenFilter - 未提供JWT Token，路径: /api/video/play/visitor
2025-11-06 17:49:19.796 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:19.797 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:19.797 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.797 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.797 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.797 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680edfe9] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.799 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1580910481 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.801 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680edfe9]
2025-11-06 17:49:19.801 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:19.802 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:19.806 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:19.806 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.809 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:19.809 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:19.810 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:19.810 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402098a6] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:19.811 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@790063580 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:19.812 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402098a6]
2025-11-06 17:49:20.118 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:20.118 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:20.247 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:20.247 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:20.475 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:20.475 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:20.547 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:20.547 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:20.555 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:20.555 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:20.564 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:20.564 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:20.853 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:20.854 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:20.901 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:20.901 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:20.906 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:20.906 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:20.967 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:20.968 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:32.386 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:49:32.386 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:49:33.036 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:49:33.036 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.037 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.037 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70078b4c] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.038 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1602770921 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.040 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70078b4c]
2025-11-06 17:49:33.203 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:49:33.204 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.205 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:49:33.205 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:49:33.205 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:49:33.255 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:49:33.255 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.256 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.256 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:49:33.256 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7c4cc0] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.257 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.257 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1423765328 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.257 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.258 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21973a38] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.259 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7c4cc0]
2025-11-06 17:49:33.259 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.260 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fa5760] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.260 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1540952555 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.260 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@770577811 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:33.262 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fa5760]
2025-11-06 17:49:33.262 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.262 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4866875b] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.262 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@961976416 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:33.262 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21973a38]
2025-11-06 17:49:33.264 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.264 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdf81f] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.264 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@389605154 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.265 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4866875b]
2025-11-06 17:49:33.266 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdf81f]
2025-11-06 17:49:33.267 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.267 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afc4023] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.268 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@287994467 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.269 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afc4023]
2025-11-06 17:49:33.337 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:49:33.338 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.339 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.339 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a843cb2] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.340 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1548019636 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:33.340 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:49:33.340 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:49:33.340 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.340 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.342 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a843cb2]
2025-11-06 17:49:33.415 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/visitor
2025-11-06 17:49:33.416 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:49:33.416 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/visitor
2025-11-06 17:49:33.416 [http-nio-8080-exec-2] WARN  c.t.c.JwtAuthenticationTokenFilter - 未提供JWT Token，路径: /api/video/play/visitor
2025-11-06 17:49:33.732 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:33.732 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.732 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:33.734 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:33.734 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:33.734 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd8c83c] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:33.737 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@869755170 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:33.739 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd8c83c]
2025-11-06 17:49:33.742 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:33.742 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:34.059 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:34.059 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:34.059 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.059 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.060 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:34.060 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ab2c69] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:34.061 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@697187230 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:34.062 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ab2c69]
2025-11-06 17:49:34.381 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:34.381 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.502 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:34.502 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:34.649 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:34.649 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.697 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:34.697 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:34.734 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:34.734 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.820 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:34.821 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:34.829 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:34.829 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:34.855 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:34.855 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:35.015 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:35.016 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:35.029 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:35.030 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:35.170 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:35.171 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:35.207 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:35.208 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:48.458 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:49:48.458 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:49:49.045 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:49:49.046 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.046 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.046 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112fffc2] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.047 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2034555666 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:49.051 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112fffc2]
2025-11-06 17:49:49.337 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:49:49.337 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.339 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:49:49.339 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:49:49.339 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:49:49.379 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:49:49.379 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.380 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:49:49.380 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.380 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.381 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79bfc053] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.381 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.381 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1928089210 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.382 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a154c2a] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.383 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79bfc053]
2025-11-06 17:49:49.384 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.384 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f11c0b4] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.384 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1702090806 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:49.384 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1219181661 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.386 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f11c0b4]
2025-11-06 17:49:49.386 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.386 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733857f7] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.386 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@846015812 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a154c2a]
2025-11-06 17:49:49.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.388 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@733857f7]
2025-11-06 17:49:49.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23da9fa1] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.388 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1477656964 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:49.391 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23da9fa1]
2025-11-06 17:49:49.392 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.392 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2ba539] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.393 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1291522666 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:49:49.394 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2ba539]
2025-11-06 17:49:49.420 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:49:49.420 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.420 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:49:49.420 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.421 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.421 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171e3986] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.422 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@504341150 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.426 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171e3986]
2025-11-06 17:49:49.444 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:49:49.444 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.452 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/visitor
2025-11-06 17:49:49.452 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:49:49.452 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/visitor
2025-11-06 17:49:49.452 [http-nio-8080-exec-3] WARN  c.t.c.JwtAuthenticationTokenFilter - 未提供JWT Token，路径: /api/video/play/visitor
2025-11-06 17:49:49.721 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:49.722 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.722 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.722 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3b5500] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.725 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1005308301 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.727 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3b5500]
2025-11-06 17:49:49.754 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:49:49.754 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.754 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:49.754 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:49.755 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:49:49.755 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780dd944] was not registered for synchronization because synchronization is not active
2025-11-06 17:49:49.757 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1199609633 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:49:49.759 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780dd944]
2025-11-06 17:49:49.762 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:49.764 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:49.768 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:49.768 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:50.046 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:50.046 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:50.338 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:50.338 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:49:50.342 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:49:50.342 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:49:50.592 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:49:50.593 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:03.181 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/account/login
2025-11-06 17:50:03.181 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:03.268 [http-nio-8080-exec-4] INFO  c.t.c.user.UserAccountController - 用户尝试登录, username: nini
2025-11-06 17:50:03.269 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:03.269 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce76eaa] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:03.270 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1104005881 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:03.273 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce76eaa]
2025-11-06 17:50:03.370 [http-nio-8080-exec-4] INFO  c.t.c.user.UserAccountController - 用户登录成功, uid: 14, username: nini
2025-11-06 17:50:03.385 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:50:03.386 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:03.386 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:50:03.389 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:03.390 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:03.390 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d3980bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:03.391 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@472113712 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:03.392 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d3980bf]
2025-11-06 17:50:06.870 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:50:06.870 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:50:07.388 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:50:07.389 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:07.389 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:50:07.392 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:07.394 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.395 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4800b404] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.396 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@669687353 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:07.397 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4800b404]
2025-11-06 17:50:07.417 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:50:07.418 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.418 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:50:07.418 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:07.418 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:50:07.420 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 840d664b-0efa-4132-47b6-25c72c14f989
2025-11-06 17:50:07.420 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 840d664b-0efa-4132-47b6-25c72c14f989, 当前在线用户数: 1
2025-11-06 17:50:07.421 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:50:07.422 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 17:50:07.422 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:50:07.423 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:07.423 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.423 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274e2c1e] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.423 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1818746466 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:07.425 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274e2c1e]
2025-11-06 17:50:07.481 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:50:07.481 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:07.481 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:50:07.484 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:07.485 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.485 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a39e75] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.486 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2093117898 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.487 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a39e75]
2025-11-06 17:50:07.585 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:50:07.585 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.585 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.585 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c27980d] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.586 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1205481245 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:50:07.590 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c27980d]
2025-11-06 17:50:07.629 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:50:07.630 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.631 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:50:07.631 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:50:07.632 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:50:07.666 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:50:07.667 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.668 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.668 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a76567] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.669 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2032975343 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.671 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a76567]
2025-11-06 17:50:07.671 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.671 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eda4fd5] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.671 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@493198132 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.673 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eda4fd5]
2025-11-06 17:50:07.673 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.674 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2813046e] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.674 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1414222430 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.675 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2813046e]
2025-11-06 17:50:07.716 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:50:07.718 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.723 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:50:07.723 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.725 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.725 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad7e30d] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.739 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@101994637 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.745 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad7e30d]
2025-11-06 17:50:07.745 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.746 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306d84c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.746 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@992154599 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.749 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@306d84c8]
2025-11-06 17:50:07.749 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.749 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3adb2df8] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.747 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:50:07.750 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:07.750 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1724691887 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:07.750 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.751 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec31d57] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.751 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1135073579 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:07.751 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3adb2df8]
2025-11-06 17:50:07.754 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec31d57]
2025-11-06 17:50:07.800 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:50:07.800 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:07.800 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:50:07.803 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:07.803 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:07.803 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19022373] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:07.804 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1937134889 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:07.806 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19022373]
2025-11-06 17:50:07.968 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:50:07.969 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.000 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:50:08.000 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:08.000 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:50:08.003 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:08.008 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:08.009 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7684c92b] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:08.010 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@744193801 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:08.012 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7684c92b]
2025-11-06 17:50:08.012 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:08.012 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be324a4] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:08.015 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@461267298 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:08.021 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be324a4]
2025-11-06 17:50:08.032 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:50:08.032 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.033 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:08.033 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5734d773] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:08.035 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@599473918 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:08.037 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5734d773]
2025-11-06 17:50:08.078 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:50:08.078 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.079 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:08.079 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57daab3f] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:08.081 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1644564631 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:50:08.082 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57daab3f]
2025-11-06 17:50:08.087 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:08.087 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.094 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:08.094 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:08.357 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:50:08.357 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.405 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:08.405 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.720 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:08.720 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:08.877 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:08.878 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:08.976 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:08.976 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:09.373 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:09.373 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:38.922 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 840d664b-0efa-4132-47b6-25c72c14f989, 当前在线用户数: 0
2025-11-06 17:50:38.922 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:50:38.922 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:50:38.922 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:50:39.439 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:50:39.439 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:39.439 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:50:39.443 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:39.444 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.444 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6325867d] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.444 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@201999823 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.446 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6325867d]
2025-11-06 17:50:39.470 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:50:39.470 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.471 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:50:39.471 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:39.471 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:50:39.473 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: d508c06b-bd8a-4bf3-5554-4fa4d8685807
2025-11-06 17:50:39.473 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: d508c06b-bd8a-4bf3-5554-4fa4d8685807, 当前在线用户数: 1
2025-11-06 17:50:39.473 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:50:39.475 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:39.476 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 17:50:39.476 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.476 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cbc153] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.477 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:50:39.477 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1689104498 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:50:39.480 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23cbc153]
2025-11-06 17:50:39.534 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:50:39.534 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:39.534 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:50:39.537 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:39.538 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.538 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da9891] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.539 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1461362079 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:39.540 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66da9891]
2025-11-06 17:50:39.639 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:50:39.640 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.640 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.640 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5419c00a] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.641 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@786010233 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.644 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5419c00a]
2025-11-06 17:50:39.684 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:50:39.684 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.686 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:50:39.686 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:50:39.687 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:50:39.725 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:50:39.725 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.727 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.727 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@731d4bd0] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.728 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1468960344 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.730 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@731d4bd0]
2025-11-06 17:50:39.730 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.730 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ba5d56] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.730 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2078333210 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.732 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62ba5d56]
2025-11-06 17:50:39.732 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.732 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@476c8ad7] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.733 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2005675905 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.734 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@476c8ad7]
2025-11-06 17:50:39.767 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:50:39.768 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.778 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:50:39.779 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.780 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.780 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5231098b] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.782 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1004320743 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.784 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5231098b]
2025-11-06 17:50:39.785 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.785 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369a8345] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.785 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1755806206 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.787 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369a8345]
2025-11-06 17:50:39.787 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.787 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdb9e47] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.788 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:50:39.788 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:39.788 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1765389522 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:39.789 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.789 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4a6dba] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.789 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdb9e47]
2025-11-06 17:50:39.789 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1215308379 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:39.791 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f4a6dba]
2025-11-06 17:50:39.850 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:50:39.850 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:39.850 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:50:39.854 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:39.854 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:39.855 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523317bf] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:39.855 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2111066410 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:39.856 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523317bf]
2025-11-06 17:50:39.959 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:50:39.959 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.052 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:50:40.052 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:50:40.052 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:50:40.054 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:50:40.057 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:40.058 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae01a69] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:40.058 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1834588977 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:50:40.059 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae01a69]
2025-11-06 17:50:40.059 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:40.059 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4177cf] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:40.060 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@654839132 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1a804] will not be managed by Spring
2025-11-06 17:50:40.064 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d4177cf]
2025-11-06 17:50:40.083 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:50:40.083 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.083 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:40.083 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fac2712] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:40.085 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@272901486 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will not be managed by Spring
2025-11-06 17:50:40.086 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fac2712]
2025-11-06 17:50:40.114 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:50:40.114 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.115 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:50:40.115 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327f5e6d] was not registered for synchronization because synchronization is not active
2025-11-06 17:50:40.117 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@281308739 wrapping com.mysql.cj.jdbc.ConnectionImpl@503b3c83] will not be managed by Spring
2025-11-06 17:50:40.119 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@327f5e6d]
2025-11-06 17:50:40.129 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:40.129 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.135 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:40.136 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:40.410 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:50:40.410 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.442 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:40.442 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.766 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:40.766 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:40.907 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:40.907 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:50:41.019 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:50:41.019 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:50:41.435 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:50:41.435 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:51:12.314 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA","data":{"content":"不是哥们","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}}
2025-11-06 17:51:12.317 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:51:12.317 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.317 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1622670683 wrapping com.mysql.cj.jdbc.ConnectionImpl@198c610e] will be managed by Spring
2025-11-06 17:51:12.320 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.320 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331] from current transaction
2025-11-06 17:51:12.322 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.322 [http-nio-8080-exec-7] INFO  c.t.service.impl.DanmuServiceImpl - 弹幕发送成功, id=5, vid=11, uid=14, content=不是哥们
2025-11-06 17:51:12.322 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.322 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.322 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b3331]
2025-11-06 17:51:12.326 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕保存成功: vid=11, uid=14, content=不是哥们
2025-11-06 17:51:12.326 [http-nio-8080-exec-7] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:168)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 17:53:07.338 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:53:07.338 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:53:07.342 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:53:07.342 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.343 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:53:07.344 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:53:07.344 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:53:07.357 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:53:07.357 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.530 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:53:07.530 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.531 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.531 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cfb4ee5] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.532 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@36352221 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.534 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cfb4ee5]
2025-11-06 17:53:07.534 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.534 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afea81d] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.534 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@218449863 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.535 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afea81d]
2025-11-06 17:53:07.535 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.535 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31bc28d3] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.535 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@506319033 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.536 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31bc28d3]
2025-11-06 17:53:07.654 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:53:07.654 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.655 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.655 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@740e29f3] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.657 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@229563976 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.660 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@740e29f3]
2025-11-06 17:53:07.660 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.661 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1017df] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.661 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@757610608 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.661 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1017df]
2025-11-06 17:53:07.662 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.662 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7383ef71] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.662 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1832103985 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.663 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7383ef71]
2025-11-06 17:53:07.686 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:53:07.686 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:53:07.687 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:53:07.687 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:53:07.687 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.687 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.688 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57086a8e] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.688 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@207576675 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.690 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57086a8e]
2025-11-06 17:53:07.690 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:53:07.691 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.692 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459f6d89] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.693 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1928280173 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.695 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459f6d89]
2025-11-06 17:53:07.850 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:53:07.850 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.851 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:53:07.851 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:53:07.851 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:53:07.851 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:53:07.852 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.854 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:53:07.855 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.855 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218320af] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.859 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.859 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6a0d15] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.859 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@308890656 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.861 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6a0d15]
2025-11-06 17:53:07.861 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.861 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daf1418] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:07.861 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@125411656 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:07.866 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1672810382 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will not be managed by Spring
2025-11-06 17:53:07.867 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2daf1418]
2025-11-06 17:53:07.867 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@218320af]
2025-11-06 17:53:07.975 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:53:07.976 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:07.976 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:53:07.977 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ca7d77] was not registered for synchronization because synchronization is not active
2025-11-06 17:53:08.007 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:53:08.007 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:08.047 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@925547803 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:53:08.049 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ca7d77]
2025-11-06 17:53:08.190 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:53:08.190 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:08.196 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:53:08.197 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:53:08.511 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:53:08.511 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:08.781 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:53:08.781 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:09.375 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:53:09.375 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:53:09.377 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:53:09.377 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:53:09.378 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 17:54:15.727 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: d508c06b-bd8a-4bf3-5554-4fa4d8685807, 当前在线用户数: 0
2025-11-06 17:54:15.727 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 17:54:15.727 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:54:15.728 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:54:16.057 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 17:54:16.057 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 17:54:16.254 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 17:54:16.254 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:54:16.254 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 17:54:16.264 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:54:16.265 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.265 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6cf34c] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.265 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1575122841 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.267 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6cf34c]
2025-11-06 17:54:16.283 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 17:54:16.283 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.288 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 785c2006-4106-03c2-1ae8-5e65e1211bdd
2025-11-06 17:54:16.288 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 785c2006-4106-03c2-1ae8-5e65e1211bdd, 当前在线用户数: 1
2025-11-06 17:54:16.291 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 17:54:16.291 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 17:54:16.292 [http-nio-8080-exec-1] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 17:54:16.294 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 17:54:16.294 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:54:16.294 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 17:54:16.299 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:54:16.299 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.300 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d33cf6c] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.300 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1262416997 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.301 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d33cf6c]
2025-11-06 17:54:16.307 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 17:54:16.307 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:54:16.307 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 17:54:16.309 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:54:16.310 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.310 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43266ff1] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.310 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@654655416 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.312 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43266ff1]
2025-11-06 17:54:16.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 17:54:16.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.450 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.450 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7d3b7] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.450 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1901566174 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.454 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7d3b7]
2025-11-06 17:54:16.531 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 17:54:16.531 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.533 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 17:54:16.533 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 17:54:16.534 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 17:54:16.583 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 17:54:16.583 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.584 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.584 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efc7c54] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.585 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@341118821 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.587 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efc7c54]
2025-11-06 17:54:16.587 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.587 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0bb872] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.587 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@555253627 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.589 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0bb872]
2025-11-06 17:54:16.590 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.590 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abc049f] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.590 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2063984018 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.592 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abc049f]
2025-11-06 17:54:16.595 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:54:16.595 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.608 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 17:54:16.608 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.609 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.609 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3076cdfc] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.612 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@100893509 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.616 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3076cdfc]
2025-11-06 17:54:16.616 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.616 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf7f420] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.617 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1727289680 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.618 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf7f420]
2025-11-06 17:54:16.619 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.619 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 17:54:16.619 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19b6b9c8] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.619 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.619 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1520637994 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.620 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.620 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1f2c4c] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.621 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19b6b9c8]
2025-11-06 17:54:16.621 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2047506996 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will not be managed by Spring
2025-11-06 17:54:16.622 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1f2c4c]
2025-11-06 17:54:16.679 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 17:54:16.679 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:54:16.679 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 17:54:16.682 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:54:16.683 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.683 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca69267] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.683 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1675054233 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.684 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca69267]
2025-11-06 17:54:16.774 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 17:54:16.775 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.913 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 17:54:16.913 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 17:54:16.913 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:54:16.913 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 17:54:16.913 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.915 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.916 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61df62f5] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.919 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 17:54:16.922 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1597370189 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.924 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61df62f5]
2025-11-06 17:54:16.926 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.927 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635e64f8] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.927 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1569371293 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.928 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@635e64f8]
2025-11-06 17:54:16.929 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.929 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5fc6ac] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.929 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2125858363 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.932 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:54:16.932 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.934 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e5fc6ac]
2025-11-06 17:54:16.941 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 17:54:16.941 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:54:16.942 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:16.942 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 17:54:16.943 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 17:54:16.943 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e90ef22] was not registered for synchronization because synchronization is not active
2025-11-06 17:54:16.946 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2111511711 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 17:54:16.948 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e90ef22]
2025-11-06 17:54:17.238 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 17:54:17.238 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:17.246 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:54:17.246 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:17.557 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 17:54:17.558 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 17:54:18.017 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 17:54:18.017 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:12:02.209 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA","data":{"content":"你好1","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":0}}
2025-11-06 18:12:02.211 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:02.211 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.211 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@896260074 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will be managed by Spring
2025-11-06 18:12:02.214 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.214 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201] from current transaction
2025-11-06 18:12:02.216 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.216 [http-nio-8080-exec-7] INFO  c.t.service.impl.DanmuServiceImpl - 弹幕发送成功, id=6, vid=11, uid=14, content=你好1
2025-11-06 18:12:02.216 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.216 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.216 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab32201]
2025-11-06 18:12:02.218 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕保存成功: vid=11, uid=14, content=你好1
2025-11-06 18:12:02.218 [http-nio-8080-exec-7] ERROR c.t.handler.DanmuWebSocketHandler - 解析弹幕消息失败: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: com.temimi.model.entity.Danmu["createDate"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at com.temimi.handler.DanmuWebSocketHandler.handleDanmuMessageFromFrontend(DanmuWebSocketHandler.java:168)
	at com.temimi.handler.DanmuWebSocketHandler.handleTextMessage(DanmuWebSocketHandler.java:86)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:12:17.539 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 785c2006-4106-03c2-1ae8-5e65e1211bdd, 当前在线用户数: 0
2025-11-06 18:12:17.539 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:12:17.539 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:12:17.540 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:12:17.818 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:12:17.818 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:12:17.818 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:12:17.823 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:12:17.824 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:17.824 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d064837] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:17.825 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1247933669 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:17.827 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d064837]
2025-11-06 18:12:17.849 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:12:17.849 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:17.852 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 8b1f9b5d-701e-e612-2c29-48df2bb14b05
2025-11-06 18:12:17.852 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 8b1f9b5d-701e-e612-2c29-48df2bb14b05, 当前在线用户数: 1
2025-11-06 18:12:17.852 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:12:17.863 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:12:17.863 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:12:17.880 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:12:17.880 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:12:17.880 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:12:17.883 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:12:17.884 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:17.884 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c22aaa3] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:17.884 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@986454164 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:17.886 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c22aaa3]
2025-11-06 18:12:17.890 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:12:17.890 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:12:17.890 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:12:17.893 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:12:17.894 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:17.894 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa0eeff] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:17.894 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1915904993 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:17.896 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa0eeff]
2025-11-06 18:12:17.960 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:12:17.960 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:17.961 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:17.961 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eeb4929] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:17.962 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@762724339 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:17.965 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eeb4929]
2025-11-06 18:12:18.021 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:12:18.021 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.023 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:12:18.023 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:12:18.023 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:12:18.077 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:12:18.077 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.078 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.078 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551870c0] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.079 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@11215134 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will not be managed by Spring
2025-11-06 18:12:18.081 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551870c0]
2025-11-06 18:12:18.081 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.081 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544bf10c] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.081 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1111688501 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will not be managed by Spring
2025-11-06 18:12:18.083 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544bf10c]
2025-11-06 18:12:18.083 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.083 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df07193] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.083 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@112734896 wrapping com.mysql.cj.jdbc.ConnectionImpl@56767e89] will not be managed by Spring
2025-11-06 18:12:18.085 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df07193]
2025-11-06 18:12:18.131 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:12:18.131 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.163 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:12:18.164 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.164 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.165 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c59d1d] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.166 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@89145679 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.168 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72c59d1d]
2025-11-06 18:12:18.169 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.169 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfd1804] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.169 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@723545837 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.170 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cfd1804]
2025-11-06 18:12:18.171 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.171 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2838d3] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.171 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@726736906 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.172 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2838d3]
2025-11-06 18:12:18.241 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:12:18.241 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:12:18.241 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:12:18.241 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:12:18.241 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.242 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.242 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7af6a1] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.243 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1147808055 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.245 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7af6a1]
2025-11-06 18:12:18.245 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:12:18.245 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.245 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c7c828] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.246 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1751846495 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.247 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c7c828]
2025-11-06 18:12:18.287 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:12:18.287 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.426 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:12:18.427 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:12:18.427 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:12:18.430 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:12:18.435 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.435 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec24b27] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.435 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@11730224 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.437 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec24b27]
2025-11-06 18:12:18.437 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.437 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef5fe87] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.437 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@842140429 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.442 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef5fe87]
2025-11-06 18:12:18.447 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:12:18.447 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.448 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.448 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca802fd] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.450 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@982302023 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.451 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ca802fd]
2025-11-06 18:12:18.535 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:12:18.536 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.537 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:12:18.537 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eedc665] was not registered for synchronization because synchronization is not active
2025-11-06 18:12:18.539 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@193278198 wrapping com.mysql.cj.jdbc.ConnectionImpl@1a06321] will not be managed by Spring
2025-11-06 18:12:18.541 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eedc665]
2025-11-06 18:12:18.612 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:12:18.612 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.618 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:12:18.619 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:12:18.769 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:12:18.769 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:18.924 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:12:18.924 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:19.235 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:12:19.235 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:19.396 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:12:19.396 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:12:19.503 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:12:19.503 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:12:19.912 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:12:19.912 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:14:42.498 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 113 class path changes (0 additions, 112 deletions, 1 modification)
2025-11-06 18:14:42.526 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:14:42.531 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:14:42.534 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:14:42.534 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:14:42.534 [Thread-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 8b1f9b5d-701e-e612-2c29-48df2bb14b05, 当前在线用户数: 0
2025-11-06 18:14:42.534 [Thread-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:14:42.718 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:14:42.718 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:14:42.718 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:14:43.099 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 18:14:43.216 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:14:43.216 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:14:43.217 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:14:43.217 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:14:43.258 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:14:43.258 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 535 ms
2025-11-06 18:14:43.547 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:14:43.561 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:14:43.565 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:14:43.573 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.959 seconds (process running for 3177.784)
2025-11-06 18:14:43.580 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ProjectInfoAutoConfiguration#gitProperties matched:
      - GitResource found git info at classpath:git.properties (ProjectInfoAutoConfiguration.GitResourceAvailableCondition)
      - @ConditionalOnMissingBean (types: org.springframework.boot.info.GitProperties; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:16:58.059 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-06 18:16:58.060 [Thread-28] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:16:58.129 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:16:58.129 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:16:58.130 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:16:58.241 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 18:16:58.279 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:16:58.280 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:16:58.280 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:16:58.280 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:16:58.293 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:16:58.293 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 162 ms
2025-11-06 18:16:58.394 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:16:58.398 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:16:58.402 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:16:58.406 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.307 seconds (process running for 3312.617)
2025-11-06 18:16:58.407 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:17:02.711 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 112 class path changes (112 additions, 0 deletions, 0 modifications)
2025-11-06 18:17:02.713 [Thread-33] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:17:02.833 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:17:02.833 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:17:02.833 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:17:03.127 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:17:03.127 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:17:03.127 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:17:03.128 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:17:03.129 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:17:03.129 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:17:03.129 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:17:03.130 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:17:03.130 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:17:03.131 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:17:03.131 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:17:03.131 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:17:03.131 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:17:03.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:17:03.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:17:03.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:17:03.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:17:03.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:17:03.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:17:03.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:17:03.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:17:03.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:17:03.237 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:17:03.238 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:17:03.238 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:17:03.238 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:17:03.261 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:17:03.261 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 425 ms
2025-11-06 18:17:03.271 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:17:03.706 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:17:03.707 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:17:04.107 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:17:04.141 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:17:04.147 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:17:04.153 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 1.369 seconds (process running for 3318.364)
2025-11-06 18:17:04.155 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JwtAuthenticationTokenFilter matched:
      - @ConditionalOnProperty (jwt.enabled=true) matched (OnPropertyCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:18:44.863 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 113 class path changes (0 additions, 112 deletions, 1 modification)
2025-11-06 18:18:44.865 [Thread-38] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:18:44.992 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:18:44.992 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:18:44.992 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:18:45.178 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 18:18:45.179 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.NullPointerException: Cannot read field "generatedClass" because "data" is null
2025-11-06 18:18:45.190 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-06 18:18:45.223 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.NullPointerException: Cannot read field "generatedClass" because "data" is null
	at org.springframework.cglib.proxy.Enhancer.nextInstance(Enhancer.java:783)
	at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:321)
	at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562)
	at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407)
	at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138)
	at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:533)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:310)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:363)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:153)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.temimi.BackendApplication.main(BackendApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-11-06 18:18:49.993 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66536 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:18:49.994 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:18:49.994 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:18:50.226 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:18:50.226 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:18:50.226 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:18:50.227 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:18:50.228 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:18:50.228 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:18:50.228 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:18:50.228 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:18:50.229 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:18:50.229 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:18:50.229 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:18:50.230 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:18:50.230 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:18:50.230 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:18:50.231 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:18:50.231 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:18:50.232 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:18:50.232 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:18:50.232 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:18:50.232 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:18:50.233 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:18:50.233 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:18:50.233 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:18:50.234 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:18:50.234 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:18:50.234 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:18:50.234 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:18:50.234 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:18:50.235 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:18:50.235 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:18:50.235 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:18:50.235 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:18:50.236 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:18:50.236 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:18:50.236 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:18:50.307 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:18:50.308 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:18:50.308 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:18:50.308 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:18:50.324 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:18:50.324 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 329 ms
2025-11-06 18:18:50.332 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:18:50.575 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:18:50.576 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:18:50.831 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:18:50.858 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:18:50.862 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:18:50.867 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.908 seconds (process running for 3425.078)
2025-11-06 18:18:50.868 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:19:21.808 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:19:21.857 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 71924 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:19:21.857 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:19:21.859 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:19:21.901 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:19:21.901 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:19:22.531 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:19:22.531 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:19:22.531 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:19:22.532 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:19:22.533 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:19:22.536 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:19:22.537 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:19:22.537 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:19:22.537 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:19:22.537 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:19:22.537 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:19:22.538 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:19:22.538 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:19:22.538 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:19:22.538 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:19:22.538 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:19:22.539 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:19:22.540 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:19:22.540 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:19:22.540 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:19:22.541 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:19:22.541 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:19:22.953 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:19:22.963 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:19:22.964 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:19:22.965 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:19:23.010 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:19:23.010 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1108 ms
2025-11-06 18:19:23.048 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:19:23.478 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:19:23.478 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:19:23.890 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:19:23.910 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:19:23.925 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:19:23.933 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.519 seconds (process running for 3.091)
2025-11-06 18:19:30.877 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:19:30.877 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:19:30.878 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 18:19:30.883 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:30.883 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:31.037 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:19:31.040 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:19:31.041 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:31.041 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:42.940 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:19:42.940 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:19:42.940 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:19:43.040 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:19:43.064 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.074 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae57b32] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.084 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 18:19:43.097 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:19:43.098 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.147 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:19:43.147 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.150 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:19:43.152 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.172 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.173 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604a849d] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.198 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.198 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1160fe13] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.199 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:19:43.200 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:19:43.207 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:19:43.348 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@298abdbc
2025-11-06 18:19:43.350 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 18:19:43.357 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1729261846 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:43.357 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1117316561 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.426 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1851901001 wrapping com.mysql.cj.jdbc.ConnectionImpl@7779ddcb] will not be managed by Spring
2025-11-06 18:19:43.470 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae57b32]
2025-11-06 18:19:43.470 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@604a849d]
2025-11-06 18:19:43.473 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.473 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144af40c] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.473 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1428112152 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.478 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1160fe13]
2025-11-06 18:19:43.479 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.479 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@365cb034] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.480 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144af40c]
2025-11-06 18:19:43.481 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.481 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1175544998 wrapping com.mysql.cj.jdbc.ConnectionImpl@7779ddcb] will not be managed by Spring
2025-11-06 18:19:43.482 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041c096] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.483 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1501813288 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.487 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041c096]
2025-11-06 18:19:43.487 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@365cb034]
2025-11-06 18:19:43.488 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.488 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b98fd23] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.499 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1209410420 wrapping com.mysql.cj.jdbc.ConnectionImpl@7779ddcb] will not be managed by Spring
2025-11-06 18:19:43.503 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b98fd23]
2025-11-06 18:19:43.564 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:19:43.566 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.581 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:19:43.580 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:19:43.581 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:19:43.583 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.583 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.583 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:19:43.583 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:19:43.584 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.586 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1474e9] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.590 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@852729115 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:43.591 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f90ece36-42f7-bad4-3a5c-5e5d9e78a00f
2025-11-06 18:19:43.591 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:19:43.592 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f90ece36-42f7-bad4-3a5c-5e5d9e78a00f, 当前在线用户数: 1
2025-11-06 18:19:43.592 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.594 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c078af] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.594 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c1474e9]
2025-11-06 18:19:43.595 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1438690799 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:43.600 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c078af]
2025-11-06 18:19:43.605 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:19:43.606 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:19:43.627 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:19:43.881 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:19:43.881 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.889 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:19:43.890 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:19:43.890 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:19:43.890 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:19:43.890 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:19:43.890 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:19:43.890 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:19:43.891 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:19:43.891 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:19:43.897 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:19:43.897 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:19:43.899 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:19:43.899 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.900 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e45208] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.900 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.901 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@832195330 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:43.901 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e6176dd] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.903 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@287517196 wrapping com.mysql.cj.jdbc.ConnectionImpl@7779ddcb] will not be managed by Spring
2025-11-06 18:19:43.904 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e45208]
2025-11-06 18:19:43.905 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e6176dd]
2025-11-06 18:19:43.914 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:19:43.914 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.916 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.916 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233ca6ed] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.922 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@318812861 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.926 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233ca6ed]
2025-11-06 18:19:43.927 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:19:43.927 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:43.932 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.933 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68041561] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.934 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1153414283 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:43.940 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.941 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51be3c1d] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.941 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@888603432 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.944 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51be3c1d]
2025-11-06 18:19:43.945 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:43.945 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ecf880] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:43.948 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68041561]
2025-11-06 18:19:43.954 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@387410500 wrapping com.mysql.cj.jdbc.ConnectionImpl@6415fe35] will not be managed by Spring
2025-11-06 18:19:43.964 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ecf880]
2025-11-06 18:19:44.220 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:19:44.221 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:44.221 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:19:44.222 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a39a0] was not registered for synchronization because synchronization is not active
2025-11-06 18:19:44.226 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1404222998 wrapping com.mysql.cj.jdbc.ConnectionImpl@298abdbc] will not be managed by Spring
2025-11-06 18:19:44.234 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a39a0]
2025-11-06 18:19:44.251 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:44.252 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:44.259 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:19:44.259 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:19:44.577 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:44.577 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:44.828 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:44.828 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:19:45.369 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:19:45.370 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:19:59.162 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:19:59.163 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:20:05.514 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:20:05.514 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:20:05.520 [http-nio-8080-exec-2] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/danmu/delete - Request method 'POST' is not supported
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:507)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1283)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:20:05.523 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-11-06 18:30:56.441 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:30:56.497 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 68016 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:30:56.498 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:30:56.499 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:30:56.538 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:30:56.539 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:30:57.130 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:30:57.131 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:30:57.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:30:57.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:30:57.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:30:57.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:30:57.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:30:57.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:30:57.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:30:57.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:30:57.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:30:57.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:30:57.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:30:57.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:30:57.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:30:57.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:30:57.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:30:57.137 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:30:57.137 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:30:57.138 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:30:57.138 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:30:57.139 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:30:57.139 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:30:57.140 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:30:57.140 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:30:57.140 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:30:57.140 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:30:57.141 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:30:57.141 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:30:57.142 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:30:57.142 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:30:57.143 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:30:57.143 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:30:57.145 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:30:57.146 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:30:57.146 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:30:57.146 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:30:57.147 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:30:57.147 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:30:57.148 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:30:57.148 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:30:57.149 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:30:57.599 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:30:57.608 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:30:57.611 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:30:57.611 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:30:57.652 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:30:57.653 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1114 ms
2025-11-06 18:30:57.688 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:30:58.093 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:30:58.094 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:30:58.504 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-11-06 18:30:58.521 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:30:58.525 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-06 18:30:58.538 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-06 18:30:58.552 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-11-06 18:31:13.031 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:31:13.050 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:31:13.054 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:31:13.055 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:31:13.055 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f90ece36-42f7-bad4-3a5c-5e5d9e78a00f, 当前在线用户数: 0
2025-11-06 18:31:13.058 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:31:17.897 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:31:17.949 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72760 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:31:17.950 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:31:17.952 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:31:17.998 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:31:17.998 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:31:18.698 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:31:18.698 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:31:18.699 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:31:18.699 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:31:18.699 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:31:18.699 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:31:18.700 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:31:18.702 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:31:18.704 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:31:18.705 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:31:18.707 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:31:18.707 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:31:18.707 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:31:18.707 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:31:18.708 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:31:18.708 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:31:18.708 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:31:18.708 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:31:18.709 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:31:18.709 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:31:18.709 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:31:18.709 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:31:18.710 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:31:18.710 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:31:18.710 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:31:19.096 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:31:19.104 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:31:19.105 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:31:19.105 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:31:19.146 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:31:19.147 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1149 ms
2025-11-06 18:31:19.184 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:31:19.626 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:31:19.626 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:31:20.059 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:31:20.081 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:31:20.102 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:31:20.111 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.621 seconds (process running for 3.247)
2025-11-06 18:32:06.504 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:32:06.504 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:32:06.508 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-06 18:32:06.516 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:32:06.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:32:06.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:32:06.593 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:32:06.615 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:32:06.615 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:06.632 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:06.639 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df191bc] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:06.649 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 18:32:06.660 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:32:06.660 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:06.661 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:32:06.661 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:06.676 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:06.678 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe25936] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:06.700 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:06.701 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffe1380] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:06.703 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:32:06.704 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:32:06.712 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:32:06.909 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@81911f2
2025-11-06 18:32:06.911 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 18:32:06.914 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1232423275 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:06.918 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1326646003 wrapping com.mysql.cj.jdbc.ConnectionImpl@13437870] will not be managed by Spring
2025-11-06 18:32:06.947 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@25415057 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a2368d5] will not be managed by Spring
2025-11-06 18:32:07.003 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe25936]
2025-11-06 18:32:07.003 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df191bc]
2025-11-06 18:32:07.004 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.005 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc8842d] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.005 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1498181203 wrapping com.mysql.cj.jdbc.ConnectionImpl@13437870] will not be managed by Spring
2025-11-06 18:32:07.015 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fc8842d]
2025-11-06 18:32:07.016 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.016 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffe1380]
2025-11-06 18:32:07.016 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233c6e59] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.017 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@912973693 wrapping com.mysql.cj.jdbc.ConnectionImpl@13437870] will not be managed by Spring
2025-11-06 18:32:07.017 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.017 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f4213d] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.019 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2128900030 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a2368d5] will not be managed by Spring
2025-11-06 18:32:07.021 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233c6e59]
2025-11-06 18:32:07.021 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f4213d]
2025-11-06 18:32:07.022 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.023 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1037e0] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.024 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@182064310 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a2368d5] will not be managed by Spring
2025-11-06 18:32:07.028 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1037e0]
2025-11-06 18:32:07.085 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:32:07.085 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.085 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:32:07.087 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.087 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.088 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:32:07.088 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52aaf3d5] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.088 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:32:07.089 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:32:07.090 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1550653424 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.094 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:32:07.095 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.095 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52aaf3d5]
2025-11-06 18:32:07.095 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b03db83] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.096 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:32:07.096 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.097 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@671581220 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.099 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b03db83]
2025-11-06 18:32:07.100 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 714a58fb-e54a-daee-f8ae-6d828d3c0bbf
2025-11-06 18:32:07.101 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 714a58fb-e54a-daee-f8ae-6d828d3c0bbf, 当前在线用户数: 1
2025-11-06 18:32:07.108 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:32:07.133 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:32:07.151 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:32:07.393 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:32:07.393 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.400 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:32:07.401 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:32:07.401 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:32:07.404 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:32:07.405 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.406 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce89cd5] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.406 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1565208200 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.408 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce89cd5]
2025-11-06 18:32:07.415 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:32:07.416 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:32:07.416 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:32:07.419 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:32:07.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:32:07.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.424 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.424 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15031e92] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.428 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@587415454 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.431 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15031e92]
2025-11-06 18:32:07.440 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:32:07.440 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:32:07.440 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:07.441 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:32:07.441 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.445 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:32:07.445 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.445 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428e2616] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.447 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.447 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@3229721 wrapping com.mysql.cj.jdbc.ConnectionImpl@13437870] will not be managed by Spring
2025-11-06 18:32:07.447 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553da36] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.449 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2080124132 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a2368d5] will not be managed by Spring
2025-11-06 18:32:07.450 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@428e2616]
2025-11-06 18:32:07.450 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7553da36]
2025-11-06 18:32:07.451 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.451 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68303467] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.455 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1594583188 wrapping com.mysql.cj.jdbc.ConnectionImpl@13437870] will not be managed by Spring
2025-11-06 18:32:07.460 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68303467]
2025-11-06 18:32:07.469 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:32:07.469 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:32:07.751 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:32:07.751 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.751 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.751 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c072794] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.755 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2066492174 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.761 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c072794]
2025-11-06 18:32:07.766 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:32:07.766 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.767 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:07.768 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4019cd7b] was not registered for synchronization because synchronization is not active
2025-11-06 18:32:07.769 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@891789792 wrapping com.mysql.cj.jdbc.ConnectionImpl@81911f2] will not be managed by Spring
2025-11-06 18:32:07.782 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:07.783 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:07.784 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4019cd7b]
2025-11-06 18:32:08.121 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:08.122 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:08.415 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:32:08.415 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:32:08.426 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:08.426 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:08.447 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:32:08.448 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:32:08.605 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:08.605 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:08.956 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:32:08.957 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:32:16.033 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:32:16.033 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:23.276 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 收到弹幕消息: {"token":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA","data":{"content":"你会后悔","fontsize":25,"mode":1,"color":"#FFFFFF","timePoint":7.368429}}
2025-11-06 18:32:23.360 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:32:23.361 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.368 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@896818239 wrapping com.mysql.cj.jdbc.ConnectionImpl@5a2368d5] will be managed by Spring
2025-11-06 18:32:23.394 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.395 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e] from current transaction
2025-11-06 18:32:23.398 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.399 [http-nio-8080-exec-3] INFO  c.t.service.impl.DanmuServiceImpl - 弹幕发送成功, id=7, vid=11, uid=14, content=你会后悔
2025-11-06 18:32:23.402 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.404 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.405 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515fd70e]
2025-11-06 18:32:23.410 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕保存成功: vid=11, uid=14, content=你会后悔
2025-11-06 18:32:23.420 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕已广播给 1 个用户
2025-11-06 18:32:31.627 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:32:31.628 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:32:31.644 [http-nio-8080-exec-7] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/danmu/delete - Request method 'POST' is not supported
org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:267)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:441)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:507)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1283)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:32:31.655 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-11-06 18:35:52.412 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:35:52.431 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:35:52.437 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:35:52.438 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:35:52.438 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 714a58fb-e54a-daee-f8ae-6d828d3c0bbf, 当前在线用户数: 0
2025-11-06 18:35:52.439 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:35:57.968 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:35:58.014 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 69552 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:35:58.015 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:35:58.017 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:35:58.058 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:35:58.059 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:35:58.672 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:35:58.672 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:35:58.672 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:35:58.672 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:35:58.672 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:35:58.673 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:35:58.674 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:35:58.677 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:35:58.677 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:35:58.678 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:35:58.678 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:35:58.678 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:35:58.678 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:35:58.678 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:35:58.679 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:35:58.679 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:35:58.679 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:35:58.679 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:35:58.679 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:35:58.680 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:35:58.681 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:35:58.681 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:35:58.681 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:35:58.681 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:35:58.682 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:35:58.682 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:35:58.682 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:35:58.682 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:35:58.683 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:35:59.057 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:35:59.064 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:35:59.065 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:35:59.065 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:35:59.105 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:35:59.105 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1045 ms
2025-11-06 18:35:59.137 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:35:59.542 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:35:59.543 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:35:59.942 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:35:59.960 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:35:59.980 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:35:59.987 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.407 seconds (process running for 2.96)
2025-11-06 18:36:33.302 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:36:33.302 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:36:33.304 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-06 18:36:33.312 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:36:33.314 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:36:33.314 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:36:33.389 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:36:33.418 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.421 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:36:33.421 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.427 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21da6bf9] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.436 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 18:36:33.467 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:36:33.467 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.469 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:36:33.470 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.485 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.486 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74528bc3] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.500 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.501 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4738714b] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.512 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:36:33.513 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:36:33.519 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:36:33.645 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63ee884d
2025-11-06 18:36:33.647 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 18:36:33.652 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@121609742 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf3f99a] will not be managed by Spring
2025-11-06 18:36:33.652 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1966752035 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:33.666 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@371078886 wrapping com.mysql.cj.jdbc.ConnectionImpl@5b5d77af] will not be managed by Spring
2025-11-06 18:36:33.707 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21da6bf9]
2025-11-06 18:36:33.707 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74528bc3]
2025-11-06 18:36:33.708 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.709 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229dd87d] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.709 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2075337840 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf3f99a] will not be managed by Spring
2025-11-06 18:36:33.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@229dd87d]
2025-11-06 18:36:33.717 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.717 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4738714b]
2025-11-06 18:36:33.717 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42980c17] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.717 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@51484180 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf3f99a] will not be managed by Spring
2025-11-06 18:36:33.717 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.717 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b043390] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.718 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@457206802 wrapping com.mysql.cj.jdbc.ConnectionImpl@5b5d77af] will not be managed by Spring
2025-11-06 18:36:33.719 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42980c17]
2025-11-06 18:36:33.720 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b043390]
2025-11-06 18:36:33.720 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.721 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a0c056] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.721 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2097345409 wrapping com.mysql.cj.jdbc.ConnectionImpl@5b5d77af] will not be managed by Spring
2025-11-06 18:36:33.725 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a0c056]
2025-11-06 18:36:33.769 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:36:33.769 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:36:33.770 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.770 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.772 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.773 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:36:33.773 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775187cb] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.774 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:36:33.774 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:36:33.775 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1936592377 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:33.777 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:36:33.777 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:33.780 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775187cb]
2025-11-06 18:36:33.780 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:36:33.781 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:33.782 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b730d3] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:33.782 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: d9f468ea-28b5-a862-2ed1-2afc114ab9e8
2025-11-06 18:36:33.782 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: d9f468ea-28b5-a862-2ed1-2afc114ab9e8, 当前在线用户数: 1
2025-11-06 18:36:33.783 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1149220657 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:33.786 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b730d3]
2025-11-06 18:36:33.792 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:36:33.800 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:36:33.816 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:36:34.073 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:36:34.073 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.089 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:36:34.089 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:36:34.089 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:36:34.089 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:36:34.089 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:36:34.089 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:36:34.092 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:36:34.092 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:36:34.093 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.094 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad0fe4d] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.094 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1314217708 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf3f99a] will not be managed by Spring
2025-11-06 18:36:34.096 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad0fe4d]
2025-11-06 18:36:34.101 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:36:34.101 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:36:34.101 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:36:34.101 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.101 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:36:34.102 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.102 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ebddff] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.105 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:36:34.105 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1800135278 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:34.106 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.107 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571d3cf5] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.108 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ebddff]
2025-11-06 18:36:34.109 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@854164626 wrapping com.mysql.cj.jdbc.ConnectionImpl@5b5d77af] will not be managed by Spring
2025-11-06 18:36:34.112 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@571d3cf5]
2025-11-06 18:36:34.118 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:34.119 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.122 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.122 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a53de47] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.123 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1225389776 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:34.124 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a53de47]
2025-11-06 18:36:34.124 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.124 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbfc26d] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.127 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@374178625 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:34.130 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cbfc26d]
2025-11-06 18:36:34.131 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:36:34.131 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:36:34.430 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:36:34.430 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:36:34.430 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.430 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.431 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.431 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc51f62] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.431 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:36:34.431 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520dc84d] was not registered for synchronization because synchronization is not active
2025-11-06 18:36:34.432 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1862318302 wrapping com.mysql.cj.jdbc.ConnectionImpl@63ee884d] will not be managed by Spring
2025-11-06 18:36:34.434 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@519135310 wrapping com.mysql.cj.jdbc.ConnectionImpl@cf3f99a] will not be managed by Spring
2025-11-06 18:36:34.440 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dc51f62]
2025-11-06 18:36:34.445 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:34.447 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.450 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520dc84d]
2025-11-06 18:36:34.771 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:34.771 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:34.905 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:36:34.905 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:36:35.130 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:35.130 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:35.229 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:36:35.230 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:36:35.235 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:35.235 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:35.259 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:36:35.259 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:36:35.577 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:36:35.577 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:35.687 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:36:35.687 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:36:38.995 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:36:38.995 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:36:38.999 [http-nio-8080-exec-4] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/danmu/delete - Required request parameter 'danmuId' for method parameter type Integer is not present
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'danmuId' for method parameter type Integer is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:126)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:36:39.003 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'danmuId' for method parameter type Integer is not present]
2025-11-06 18:37:21.809 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 113 class path changes (0 additions, 112 deletions, 1 modification)
2025-11-06 18:37:21.838 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:37:21.850 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:37:21.854 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:37:21.854 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:37:21.854 [Thread-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: d9f468ea-28b5-a862-2ed1-2afc114ab9e8, 当前在线用户数: 0
2025-11-06 18:37:21.855 [Thread-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:37:21.984 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 69552 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:37:21.985 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:37:21.985 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:37:22.229 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 18:37:22.285 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:37:22.285 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:37:22.287 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:37:22.287 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:37:22.314 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:37:22.314 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 323 ms
2025-11-06 18:37:22.460 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:37:22.473 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:37:22.479 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:37:22.486 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.584 seconds (process running for 85.458)
2025-11-06 18:37:22.491 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ProjectInfoAutoConfiguration#gitProperties matched:
      - GitResource found git info at classpath:git.properties (ProjectInfoAutoConfiguration.GitResourceAvailableCondition)
      - @ConditionalOnMissingBean (types: org.springframework.boot.info.GitProperties; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:37:26.759 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 112 class path changes (112 additions, 0 deletions, 0 modifications)
2025-11-06 18:37:26.761 [Thread-9] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:37:26.876 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 69552 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:37:26.876 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:37:26.876 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:37:27.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:37:27.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:37:27.095 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:37:27.095 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:37:27.095 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:37:27.095 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:37:27.095 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:37:27.096 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:37:27.097 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:37:27.097 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:37:27.098 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:37:27.098 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:37:27.098 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:37:27.098 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:37:27.099 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:37:27.099 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:37:27.099 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:37:27.099 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:37:27.100 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:37:27.100 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:37:27.100 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:37:27.101 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:37:27.102 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:37:27.102 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:37:27.103 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:37:27.171 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:37:27.172 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:37:27.172 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:37:27.172 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:37:27.191 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:37:27.191 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 313 ms
2025-11-06 18:37:27.199 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:37:27.489 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:37:27.490 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:37:27.678 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:37:27.692 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:37:27.695 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:37:27.699 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.867 seconds (process running for 90.672)
2025-11-06 18:37:27.701 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JwtAuthenticationTokenFilter matched:
      - @ConditionalOnProperty (jwt.enabled=true) matched (OnPropertyCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:38:37.769 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-11-06 18:38:37.770 [Thread-14] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:37.858 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 69552 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:38:37.859 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:38:37.859 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:38:38.005 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:38:38.006 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:38:38.007 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:38:38.008 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:38:38.009 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:38:38.010 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:38:38.011 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:38:38.011 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:38:38.012 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:38:38.061 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:38:38.062 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:38.062 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:38:38.062 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:38:38.076 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:38:38.076 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 216 ms
2025-11-06 18:38:38.083 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:38:38.262 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:38:38.262 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:38:38.431 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:38:38.443 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:38.445 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:38:38.449 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.623 seconds (process running for 161.422)
2025-11-06 18:38:38.450 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:38:39.873 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-06 18:38:39.875 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:39.958 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 69552 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:38:39.958 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:38:39.958 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:38:40.088 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:38:40.089 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:38:40.090 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:38:40.090 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:38:40.090 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:38:40.090 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:38:40.090 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:38:40.091 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:38:40.091 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:38:40.091 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:38:40.091 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:38:40.091 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:38:40.092 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:38:40.092 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:38:40.092 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:38:40.092 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:38:40.093 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:38:40.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:38:40.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:38:40.094 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:38:40.132 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:38:40.133 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:40.133 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:38:40.133 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:38:40.145 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:38:40.145 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 186 ms
2025-11-06 18:38:40.151 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:38:40.298 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:38:40.299 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:38:40.445 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:38:40.457 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:40.461 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:38:40.463 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.528 seconds (process running for 163.436)
2025-11-06 18:38:40.464 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:38:41.023 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:38:41.023 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:38:41.025 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-06 18:38:41.027 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:38:41.032 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:38:41.032 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:38:41.045 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:38:41.049 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.050 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c1c560d] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.050 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-06 18:38:41.060 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7134510c
2025-11-06 18:38:41.060 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-06 18:38:41.061 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@677289910 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.065 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c1c560d]
2025-11-06 18:38:41.090 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:38:41.090 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.098 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f44d8350-a590-ce44-c117-6d80d0bd2f9f
2025-11-06 18:38:41.098 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f44d8350-a590-ce44-c117-6d80d0bd2f9f, 当前在线用户数: 1
2025-11-06 18:38:41.103 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:38:41.104 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:38:41.106 [http-nio-8080-exec-5] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:38:41.125 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:38:41.126 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:38:41.126 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:38:41.132 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:38:41.133 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.134 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdfc6e0] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.134 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1832695155 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.138 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdfc6e0]
2025-11-06 18:38:41.146 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:38:41.148 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:38:41.148 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:38:41.153 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:38:41.155 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.155 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4948d15d] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.158 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@226086278 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.160 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4948d15d]
2025-11-06 18:38:41.187 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:38:41.188 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.189 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.189 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2544e7af] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.190 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1066778146 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.207 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2544e7af]
2025-11-06 18:38:41.219 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:38:41.220 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.222 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:38:41.223 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:38:41.224 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:38:41.270 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:38:41.270 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.273 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.273 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b31dee7] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.274 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1847111902 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.279 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b31dee7]
2025-11-06 18:38:41.279 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.279 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c5fb9] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.280 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1311806448 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.282 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751c5fb9]
2025-11-06 18:38:41.283 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.283 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a44198] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.284 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1439838178 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.287 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42a44198]
2025-11-06 18:38:41.318 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:38:41.319 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.391 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:38:41.391 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.394 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.395 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e896f] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.404 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1937019925 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.409 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328e896f]
2025-11-06 18:38:41.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd0a0ff] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.415 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2052909280 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.422 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd0a0ff]
2025-11-06 18:38:41.423 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.423 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4380b] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.423 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@947495416 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.425 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32a4380b]
2025-11-06 18:38:41.454 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:38:41.454 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.455 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.455 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ce60f] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.456 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2144867359 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.460 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26ce60f]
2025-11-06 18:38:41.469 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:38:41.469 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:38:41.469 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:38:41.474 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:38:41.474 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.475 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74868709] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.475 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2119555449 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.476 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74868709]
2025-11-06 18:38:41.579 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:38:41.579 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.611 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:38:41.611 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:38:41.611 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:38:41.617 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:38:41.623 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.624 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc8b3e4] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.633 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@252970287 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.637 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dc8b3e4]
2025-11-06 18:38:41.637 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.637 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cf6384] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.638 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@514036605 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.642 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:38:41.643 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.644 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.644 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710cb9a4] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.645 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63cf6384]
2025-11-06 18:38:41.650 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@405540884 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.655 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710cb9a4]
2025-11-06 18:38:41.752 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:38:41.752 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.753 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:38:41.753 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f7f46] was not registered for synchronization because synchronization is not active
2025-11-06 18:38:41.768 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@531916462 wrapping com.mysql.cj.jdbc.ConnectionImpl@7134510c] will not be managed by Spring
2025-11-06 18:38:41.770 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f7f46]
2025-11-06 18:38:41.777 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:38:41.777 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:41.784 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:38:41.784 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:38:41.969 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:38:41.969 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:42.094 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:38:42.094 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:42.419 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:38:42.419 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:42.615 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:38:42.615 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:38:42.669 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:38:42.669 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:42.994 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:38:42.995 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:38:45.418 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:38:45.418 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:38:45.425 [http-nio-8080-exec-1] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/danmu/delete - Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjtrSKY7lSmwzeXrg;charset=UTF-8' is not supported
org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjtrSKY7lSmwzeXrg;charset=UTF-8' is not supported
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:213)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:161)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:135)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:38:45.428 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjtrSKY7lSmwzeXrg;charset=UTF-8' is not supported]
2025-11-06 18:38:48.651 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-06 18:38:48.655 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-06 18:38:48.656 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f44d8350-a590-ce44-c117-6d80d0bd2f9f, 当前在线用户数: 0
2025-11-06 18:38:48.656 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:38:48.656 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:38:48.657 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:38:51.790 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:38:51.840 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 70988 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:38:51.841 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:38:51.843 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:38:51.895 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:38:51.895 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:38:52.517 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:38:52.518 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:38:52.519 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:38:52.519 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:38:52.519 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:38:52.520 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:38:52.521 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:38:52.522 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:38:52.522 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:38:52.522 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:38:52.522 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:38:52.523 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:38:52.523 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:38:52.523 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:38:52.523 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:38:52.523 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:38:52.524 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:38:52.525 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:38:52.525 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:38:52.525 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:38:52.525 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:38:52.525 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:38:52.526 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:38:52.526 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:38:52.526 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:38:52.526 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:38:52.527 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:38:52.527 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:38:52.908 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:38:52.915 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:52.916 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:38:52.917 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:38:52.959 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:38:52.959 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1064 ms
2025-11-06 18:38:52.992 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:38:53.418 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:38:53.419 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:38:53.830 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:38:53.859 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:38:53.874 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:38:53.884 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.491 seconds (process running for 3.041)
2025-11-06 18:39:05.480 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 113 class path changes (0 additions, 112 deletions, 1 modification)
2025-11-06 18:39:05.483 [Thread-6] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:05.553 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 70988 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:39:05.553 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:39:05.554 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:39:05.654 [restartedMain] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.temimi.mapper]' package. Please check your configuration.
2025-11-06 18:39:05.685 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:39:05.685 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:05.686 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:39:05.686 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:39:05.701 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:39:05.701 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 146 ms
2025-11-06 18:39:05.781 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:39:05.785 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:05.788 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:39:05.791 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.269 seconds (process running for 14.948)
2025-11-06 18:39:05.792 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:39:09.474 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 112 class path changes (112 additions, 0 deletions, 0 modifications)
2025-11-06 18:39:09.475 [Thread-8] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:09.540 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 70988 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:39:09.540 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:39:09.540 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:39:09.683 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:39:09.684 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:39:09.685 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:39:09.685 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:39:09.685 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:39:09.685 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:39:09.685 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:39:09.686 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:39:09.686 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:39:09.686 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:39:09.686 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:39:09.688 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:39:09.690 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:39:09.690 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:39:09.690 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:39:09.690 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:39:09.690 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:39:09.691 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:39:09.734 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:39:09.735 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:09.735 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:39:09.735 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:39:09.753 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:39:09.753 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 211 ms
2025-11-06 18:39:09.758 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:39:09.937 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:39:09.937 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:39:10.099 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:39:10.112 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:39:10.115 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:39:10.119 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.604 seconds (process running for 19.276)
2025-11-06 18:39:10.121 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JwtAuthenticationTokenFilter matched:
      - @ConditionalOnProperty (jwt.enabled=true) matched (OnPropertyCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:39:19.762 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:39:19.762 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:39:19.763 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 18:39:19.769 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:39:19.770 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:39:19.770 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:39:19.830 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:39:19.854 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:39:19.855 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:19.860 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:19.865 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e50eaf] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:19.875 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 18:39:19.907 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:39:19.907 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:19.912 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:39:19.913 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:19.923 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:19.923 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5d98a4] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:19.927 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:39:19.929 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:39:19.936 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:39:19.942 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:19.942 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363e45c5] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.062 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8
2025-11-06 18:39:20.064 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 18:39:20.069 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@545373046 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.069 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@197413584 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.089 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@871778550 wrapping com.mysql.cj.jdbc.ConnectionImpl@b0378e8] will not be managed by Spring
2025-11-06 18:39:20.129 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e50eaf]
2025-11-06 18:39:20.129 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5d98a4]
2025-11-06 18:39:20.130 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.130 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419933c2] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.130 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@636734090 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.134 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419933c2]
2025-11-06 18:39:20.135 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.135 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8c6cc7] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.136 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@337027404 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.136 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363e45c5]
2025-11-06 18:39:20.137 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.137 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2416e09e] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.138 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8c6cc7]
2025-11-06 18:39:20.138 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@517571476 wrapping com.mysql.cj.jdbc.ConnectionImpl@b0378e8] will not be managed by Spring
2025-11-06 18:39:20.140 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2416e09e]
2025-11-06 18:39:20.141 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.141 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96709c] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.142 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2023190368 wrapping com.mysql.cj.jdbc.ConnectionImpl@b0378e8] will not be managed by Spring
2025-11-06 18:39:20.145 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96709c]
2025-11-06 18:39:20.188 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:39:20.188 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.191 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:39:20.191 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:39:20.192 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.192 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:39:20.192 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:39:20.193 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 1e1f3997-3f98-3e4c-0e6a-6d5f74c5e188
2025-11-06 18:39:20.193 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 1e1f3997-3f98-3e4c-0e6a-6d5f74c5e188, 当前在线用户数: 1
2025-11-06 18:39:20.194 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:39:20.194 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.194 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:39:20.196 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.196 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e12ac2c] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.198 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.198 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640bd28d] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.198 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@282411422 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.198 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@302147781 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.200 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640bd28d]
2025-11-06 18:39:20.201 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e12ac2c]
2025-11-06 18:39:20.203 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:39:20.210 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:39:20.230 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:39:20.509 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:39:20.509 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:39:20.509 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:39:20.510 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:39:20.510 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.510 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:39:20.510 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:39:20.510 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:39:20.513 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:39:20.513 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:39:20.514 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.514 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35569ce8] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.515 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:39:20.514 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@607531272 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.515 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:39:20.516 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:39:20.519 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35569ce8]
2025-11-06 18:39:20.521 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:39:20.523 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.523 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b7c995] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.524 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@714844169 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.525 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:39:20.526 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.526 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:39:20.525 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b7c995]
2025-11-06 18:39:20.526 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.526 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.527 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e60ea1e] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.533 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2100305807 wrapping com.mysql.cj.jdbc.ConnectionImpl@b0378e8] will not be managed by Spring
2025-11-06 18:39:20.535 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e60ea1e]
2025-11-06 18:39:20.548 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:39:20.548 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:39:20.554 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.554 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1129e754] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.554 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1461996136 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.555 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1129e754]
2025-11-06 18:39:20.555 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.556 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27efa5e1] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.558 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@388381065 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.562 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27efa5e1]
2025-11-06 18:39:20.851 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:39:20.851 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:39:20.851 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.851 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.851 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:39:20.851 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:20.852 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.853 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7ce683] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.854 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:39:20.854 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59505c33] was not registered for synchronization because synchronization is not active
2025-11-06 18:39:20.856 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1623928394 wrapping com.mysql.cj.jdbc.ConnectionImpl@7aaf41a8] will not be managed by Spring
2025-11-06 18:39:20.858 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1574570269 wrapping com.mysql.cj.jdbc.ConnectionImpl@20cb7658] will not be managed by Spring
2025-11-06 18:39:20.864 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7ce683]
2025-11-06 18:39:20.872 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59505c33]
2025-11-06 18:39:21.178 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:39:21.180 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:21.342 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:39:21.343 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:39:21.587 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:39:21.587 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:21.932 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:39:21.932 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:39:24.819 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:39:24.819 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:39:24.824 [http-nio-8080-exec-10] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/danmu/delete - Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjEBaJOc0HwloBItF;charset=UTF-8' is not supported
org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjEBaJOc0HwloBItF;charset=UTF-8' is not supported
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:213)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:161)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:135)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 18:39:24.827 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=----WebKitFormBoundaryjEBaJOc0HwloBItF;charset=UTF-8' is not supported]
2025-11-06 18:41:13.418 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:41:13.440 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:41:13.443 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 1e1f3997-3f98-3e4c-0e6a-6d5f74c5e188, 当前在线用户数: 0
2025-11-06 18:41:13.444 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:41:13.444 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:41:13.444 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:41:18.660 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 18:41:18.706 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72976 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:41:18.707 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:41:18.708 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:41:18.749 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 18:41:18.749 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 18:41:19.340 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:41:19.340 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:41:19.341 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:41:19.342 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:41:19.342 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:41:19.344 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:41:19.344 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:41:19.344 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:41:19.344 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:41:19.345 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:41:19.347 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:41:19.347 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:41:19.348 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:41:19.349 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:41:19.350 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:41:19.350 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:41:19.350 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:41:19.706 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:41:19.712 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:41:19.713 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:41:19.713 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:41:19.751 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:41:19.751 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1001 ms
2025-11-06 18:41:19.780 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:41:20.193 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:41:20.194 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:41:20.594 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:41:20.615 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:41:20.634 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:41:20.643 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.339 seconds (process running for 2.855)
2025-11-06 18:41:24.468 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:41:24.469 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:41:24.470 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 18:41:24.477 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:41:24.479 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:24.479 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:41:24.574 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:24.609 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.615 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723ae9c0] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.624 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 18:41:24.628 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:41:24.629 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:24.682 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:41:24.683 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:24.685 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:41:24.686 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:24.700 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.702 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1cd707] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.715 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:41:24.716 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:41:24.720 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.721 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f6b8a9] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.722 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:41:24.851 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6964df6b
2025-11-06 18:41:24.854 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 18:41:24.860 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1773644886 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:24.860 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1827125410 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:24.919 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@887034004 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:24.959 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1cd707]
2025-11-06 18:41:24.959 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723ae9c0]
2025-11-06 18:41:24.961 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.961 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@826f2c3] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.961 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@644048598 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:24.970 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@826f2c3]
2025-11-06 18:41:24.971 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.971 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b69007] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.972 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@159764886 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:24.973 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68f6b8a9]
2025-11-06 18:41:24.974 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.974 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d09aef] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.975 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b69007]
2025-11-06 18:41:24.975 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@463707567 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:24.977 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d09aef]
2025-11-06 18:41:24.978 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:24.978 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41001e68] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:24.979 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1999762245 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:24.991 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41001e68]
2025-11-06 18:41:25.038 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:41:25.039 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.041 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:41:25.042 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.042 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:41:25.042 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:25.042 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:41:25.044 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 1549ad60-2118-9d43-dc58-fe25bfeca48e
2025-11-06 18:41:25.045 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 1549ad60-2118-9d43-dc58-fe25bfeca48e, 当前在线用户数: 1
2025-11-06 18:41:25.047 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:25.050 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.050 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221f9e91] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.051 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:41:25.051 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@487048026 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:25.051 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.052 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.053 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1931194] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.053 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:41:25.053 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221f9e91]
2025-11-06 18:41:25.053 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@257228758 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:25.057 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1931194]
2025-11-06 18:41:25.076 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:41:25.098 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:41:25.373 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:41:25.373 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:41:25.373 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:41:25.374 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:41:25.374 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:25.374 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.374 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:25.374 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.374 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:41:25.375 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:41:25.377 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.377 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ec157b] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.381 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:25.381 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:41:25.381 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:25.381 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:25.382 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:41:25.382 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@732118717 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:25.382 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.383 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a462916] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.384 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1191751821 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:25.385 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32ec157b]
2025-11-06 18:41:25.386 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a462916]
2025-11-06 18:41:25.388 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:25.389 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.390 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:25.391 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.391 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598b2a70] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.394 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2095335553 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:25.398 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598b2a70]
2025-11-06 18:41:25.408 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:25.408 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:25.414 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.414 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43923bee] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.414 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1270959458 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:25.416 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43923bee]
2025-11-06 18:41:25.416 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.416 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9d5e7e] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.419 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@880616370 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:25.423 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9d5e7e]
2025-11-06 18:41:25.712 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:25.712 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:41:25.712 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:41:25.712 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.712 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.712 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:25.713 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.713 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c8a7f7] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.713 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:25.714 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad57c83] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:25.720 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@881204773 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:25.722 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1052349339 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:25.725 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c8a7f7]
2025-11-06 18:41:25.740 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ad57c83]
2025-11-06 18:41:26.036 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:26.037 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:26.195 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:26.195 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:26.413 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:26.414 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:26.448 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:26.448 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:26.517 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:26.517 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:26.745 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:26.745 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:26.768 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:26.768 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:26.793 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:26.793 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:30.606 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:41:30.606 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:30.619 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:30.620 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ccf361]
2025-11-06 18:41:30.623 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@821886950 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will be managed by Spring
2025-11-06 18:41:30.627 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ccf361]
2025-11-06 18:41:30.627 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ccf361]
2025-11-06 18:41:30.628 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ccf361]
2025-11-06 18:41:30.628 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ccf361]
2025-11-06 18:41:33.605 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/delete
2025-11-06 18:41:33.605 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:33.611 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:33.611 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cb49bb]
2025-11-06 18:41:33.611 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1025676552 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will be managed by Spring
2025-11-06 18:41:33.614 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cb49bb]
2025-11-06 18:41:33.614 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cb49bb]
2025-11-06 18:41:33.614 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cb49bb]
2025-11-06 18:41:33.614 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cb49bb]
2025-11-06 18:41:34.654 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:41:34.654 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 1549ad60-2118-9d43-dc58-fe25bfeca48e, 当前在线用户数: 0
2025-11-06 18:41:34.654 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:41:34.654 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:41:34.906 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:41:34.906 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:34.906 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:41:34.911 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:34.911 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:34.912 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0e5b38] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:34.912 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@582759785 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:34.915 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0e5b38]
2025-11-06 18:41:34.929 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:41:34.929 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:34.933 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f5906b97-2d94-0cd7-1ccb-8afca5bfc246
2025-11-06 18:41:34.933 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f5906b97-2d94-0cd7-1ccb-8afca5bfc246, 当前在线用户数: 1
2025-11-06 18:41:34.934 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:41:34.934 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:41:34.935 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:41:34.986 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:41:34.986 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:34.987 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:41:34.992 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:34.992 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:34.993 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afa978b] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:34.993 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1853782911 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:34.995 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7afa978b]
2025-11-06 18:41:35.034 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:41:35.034 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:35.034 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:41:35.041 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:35.042 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.042 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4685981e] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.044 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1131015935 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.046 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4685981e]
2025-11-06 18:41:35.092 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:41:35.093 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.093 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.094 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217b9c6f] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.094 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@721297359 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.103 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217b9c6f]
2025-11-06 18:41:35.138 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:41:35.138 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.140 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:41:35.140 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:41:35.140 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:41:35.179 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:41:35.180 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.181 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.181 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bf2a0f] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.182 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@348275220 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:35.186 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bf2a0f]
2025-11-06 18:41:35.187 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.187 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7993f9] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.188 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1989741213 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:35.191 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7993f9]
2025-11-06 18:41:35.191 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.191 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1beb82cb] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.192 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1264397332 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:41:35.194 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1beb82cb]
2025-11-06 18:41:35.229 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:41:35.230 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.233 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:41:35.233 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.234 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.234 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100b9310] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.238 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@541867092 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.242 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100b9310]
2025-11-06 18:41:35.242 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.243 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f648de2] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.243 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@772518598 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.246 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f648de2]
2025-11-06 18:41:35.246 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.246 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3b6abf] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.247 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1434185479 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.248 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3b6abf]
2025-11-06 18:41:35.302 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:41:35.302 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.303 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.303 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3949a15] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.304 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@293615907 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:35.306 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3949a15]
2025-11-06 18:41:35.364 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:41:35.365 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:35.365 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:41:35.368 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:35.370 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.370 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abe1d4] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.371 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1146924152 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:41:35.372 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1abe1d4]
2025-11-06 18:41:35.487 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:41:35.487 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.520 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:41:35.520 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:41:35.520 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:41:35.524 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:41:35.528 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.528 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b1a77b] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.529 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@76634595 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.532 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b1a77b]
2025-11-06 18:41:35.532 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.532 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af5aedd] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.532 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@399763518 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.538 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5af5aedd]
2025-11-06 18:41:35.550 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:41:35.550 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.551 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.551 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160b97b0] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.554 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1891024746 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.557 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@160b97b0]
2025-11-06 18:41:35.595 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:41:35.595 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.597 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:41:35.597 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513b91f2] was not registered for synchronization because synchronization is not active
2025-11-06 18:41:35.602 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1118062236 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:41:35.605 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513b91f2]
2025-11-06 18:41:35.628 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:35.628 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.635 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:35.636 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:35.872 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:41:35.872 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:35.949 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:35.949 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:36.260 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:36.260 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:36.409 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:36.412 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:41:36.522 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:41:36.522 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:41:36.847 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:41:36.847 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 18:44:41.383 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:44:41.384 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:44:41.392 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:44:41.392 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.395 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:44:41.396 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.398 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:44:41.399 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:44:41.402 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:44:41.428 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:44:41.429 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:44:41.429 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.430 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.432 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.432 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.435 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eefdb4] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.435 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8883b] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.438 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@836046943 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.443 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eefdb4]
2025-11-06 18:44:41.444 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1179523319 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.444 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.445 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31121e18] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.449 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1189500627 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:41.453 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce8883b]
2025-11-06 18:44:41.455 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.455 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31121e18]
2025-11-06 18:44:41.457 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50390fd7] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.458 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.458 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1720069255 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.459 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c780b4] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.460 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@981106805 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:41.463 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50390fd7]
2025-11-06 18:44:41.464 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c780b4]
2025-11-06 18:44:41.464 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.465 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1160fe13] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.466 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@163519583 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.469 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1160fe13]
2025-11-06 18:44:41.622 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:44:41.624 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.627 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.631 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f22819] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.635 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@130958794 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:41.640 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f22819]
2025-11-06 18:44:41.793 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:44:41.793 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:44:41.793 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:44:41.794 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:44:41.794 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:44:41.795 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:44:41.795 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:44:41.795 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.795 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.795 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.795 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:44:41.795 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:44:41.797 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.800 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756d0a0] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.811 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:44:41.811 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@999450137 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:41.812 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:44:41.813 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.815 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756d0a0]
2025-11-06 18:44:41.816 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aef7560] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.818 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.821 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@183846996 wrapping com.mysql.cj.jdbc.ConnectionImpl@2d20c993] will not be managed by Spring
2025-11-06 18:44:41.821 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74463b52] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.823 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2112739053 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.825 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aef7560]
2025-11-06 18:44:41.830 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74463b52]
2025-11-06 18:44:41.832 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.835 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b0f25c] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.839 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@32099635 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.844 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b0f25c]
2025-11-06 18:44:41.958 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:44:41.959 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:41.960 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:41.960 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@885f937] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:41.965 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1378261068 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:41.967 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@885f937]
2025-11-06 18:44:42.129 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:42.131 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.137 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:44:42.138 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:44:42.484 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:42.485 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.493 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:44:42.493 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:44:42.498 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:44:42.498 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.502 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:44:42.503 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:44:42.503 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:44:42.707 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:44:42.707 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:44:42.707 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:44:42.707 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.707 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.707 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.709 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.710 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.711 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d77ee3f] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.711 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dcec949] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.713 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2128012873 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:42.714 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:42.715 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.719 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d77ee3f]
2025-11-06 18:44:42.720 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.720 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1795745012 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:42.721 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af3ca8e] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.723 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1756876793 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:42.727 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dcec949]
2025-11-06 18:44:42.727 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af3ca8e]
2025-11-06 18:44:42.728 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.729 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.729 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18cb9e1a] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.729 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd842d] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.730 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@877196979 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:42.731 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@877562114 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:42.734 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18cb9e1a]
2025-11-06 18:44:42.734 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd842d]
2025-11-06 18:44:42.735 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.737 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6707ed08] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.739 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@595104956 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:42.743 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6707ed08]
2025-11-06 18:44:42.776 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:44:42.778 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:42.780 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.781 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a041f] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.782 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1692036844 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:42.787 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a041f]
2025-11-06 18:44:42.805 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:44:42.805 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:44:42.805 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:44:42.820 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:44:42.822 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:42.823 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5507380] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:42.824 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@909207008 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:42.827 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5507380]
2025-11-06 18:44:43.063 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:44:43.063 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:44:43.063 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:44:43.063 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:44:43.064 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.065 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:44:43.065 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.065 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:44:43.067 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:44:43.070 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:43.072 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11873dd0] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:43.078 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:44:43.078 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@84044860 wrapping com.mysql.cj.jdbc.ConnectionImpl@6964df6b] will not be managed by Spring
2025-11-06 18:44:43.083 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11873dd0]
2025-11-06 18:44:43.085 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:43.088 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301d634d] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:43.089 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@910239973 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:43.092 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301d634d]
2025-11-06 18:44:43.093 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:43.094 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36570b01] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:43.096 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1837826445 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:43.101 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36570b01]
2025-11-06 18:44:43.108 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:44:43.108 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.109 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:44:43.110 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7e7c77] was not registered for synchronization because synchronization is not active
2025-11-06 18:44:43.113 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@545394103 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bad15d9] will not be managed by Spring
2025-11-06 18:44:43.115 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7e7c77]
2025-11-06 18:44:43.137 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:44:43.138 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.404 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:43.407 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.413 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:44:43.414 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:44:43.432 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:44:43.432 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.434 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:44:43.435 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:44:43.437 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 18:44:43.731 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:43.731 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:43.996 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:44:43.996 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:44.527 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:44:44.527 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:44:44.529 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:44:44.529 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:44:44.530 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 3
2025-11-06 18:50:13.618 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-11-06 18:50:13.656 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 18:50:13.676 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 18:50:13.681 [Thread-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f5906b97-2d94-0cd7-1ccb-8afca5bfc246, 当前在线用户数: 0
2025-11-06 18:50:13.681 [Thread-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 18:50:13.681 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:50:13.681 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:50:13.682 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 18:50:13.682 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 18:50:13.682 [Thread-6] ERROR c.t.handler.DanmuWebSocketHandler - 发送观看人数失败: java.nio.channels.ClosedChannelException
2025-11-06 18:50:13.682 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:50:13.683 [Thread-6] ERROR c.t.handler.DanmuWebSocketHandler - 发送观看人数失败: java.nio.channels.ClosedChannelException
2025-11-06 18:50:13.683 [Thread-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 18:50:13.838 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72976 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:50:13.838 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:50:13.838 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:50:14.253 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:50:14.254 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:50:14.254 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:50:14.254 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:50:14.254 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:50:14.254 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:50:14.255 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:50:14.255 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:50:14.255 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:50:14.255 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:50:14.256 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:50:14.257 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:50:14.257 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:50:14.257 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:50:14.257 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:50:14.258 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:50:14.258 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:50:14.258 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:50:14.258 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:50:14.259 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:50:14.259 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:50:14.259 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:50:14.259 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:50:14.260 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:50:14.260 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:50:14.260 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:50:14.260 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:50:14.261 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:50:14.397 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:50:14.399 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:50:14.399 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:50:14.399 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:50:14.446 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:50:14.446 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 602 ms
2025-11-06 18:50:14.467 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:50:14.843 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:50:14.843 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:50:15.113 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:50:15.128 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:50:15.131 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:50:15.135 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 1.4 seconds (process running for 537.348)
2025-11-06 18:50:15.138 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ProjectInfoAutoConfiguration#gitProperties matched:
      - GitResource found git info at classpath:git.properties (ProjectInfoAutoConfiguration.GitResourceAvailableCondition)
      - @ConditionalOnMissingBean (types: org.springframework.boot.info.GitProperties; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 18:50:16.563 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-06 18:50:16.564 [Thread-10] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-06 18:50:16.629 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72976 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 18:50:16.629 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 18:50:16.629 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 18:50:16.760 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 18:50:16.761 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 18:50:16.762 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 18:50:16.763 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 18:50:16.764 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 18:50:16.764 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 18:50:16.764 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 18:50:16.764 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 18:50:16.764 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 18:50:16.802 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 18:50:16.802 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 18:50:16.803 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 18:50:16.803 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 18:50:16.814 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 18:50:16.814 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 184 ms
2025-11-06 18:50:16.819 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 18:50:16.967 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 18:50:16.968 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 18:50:17.105 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 18:50:17.116 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 18:50:17.119 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 18:50:17.121 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.517 seconds (process running for 539.334)
2025-11-06 18:50:17.122 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-06 18:57:04.313 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 18:57:04.313 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 18:57:04.314 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 18:57:04.315 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 18:57:04.318 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:04.319 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 18:57:04.328 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:04.330 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.330 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e960833] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.331 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-06 18:57:04.339 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47819c9b
2025-11-06 18:57:04.340 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-06 18:57:04.340 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1927131270 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.343 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e960833]
2025-11-06 18:57:04.371 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 18:57:04.371 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.378 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: fbb3105c-b504-c795-4f32-6afcbb33a097
2025-11-06 18:57:04.378 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: fbb3105c-b504-c795-4f32-6afcbb33a097, 当前在线用户数: 1
2025-11-06 18:57:04.382 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 18:57:04.412 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 18:57:04.413 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:04.413 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 18:57:04.413 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 18:57:04.415 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 18:57:04.417 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:04.418 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.419 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fea51a2] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.419 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2032622760 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.422 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fea51a2]
2025-11-06 18:57:04.429 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 18:57:04.429 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:04.430 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 18:57:04.435 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:04.436 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.437 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b488a0a] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.440 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@569718849 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.443 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b488a0a]
2025-11-06 18:57:04.506 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 18:57:04.507 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.508 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.508 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6d2629] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.509 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1909939424 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.521 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6d2629]
2025-11-06 18:57:04.569 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 18:57:04.569 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.571 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 18:57:04.573 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 18:57:04.573 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 18:57:04.620 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 18:57:04.620 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.621 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.622 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ba336e] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.622 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1976532170 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.624 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ba336e]
2025-11-06 18:57:04.624 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.624 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ff024f] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.625 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1617721917 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.628 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ff024f]
2025-11-06 18:57:04.629 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.629 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36430508] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.630 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@478446837 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.632 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36430508]
2025-11-06 18:57:04.668 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:57:04.668 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.684 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 18:57:04.684 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.689 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.689 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cd348d] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.693 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1478099936 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.697 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62cd348d]
2025-11-06 18:57:04.697 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.698 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694138e3] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.698 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@868141241 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.700 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@694138e3]
2025-11-06 18:57:04.701 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.701 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5345ed98] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.702 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@866341171 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.704 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5345ed98]
2025-11-06 18:57:04.782 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 18:57:04.782 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 18:57:04.782 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.782 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:04.782 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 18:57:04.783 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.784 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1364be77] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.784 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@483771571 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.787 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:04.787 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1364be77]
2025-11-06 18:57:04.788 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.788 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641be033] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.789 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1888277450 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.791 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641be033]
2025-11-06 18:57:04.935 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 18:57:04.936 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.966 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 18:57:04.967 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:04.967 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 18:57:04.970 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:04.975 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.975 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a8fbef] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.975 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@310415987 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.976 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29a8fbef]
2025-11-06 18:57:04.977 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.977 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413ab2e2] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.978 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@799231657 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.982 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@413ab2e2]
2025-11-06 18:57:04.989 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:57:04.989 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:04.990 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:04.990 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b7063ed] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:04.993 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1542432984 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:04.996 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b7063ed]
2025-11-06 18:57:05.090 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 18:57:05.090 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:05.091 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:05.091 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac74da1] was not registered for synchronization because synchronization is not active
2025-11-06 18:57:05.094 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1002266598 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 18:57:05.096 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac74da1]
2025-11-06 18:57:05.184 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:05.184 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:05.194 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:05.195 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:05.322 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 18:57:05.323 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:05.509 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:05.509 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:05.835 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:05.836 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:05.993 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:05.993 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:06.092 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.093 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.109 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.109 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:06.195 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.195 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.246 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.246 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:06.304 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.304 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.372 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.373 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:06.426 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.426 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.437 [http-nio-8080-exec-2] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.438 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 18:57:06.568 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.568 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.619 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.619 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 18:57:06.691 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.691 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.730 [http-nio-8080-exec-7] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.731 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:06.753 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 18:57:06.754 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 18:57:06.768 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 18:57:06.769 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 18:57:07.028 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 18:57:07.028 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:07.028 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 18:57:07.030 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:07.035 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:07.036 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:07.036 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@664463493 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will be managed by Spring
2025-11-06 18:57:07.039 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:07.040 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205] from current transaction
2025-11-06 18:57:07.042 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:07.042 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:07.042 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:07.042 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b00205]
2025-11-06 18:57:47.864 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 18:57:47.864 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:47.864 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 18:57:47.866 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:50.714 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 18:57:50.714 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:50.715 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 18:57:50.716 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:50.722 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:50.722 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:50.722 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@694142847 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will be managed by Spring
2025-11-06 18:57:50.725 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:50.726 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5] from current transaction
2025-11-06 18:57:50.726 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:50.726 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:50.726 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:50.726 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328118d5]
2025-11-06 18:57:59.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/create
2025-11-06 18:57:59.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:57:59.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/create
2025-11-06 18:57:59.425 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:57:59.434 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:57:59.434 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e2b764]
2025-11-06 18:57:59.435 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1806028148 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will be managed by Spring
2025-11-06 18:57:59.440 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e2b764]
2025-11-06 18:57:59.441 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e2b764]
2025-11-06 18:57:59.441 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e2b764]
2025-11-06 18:57:59.441 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20e2b764]
2025-11-06 18:58:01.586 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 18:58:01.586 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 18:58:01.586 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 18:58:01.588 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 18:58:01.591 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 18:58:01.592 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.592 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1920912606 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will be managed by Spring
2025-11-06 18:58:01.593 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.596 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16] from current transaction
2025-11-06 18:58:01.598 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.599 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16] from current transaction
2025-11-06 18:58:01.606 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.606 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16] from current transaction
2025-11-06 18:58:01.609 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.609 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.609 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 18:58:01.610 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e56f16]
2025-11-06 19:00:45.039 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:00:45.039 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:00:45.045 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:00:45.046 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.048 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:00:45.048 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:00:45.049 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:00:45.063 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:00:45.063 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.261 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:00:45.261 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.261 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.261 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9ad288] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.262 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@677011549 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.264 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e9ad288]
2025-11-06 19:00:45.264 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.264 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ef9df3] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.264 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1314463540 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.265 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ef9df3]
2025-11-06 19:00:45.265 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.265 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fd3ca] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.265 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@217437939 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.266 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67fd3ca]
2025-11-06 19:00:45.368 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:00:45.369 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.369 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.369 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37149efa] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.371 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@121316811 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.374 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37149efa]
2025-11-06 19:00:45.374 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.376 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78225f99] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.376 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1079436084 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.376 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78225f99]
2025-11-06 19:00:45.376 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.376 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d51a0c] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.377 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@803294136 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.377 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d51a0c]
2025-11-06 19:00:45.400 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:00:45.400 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:00:45.401 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:00:45.401 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.401 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:00:45.403 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:00:45.403 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.403 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdcc212] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.404 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@145808093 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.405 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fdcc212]
2025-11-06 19:00:45.406 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.406 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24b89656] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.408 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1103821076 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.409 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24b89656]
2025-11-06 19:00:45.591 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:00:45.592 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:00:45.592 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:00:45.592 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:00:45.592 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:00:45.592 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.592 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:45.595 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:00:45.599 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.599 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62caad5b] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.599 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@721276813 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.601 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62caad5b]
2025-11-06 19:00:45.601 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:00:45.601 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9c81e] was not registered for synchronization because synchronization is not active
2025-11-06 19:00:45.601 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@375265545 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:00:45.603 [http-nio-8080-exec-4] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:00:45.603 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:00:45.636 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c9c81e]
2025-11-06 19:00:45.920 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:00:45.920 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:46.233 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:00:46.234 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:47.106 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:00:47.106 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:00:47.107 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:00:47.107 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:00:47.107 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 19:01:11.209 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:01:11.210 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:01:11.213 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:01:11.213 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.215 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:01:11.215 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:01:11.215 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 19:01:11.229 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:01:11.229 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.436 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:01:11.436 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.437 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.437 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d97af07] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.438 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1552906601 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.439 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d97af07]
2025-11-06 19:01:11.439 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.439 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec03346] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.439 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1851738126 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.440 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec03346]
2025-11-06 19:01:11.440 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.440 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d18cd86] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.441 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1650297696 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.442 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d18cd86]
2025-11-06 19:01:11.529 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:01:11.529 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.529 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.530 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33654b14] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.531 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@334097681 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.534 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33654b14]
2025-11-06 19:01:11.534 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.534 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f564cb9] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.534 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@596354855 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.535 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f564cb9]
2025-11-06 19:01:11.536 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.536 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c18430d] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.536 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1374091187 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.536 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c18430d]
2025-11-06 19:01:11.559 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:01:11.559 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:01:11.560 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:01:11.560 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:01:11.560 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:01:11.560 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:01:11.562 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:01:11.562 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:01:11.562 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.562 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbf3c42] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.563 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1035076864 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbf3c42]
2025-11-06 19:01:11.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.564 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d000a41] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.565 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1335851663 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.566 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d000a41]
2025-11-06 19:01:11.564 [http-nio-8080-exec-9] ERROR c.t.handler.GlobalExceptionHandler - 系统异常: /api/video/user-status - No static resource api/video/user-status.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/video/user-status.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at com.temimi.config.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:126)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-06 19:01:11.569 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/video/user-status.]
2025-11-06 19:01:11.762 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:01:11.762 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.762 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:01:11.762 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:01:11.762 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.762 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:01:11.762 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:01:11.762 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.762 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d96920] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.763 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@228023981 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.764 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:01:11.764 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d96920]
2025-11-06 19:01:11.769 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.771 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153b4a75] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.771 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@190230958 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.772 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153b4a75]
2025-11-06 19:01:11.773 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.773 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f068af9] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.773 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1786829755 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.778 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f068af9]
2025-11-06 19:01:11.866 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:01:11.866 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:11.867 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:11.867 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b87fc] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:11.869 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1555317632 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:11.870 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b87fc]
2025-11-06 19:01:11.903 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:01:11.903 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:12.092 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:01:12.092 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:12.137 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:01:12.139 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:01:12.448 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:01:12.448 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:01:12.448 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:12.448 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:12.449 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:01:12.449 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444a3780] was not registered for synchronization because synchronization is not active
2025-11-06 19:01:12.451 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@235037155 wrapping com.mysql.cj.jdbc.ConnectionImpl@47819c9b] will not be managed by Spring
2025-11-06 19:01:12.453 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444a3780]
2025-11-06 19:01:12.837 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:01:12.838 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:13.265 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:01:13.265 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:01:13.267 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:01:13.267 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:01:13.267 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 3
2025-11-06 19:04:41.271 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-06 19:04:41.273 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] ERROR c.t.handler.DanmuWebSocketHandler - 发送观看人数失败: java.nio.channels.ClosedChannelException
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:04:41.275 [SpringApplicationShutdownHook] ERROR c.t.handler.DanmuWebSocketHandler - 发送观看人数失败: java.nio.channels.ClosedChannelException
2025-11-06 19:04:41.276 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 19:04:41.276 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: fbb3105c-b504-c795-4f32-6afcbb33a097, 当前在线用户数: 0
2025-11-06 19:04:41.276 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:04:47.170 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 19:04:47.221 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 52772 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 19:04:47.222 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 19:04:47.224 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 19:04:47.270 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 19:04:47.270 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 19:04:47.901 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 19:04:47.902 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 19:04:47.903 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 19:04:47.903 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 19:04:47.903 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 19:04:47.903 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 19:04:47.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 19:04:47.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 19:04:47.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 19:04:47.906 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 19:04:47.906 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 19:04:47.906 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 19:04:47.906 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 19:04:47.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 19:04:47.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 19:04:47.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 19:04:47.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 19:04:47.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 19:04:47.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 19:04:47.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 19:04:47.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 19:04:47.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 19:04:47.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 19:04:47.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 19:04:47.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 19:04:48.298 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 19:04:48.306 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 19:04:48.308 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 19:04:48.308 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 19:04:48.352 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 19:04:48.352 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1081 ms
2025-11-06 19:04:48.384 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 19:04:48.819 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 19:04:48.819 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 19:04:49.226 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 19:04:49.246 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 19:04:49.259 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 19:04:49.266 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.514 seconds (process running for 3.156)
2025-11-06 19:04:55.153 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 19:04:55.153 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 19:04:55.155 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-06 19:04:55.161 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:04:55.162 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.162 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:04:55.233 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.245 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:04:55.245 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.266 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.272 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238701db] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.279 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 19:04:55.291 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:04:55.292 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.293 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:04:55.294 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.308 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.309 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62375446] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.321 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:04:55.322 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:04:55.326 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.326 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6490f717] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.327 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:04:55.479 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba
2025-11-06 19:04:55.480 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 19:04:55.484 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1824784796 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.485 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1154438181 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:55.513 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@104504084 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:04:55.533 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62375446]
2025-11-06 19:04:55.533 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238701db]
2025-11-06 19:04:55.534 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.535 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1fcb40] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.535 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1103254806 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:04:55.539 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a1fcb40]
2025-11-06 19:04:55.540 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.540 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c81e1f] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.540 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@785152986 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:04:55.541 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6490f717]
2025-11-06 19:04:55.541 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.542 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222bd888] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.542 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2119847667 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:55.542 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28c81e1f]
2025-11-06 19:04:55.545 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@222bd888]
2025-11-06 19:04:55.546 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.546 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9b77fb] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.547 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@50859800 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:55.552 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f9b77fb]
2025-11-06 19:04:55.589 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:04:55.589 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.591 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:04:55.591 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.591 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:04:55.592 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:04:55.593 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.593 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:04:55.595 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:04:55.596 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.597 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.599 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.599 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.600 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e48b04] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.601 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1200397961 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.602 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f93733ed-48b8-87fa-81a5-5256b5f4e486
2025-11-06 19:04:55.603 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f93733ed-48b8-87fa-81a5-5256b5f4e486, 当前在线用户数: 1
2025-11-06 19:04:55.604 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.605 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e0a79b] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.605 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e48b04]
2025-11-06 19:04:55.607 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1641908448 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.610 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.611 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62591d27] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.612 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e0a79b]
2025-11-06 19:04:55.613 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@478074480 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:55.616 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:04:55.616 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62591d27]
2025-11-06 19:04:55.618 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 19:04:55.632 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:04:55.902 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:04:55.902 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:04:55.903 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.903 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.903 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:04:55.908 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.909 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:04:55.909 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:04:55.910 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.910 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:55.910 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:04:55.910 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:04:55.911 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.911 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1878d8] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.911 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@736886161 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.915 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.915 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1878d8]
2025-11-06 19:04:55.915 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:55.916 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.916 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a40b6d8] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.918 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1324858338 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:04:55.921 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a40b6d8]
2025-11-06 19:04:55.931 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:04:55.931 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:04:55.931 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.931 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:55.932 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.933 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db63124] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.934 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@531346772 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:55.936 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db63124]
2025-11-06 19:04:55.944 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:04:55.945 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:04:55.947 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.947 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402098a6] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.947 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1214882584 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.949 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402098a6]
2025-11-06 19:04:55.949 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:55.949 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be719de] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:55.952 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2063351843 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:55.955 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7be719de]
2025-11-06 19:04:56.244 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:04:56.244 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:56.246 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:56.247 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab1a48] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:56.248 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@377972035 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:56.260 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cab1a48]
2025-11-06 19:04:56.276 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:04:56.276 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:04:56.276 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:56.276 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:56.278 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:56.278 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdbde7e] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:56.292 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@242532636 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:04:56.296 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdbde7e]
2025-11-06 19:04:56.596 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:04:56.596 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:56.596 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:56.596 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@104c00e9] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:56.600 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1879073950 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:56.604 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@104c00e9]
2025-11-06 19:04:56.609 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:04:56.610 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:04:57.096 [http-nio-8080-exec-8] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:04:57.096 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:04:58.327 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 19:04:58.327 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:58.327 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 19:04:58.331 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:58.345 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:58.345 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.346 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1239737279 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will be managed by Spring
2025-11-06 19:04:58.349 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.350 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507] from current transaction
2025-11-06 19:04:58.354 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.355 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.355 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.355 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40efa507]
2025-11-06 19:04:58.359 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:58.359 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5074caa5] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:58.359 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1382124588 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:04:58.361 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5074caa5]
2025-11-06 19:04:59.563 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 19:04:59.563 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:04:59.563 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 19:04:59.569 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:04:59.580 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:59.580 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.580 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@549538571 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will be managed by Spring
2025-11-06 19:04:59.583 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.583 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0] from current transaction
2025-11-06 19:04:59.584 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.584 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.585 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.585 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd946b0]
2025-11-06 19:04:59.588 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:04:59.588 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fdb24c] was not registered for synchronization because synchronization is not active
2025-11-06 19:04:59.589 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1078011368 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:04:59.590 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fdb24c]
2025-11-06 19:05:02.932 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f93733ed-48b8-87fa-81a5-5256b5f4e486, 当前在线用户数: 0
2025-11-06 19:05:02.933 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:05:02.933 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:05:02.933 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:05:03.164 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:05:03.165 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.165 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:05:03.170 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.171 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.171 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d0f614] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.173 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1884412708 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.176 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d0f614]
2025-11-06 19:05:03.195 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:05:03.195 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.195 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:05:03.195 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:05:03.195 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.200 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: a0100086-eb41-bae8-00b8-9d9c89871a12
2025-11-06 19:05:03.200 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: a0100086-eb41-bae8-00b8-9d9c89871a12, 当前在线用户数: 1
2025-11-06 19:05:03.201 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.201 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:05:03.202 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.202 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d264885] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.203 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 19:05:03.203 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:05:03.203 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1836691895 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.205 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d264885]
2025-11-06 19:05:03.351 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:05:03.351 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.351 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:05:03.356 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.356 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.357 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b54eaf] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.359 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1312374353 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:03.363 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b54eaf]
2025-11-06 19:05:03.395 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:05:03.396 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.397 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.397 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe26c14] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.398 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@888485444 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.415 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe26c14]
2025-11-06 19:05:03.431 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:05:03.431 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.433 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:05:03.434 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:05:03.434 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:05:03.475 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:05:03.475 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.476 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.476 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317a58aa] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.477 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@393922284 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.480 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317a58aa]
2025-11-06 19:05:03.480 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.480 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe68aca] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.481 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1010448020 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.484 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe68aca]
2025-11-06 19:05:03.485 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.485 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8fdddb] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.485 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@643087994 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.489 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8fdddb]
2025-11-06 19:05:03.507 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:05:03.507 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.512 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:05:03.513 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.514 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.514 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5941da69] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:05:03.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:05:03.519 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@160886036 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:03.522 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.523 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5941da69]
2025-11-06 19:05:03.523 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.523 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.523 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3193d6dc] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.524 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39eb5d53] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.526 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@265515959 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:03.527 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1045808492 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.529 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39eb5d53]
2025-11-06 19:05:03.530 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.530 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcb7360] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.530 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3193d6dc]
2025-11-06 19:05:03.531 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.531 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70056346] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.531 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1003626439 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.531 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1594850988 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:03.533 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70056346]
2025-11-06 19:05:03.533 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fcb7360]
2025-11-06 19:05:03.672 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:05:03.672 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.672 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:05:03.676 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.677 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.677 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c46e43] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.677 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@518969607 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.679 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c46e43]
2025-11-06 19:05:03.777 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:05:03.778 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.825 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:05:03.825 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.826 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.826 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451bb3ea] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.826 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:05:03.826 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@177495504 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:03.826 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:03.826 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:05:03.829 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@451bb3ea]
2025-11-06 19:05:03.831 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:03.834 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.835 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eeb9e08] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.836 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1378261068 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.838 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eeb9e08]
2025-11-06 19:05:03.838 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.838 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@371458a7] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.839 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1312257789 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.844 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@371458a7]
2025-11-06 19:05:03.855 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:05:03.855 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.856 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.856 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36111c2d] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:03.860 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1671145068 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:03.862 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36111c2d]
2025-11-06 19:05:03.995 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:05:03.995 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:03.996 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:03.996 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9704d5] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:04.002 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@916132423 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:04.004 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9704d5]
2025-11-06 19:05:04.151 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:04.151 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:04.156 [http-nio-8080-exec-3] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:04.156 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:04.183 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:05:04.183 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:04.461 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:04.462 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:04.786 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:04.788 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:04.932 [http-nio-8080-exec-1] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:04.932 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。]
2025-11-06 19:05:05.041 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:05.041 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:05.160 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 19:05:05.161 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:05.161 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 19:05:05.166 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:05.176 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:05.176 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.176 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@438480932 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will be managed by Spring
2025-11-06 19:05:05.178 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.178 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382] from current transaction
2025-11-06 19:05:05.180 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.180 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.180 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.181 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a63382]
2025-11-06 19:05:05.184 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:05.185 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cf8caf] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:05.185 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1160941109 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:05.187 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cf8caf]
2025-11-06 19:05:05.420 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:05.420 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:07.780 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/love-or-not
2025-11-06 19:05:07.780 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:07.780 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/love-or-not
2025-11-06 19:05:07.783 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:07.789 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:07.790 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.790 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1028604929 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will be managed by Spring
2025-11-06 19:05:07.792 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.792 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c] from current transaction
2025-11-06 19:05:07.795 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.795 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.796 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.796 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b88ec1c]
2025-11-06 19:05:07.798 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:07.799 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52de92f7] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:07.799 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1759221910 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:07.803 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52de92f7]
2025-11-06 19:05:10.875 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:05:10.876 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:10.876 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:05:10.880 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:10.881 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:10.881 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd48293] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:10.882 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@89158528 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:10.883 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd48293]
2025-11-06 19:05:10.925 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:05:10.925 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:10.932 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 103ef225-3e91-9125-5aff-e94eec824838
2025-11-06 19:05:10.932 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: a0100086-eb41-bae8-00b8-9d9c89871a12
2025-11-06 19:05:10.932 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: a0100086-eb41-bae8-00b8-9d9c89871a12, 当前在线用户数: 0
2025-11-06 19:05:10.933 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:05:10.933 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 103ef225-3e91-9125-5aff-e94eec824838, 当前在线用户数: 1
2025-11-06 19:05:10.934 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:05:10.941 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 19:05:10.941 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:05:10.976 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:05:10.976 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:05:10.976 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:10.977 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:10.977 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:05:10.977 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:05:10.981 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:10.981 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:10.982 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:10.982 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:10.982 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1d6181] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:10.982 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9e0df0] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:10.983 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1067511033 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:05:10.983 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@779624303 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:10.985 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1d6181]
2025-11-06 19:05:10.986 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d9e0df0]
2025-11-06 19:05:11.053 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:05:11.054 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:11.054 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:11.055 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2f96bc] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:11.055 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2035933795 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:11.060 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2f96bc]
2025-11-06 19:05:11.125 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/user/14
2025-11-06 19:05:11.125 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:11.126 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:11.127 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6452e022] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:11.128 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@808235763 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:11.131 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6452e022]
2025-11-06 19:05:11.153 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/profile/14
2025-11-06 19:05:11.153 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:11.154 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:11.155 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421b9a95] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:11.155 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1906197219 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:11.158 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421b9a95]
2025-11-06 19:05:11.176 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /backgrounds/bg_14_1762146751390.jpg
2025-11-06 19:05:11.177 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:11.209 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-works-count
2025-11-06 19:05:11.209 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:11.211 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:11.211 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a86fda] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:11.212 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2106264650 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:11.214 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a86fda]
2025-11-06 19:05:11.338 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:05:11.339 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:12.494 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/14/videos
2025-11-06 19:05:12.495 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:12.495 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/14/videos
2025-11-06 19:05:12.497 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:12.500 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:12.500 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2976fdf6] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:12.501 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1423559183 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:12.503 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2976fdf6]
2025-11-06 19:05:12.503 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:12.503 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a66e75b] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:12.504 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1960918700 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:12.505 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a66e75b]
2025-11-06 19:05:12.506 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:12.506 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4296ea27] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:12.512 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1093624470 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:12.514 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4296ea27]
2025-11-06 19:05:12.527 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 19:05:12.527 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:15.489 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/delete/14
2025-11-06 19:05:15.490 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:15.490 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/delete/14
2025-11-06 19:05:15.492 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:15.494 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:15.494 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:15.495 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@664950926 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will be managed by Spring
2025-11-06 19:05:15.495 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:15.496 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe] from current transaction
2025-11-06 19:05:15.502 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:15.502 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:15.502 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:15.502 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb85cbe]
2025-11-06 19:05:22.595 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:05:22.595 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:05:22.868 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:05:22.869 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:22.869 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:05:22.873 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:22.874 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:22.874 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bc9b8a6] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:22.875 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@180187028 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:22.876 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bc9b8a6]
2025-11-06 19:05:22.903 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:05:22.903 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:22.906 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 6d829c7b-c301-86d8-5849-c4ab6261c529
2025-11-06 19:05:22.906 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 103ef225-3e91-9125-5aff-e94eec824838
2025-11-06 19:05:22.906 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 103ef225-3e91-9125-5aff-e94eec824838, 当前在线用户数: 0
2025-11-06 19:05:22.906 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:05:22.907 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 6d829c7b-c301-86d8-5849-c4ab6261c529, 当前在线用户数: 1
2025-11-06 19:05:22.907 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:05:22.907 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQyMjYwMywiZXhwIjoxODQ4ODIyNjAzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.Bc7om_eeyF4pRHkEaUMYJTu3O6iJMB7RcjtKTg9DgipDiAAk0ZIowkmjgC-B0iutI1nSKwr0LEc7F1S5fdwwIA"}
2025-11-06 19:05:22.908 [http-nio-8080-exec-5] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:05:22.912 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:05:22.913 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:22.913 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:05:22.917 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:22.918 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:22.918 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2732f8a0] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:22.918 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1989067506 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:22.920 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2732f8a0]
2025-11-06 19:05:22.946 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:05:22.946 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:22.946 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:05:22.950 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:22.951 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:22.951 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72518620] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:22.952 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@370441812 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:22.953 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72518620]
2025-11-06 19:05:22.991 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:05:22.991 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:22.992 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:22.992 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55858a54] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:22.992 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1862564256 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:22.996 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55858a54]
2025-11-06 19:05:23.067 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:05:23.067 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.068 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:05:23.068 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:05:23.069 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:05:23.109 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:05:23.109 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.111 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.113 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7104822c] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.114 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@566617316 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:05:23.117 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7104822c]
2025-11-06 19:05:23.117 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.119 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147233a7] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.120 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1570342947 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:05:23.122 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147233a7]
2025-11-06 19:05:23.123 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.123 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f7a78d4] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.123 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@177249687 wrapping com.mysql.cj.jdbc.ConnectionImpl@f1ba1d4] will not be managed by Spring
2025-11-06 19:05:23.125 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f7a78d4]
2025-11-06 19:05:23.156 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:05:23.156 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.209 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:05:23.209 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.210 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.210 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0bcc16] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.214 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1526567508 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.217 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c0bcc16]
2025-11-06 19:05:23.219 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.219 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38647bac] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.219 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@238891462 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.221 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38647bac]
2025-11-06 19:05:23.221 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.221 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645ad81c] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.222 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2138600992 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.223 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645ad81c]
2025-11-06 19:05:23.234 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:05:23.234 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:23.234 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:05:23.238 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:23.239 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.239 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb9152] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.240 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1851487231 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.241 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb9152]
2025-11-06 19:05:23.271 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:05:23.272 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:23.272 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:05:23.276 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:23.276 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.277 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e35859] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.280 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2007413163 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.283 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42e35859]
2025-11-06 19:05:23.302 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:05:23.303 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.442 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:05:23.443 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:05:23.443 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:05:23.446 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:05:23.450 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.450 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd265b1] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.450 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@86382628 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.451 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bd265b1]
2025-11-06 19:05:23.452 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.452 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719e768e] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.452 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2045340385 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.458 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719e768e]
2025-11-06 19:05:23.475 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:05:23.475 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.476 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.476 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cca074] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.477 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2018657803 wrapping com.mysql.cj.jdbc.ConnectionImpl@29a6fd4d] will not be managed by Spring
2025-11-06 19:05:23.478 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cca074]
2025-11-06 19:05:23.535 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:05:23.535 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.536 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.536 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1e7d84] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.545 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1068838662 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.546 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1e7d84]
2025-11-06 19:05:23.596 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:05:23.597 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.598 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:05:23.598 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21764d49] was not registered for synchronization because synchronization is not active
2025-11-06 19:05:23.600 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1434158896 wrapping com.mysql.cj.jdbc.ConnectionImpl@5e06f0ba] will not be managed by Spring
2025-11-06 19:05:23.602 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21764d49]
2025-11-06 19:05:23.802 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:23.802 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:23.807 [http-nio-8080-exec-10] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:23.807 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:23.863 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /avatars/avatar_14_1761195611161.jpg
2025-11-06 19:05:23.863 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:24.126 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:24.126 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:24.449 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:24.449 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:24.587 [http-nio-8080-exec-9] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:24.588 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:24.703 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:24.703 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:24.919 [http-nio-8080-exec-6] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:24.920 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:24.928 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:05:24.928 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:05:25.075 [http-nio-8080-exec-5] DEBUG c.t.handler.GlobalExceptionHandler - 客户端连接中断: /videos/5f23cafeb1f907549cb99907e1232075.mp4 (正常现象)
2025-11-06 19:05:25.075 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer]
2025-11-06 19:05:32.633 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 19:05:32.643 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 19:05:32.645 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:05:32.645 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:05:32.645 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 6d829c7b-c301-86d8-5849-c4ab6261c529, 当前在线用户数: 0
2025-11-06 19:05:32.645 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:37:37.135 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 19:37:37.184 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 68516 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 19:37:37.185 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 19:37:37.187 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 19:37:37.231 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 19:37:37.232 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 19:37:37.866 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 19:37:37.866 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 19:37:37.866 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 19:37:37.867 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 19:37:37.867 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 19:37:37.867 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 19:37:37.868 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 19:37:37.869 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 19:37:37.869 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 19:37:37.869 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 19:37:37.869 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 19:37:37.869 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 19:37:37.870 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 19:37:37.872 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 19:37:37.872 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 19:37:37.873 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 19:37:37.873 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 19:37:37.873 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 19:37:37.874 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 19:37:37.874 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 19:37:37.874 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 19:37:37.875 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 19:37:37.876 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 19:37:37.876 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 19:37:37.876 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 19:37:37.876 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 19:37:37.876 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 19:37:37.877 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 19:37:37.877 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 19:37:37.877 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 19:37:37.878 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 19:37:37.878 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 19:37:37.879 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 19:37:37.879 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 19:37:37.880 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 19:37:37.880 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 19:37:37.880 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 19:37:37.880 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 19:37:37.881 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 19:37:37.881 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 19:37:37.881 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 19:37:38.433 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 19:37:38.443 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 19:37:38.445 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 19:37:38.445 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 19:37:38.498 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 19:37:38.500 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1268 ms
2025-11-06 19:37:38.546 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 19:37:39.093 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 19:37:39.093 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 19:37:39.494 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 19:37:39.521 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 19:37:39.537 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 19:37:39.547 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.784 seconds (process running for 3.311)
2025-11-06 19:37:59.433 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 19:37:59.434 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 19:37:59.435 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 19:37:59.441 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:37:59.442 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:37:59.442 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:37:59.542 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:37:59.585 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:37:59.593 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393fe02] was not registered for synchronization because synchronization is not active
2025-11-06 19:37:59.606 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 19:37:59.755 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@577a6593
2025-11-06 19:37:59.756 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 19:37:59.759 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@339042707 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:37:59.806 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393fe02]
2025-11-06 19:37:59.927 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:37:59.927 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:37:59.968 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:37:59.969 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:37:59.970 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:37:59.976 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:37:59.983 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: ec2945d4-8577-e226-8f3f-dd899f3ab761
2025-11-06 19:37:59.984 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: ec2945d4-8577-e226-8f3f-dd899f3ab761, 当前在线用户数: 1
2025-11-06 19:37:59.992 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:37:59.993 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f28df] was not registered for synchronization because synchronization is not active
2025-11-06 19:37:59.993 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1116312242 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:37:59.995 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f28df]
2025-11-06 19:37:59.996 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:38:00.053 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 19:38:00.064 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:38:00.065 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:00.065 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:38:00.071 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:00.087 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:00.087 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e230a75] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:00.088 [http-nio-8080-exec-5] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:38:00.162 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@611991050 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:00.164 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e230a75]
2025-11-06 19:38:00.197 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:38:00.197 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:00.203 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:00.204 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c83165c] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:00.260 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:38:00.260 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:00.263 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:00.263 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa4a7b4] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:00.264 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1033341255 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:00.286 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa4a7b4]
2025-11-06 19:38:00.299 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1303075970 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:00.309 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c83165c]
2025-11-06 19:38:00.311 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:00.311 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7946d9bb] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:00.311 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@71998115 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:00.316 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7946d9bb]
2025-11-06 19:38:00.316 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:00.316 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437750b2] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:00.317 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2120987549 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:00.320 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@437750b2]
2025-11-06 19:38:00.343 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 19:38:00.344 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:47.592 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:38:47.593 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:47.593 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:38:47.620 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:47.621 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:47.624 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54dc3b5d] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:47.626 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1929777343 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:47.632 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54dc3b5d]
2025-11-06 19:38:48.110 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:38:48.111 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.127 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: e434643a-462e-fbc5-7534-4d1cac1ef730
2025-11-06 19:38:48.129 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: ec2945d4-8577-e226-8f3f-dd899f3ab761
2025-11-06 19:38:48.132 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: ec2945d4-8577-e226-8f3f-dd899f3ab761, 当前在线用户数: 0
2025-11-06 19:38:48.132 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:38:48.133 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: e434643a-462e-fbc5-7534-4d1cac1ef730, 当前在线用户数: 1
2025-11-06 19:38:48.134 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:38:48.194 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 19:38:48.195 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:38:48.205 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:38:48.206 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:48.206 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:38:48.227 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:48.228 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.229 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c467e0] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.230 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@697764213 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.235 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c467e0]
2025-11-06 19:38:48.294 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:38:48.294 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:48.295 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:38:48.308 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:48.311 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.312 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf68752] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.314 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@475380906 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.321 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf68752]
2025-11-06 19:38:48.373 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:38:48.373 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.374 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.375 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8dd87f] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.377 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@288889467 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.399 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8dd87f]
2025-11-06 19:38:48.406 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:38:48.408 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.412 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:38:48.416 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:38:48.417 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:38:48.465 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:38:48.466 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.469 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.470 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20314b8f] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.470 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1164789751 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.474 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20314b8f]
2025-11-06 19:38:48.475 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.475 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c1d02] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.476 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@717964207 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.478 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c1d02]
2025-11-06 19:38:48.480 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.481 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c10b5] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.481 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1646815743 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.487 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c10b5]
2025-11-06 19:38:48.530 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:38:48.530 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:38:48.531 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:48.532 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.533 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:38:48.536 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.537 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395a701d] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.541 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:48.543 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.546 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b9cc3d] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.550 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1867408327 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.557 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@925988656 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:38:48.564 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b9cc3d]
2025-11-06 19:38:48.570 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@395a701d]
2025-11-06 19:38:48.573 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.574 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24691ae2] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.574 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@285992294 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:38:48.578 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24691ae2]
2025-11-06 19:38:48.579 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.579 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15631b83] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.581 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2033298887 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:38:48.584 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15631b83]
2025-11-06 19:38:48.589 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:38:48.589 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:48.589 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:38:48.605 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:48.646 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.647 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13283bd8] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.648 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1055113625 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.653 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13283bd8]
2025-11-06 19:38:48.654 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.654 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d230ca5] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.664 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@492056600 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.669 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d230ca5]
2025-11-06 19:38:48.672 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:38:48.673 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:38:48.673 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:38:48.681 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:38:48.694 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.694 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2769f67] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.696 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1962299418 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.700 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2769f67]
2025-11-06 19:38:48.781 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:38:48.782 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.821 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:38:48.821 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.823 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.824 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3031d5b7] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.826 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1628986716 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.830 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3031d5b7]
2025-11-06 19:38:48.881 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:38:48.881 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:48.882 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:48.883 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b90aab9] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:48.890 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@4419290 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:48.894 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b90aab9]
2025-11-06 19:38:49.025 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:38:49.025 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:49.027 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:38:49.027 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d2ecf4a] was not registered for synchronization because synchronization is not active
2025-11-06 19:38:49.031 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1845058194 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:38:49.033 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d2ecf4a]
2025-11-06 19:38:49.167 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:38:49.167 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:38:49.454 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 19:38:49.454 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:25.573 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: e434643a-462e-fbc5-7534-4d1cac1ef730, 当前在线用户数: 0
2025-11-06 19:43:25.573 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:43:25.573 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:43:25.573 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:43:26.177 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:43:26.178 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:26.178 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:43:26.185 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:26.186 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.187 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed30db4] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.188 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1095184415 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.191 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed30db4]
2025-11-06 19:43:26.646 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:43:26.647 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:26.652 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:43:26.652 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:26.652 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:43:26.655 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: f9be82cc-62ca-bedc-6770-875903b03994
2025-11-06 19:43:26.655 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: f9be82cc-62ca-bedc-6770-875903b03994, 当前在线用户数: 1
2025-11-06 19:43:26.657 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:43:26.658 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:26.659 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.659 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec62f49] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.659 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2087482212 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.666 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec62f49]
2025-11-06 19:43:26.740 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 19:43:26.740 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:43:26.784 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:43:26.785 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:26.787 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:43:26.792 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:26.793 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.793 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47cd88a1] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.794 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@420951697 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.796 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47cd88a1]
2025-11-06 19:43:26.842 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:43:26.842 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:26.843 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.843 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389e89e7] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.844 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@897421463 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.850 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@389e89e7]
2025-11-06 19:43:26.892 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:43:26.892 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:26.894 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:43:26.895 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:43:26.897 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:43:26.932 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:43:26.932 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:26.934 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.934 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13909638] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.934 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@209772148 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.936 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:43:26.936 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:26.937 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13909638]
2025-11-06 19:43:26.937 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.937 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57642c48] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.939 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@600302222 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.939 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.939 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c3fec7] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.941 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57642c48]
2025-11-06 19:43:26.944 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1789150665 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:43:26.945 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.947 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9dbaf] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.948 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@396640790 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:26.950 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9dbaf]
2025-11-06 19:43:26.950 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c3fec7]
2025-11-06 19:43:26.951 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.953 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e9edac] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.954 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1831567061 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:43:26.956 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25e9edac]
2025-11-06 19:43:26.957 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:26.957 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11190eea] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:26.960 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@206203252 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:43:26.962 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11190eea]
2025-11-06 19:43:27.035 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:43:27.035 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:43:27.035 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:27.035 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:43:27.035 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:27.035 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:43:27.042 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:27.042 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:27.043 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.043 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.045 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71abe746] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.045 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75354e42] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.047 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@755259692 wrapping com.mysql.cj.jdbc.ConnectionImpl@1cc29d4a] will not be managed by Spring
2025-11-06 19:43:27.047 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1881108406 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.049 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71abe746]
2025-11-06 19:43:27.049 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75354e42]
2025-11-06 19:43:27.125 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:43:27.126 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:27.234 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:43:27.235 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:43:27.235 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:43:27.241 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:43:27.247 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.247 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a38310] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.247 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@13221609 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.250 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53a38310]
2025-11-06 19:43:27.250 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.250 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4596ea3] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.251 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1269679675 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.255 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4596ea3]
2025-11-06 19:43:27.279 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:43:27.279 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:27.280 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.280 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91d20ef] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.281 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1025459103 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.284 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@91d20ef]
2025-11-06 19:43:27.310 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:43:27.310 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:27.311 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.311 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dddf6a1] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.315 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@360714726 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.317 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dddf6a1]
2025-11-06 19:43:27.386 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:43:27.386 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:43:27.387 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:43:27.388 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8868edd] was not registered for synchronization because synchronization is not active
2025-11-06 19:43:27.392 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1466537178 wrapping com.mysql.cj.jdbc.ConnectionImpl@577a6593] will not be managed by Spring
2025-11-06 19:43:27.396 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8868edd]
2025-11-06 19:47:39.974 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 19:47:39.990 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 19:47:39.994 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:47:39.994 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:47:39.994 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: f9be82cc-62ca-bedc-6770-875903b03994, 当前在线用户数: 0
2025-11-06 19:47:39.994 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:47:46.226 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 19:47:46.280 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 56664 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 19:47:46.280 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 19:47:46.281 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 19:47:46.333 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 19:47:46.334 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 19:47:46.978 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 19:47:46.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 19:47:46.980 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 19:47:46.981 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 19:47:46.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 19:47:46.982 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 19:47:46.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 19:47:46.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 19:47:46.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 19:47:46.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 19:47:46.983 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 19:47:46.984 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 19:47:46.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 19:47:46.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 19:47:46.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 19:47:46.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 19:47:46.985 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 19:47:46.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 19:47:46.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 19:47:46.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 19:47:46.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 19:47:46.986 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 19:47:46.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 19:47:46.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 19:47:46.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 19:47:46.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 19:47:46.987 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 19:47:46.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 19:47:46.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 19:47:46.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 19:47:46.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 19:47:46.988 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 19:47:47.367 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 19:47:47.376 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 19:47:47.377 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 19:47:47.377 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 19:47:47.415 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 19:47:47.416 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1080 ms
2025-11-06 19:47:47.446 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 19:47:47.900 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 19:47:47.900 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 19:47:48.359 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 19:47:48.383 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 19:47:48.399 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 19:47:48.407 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.594 seconds (process running for 3.123)
2025-11-06 19:47:55.418 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 19:47:55.418 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 19:47:55.419 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 19:47:55.422 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:47:55.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:55.423 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:47:55.468 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:55.489 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.492 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d00fdbd] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.498 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 19:47:55.623 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@221a4124
2025-11-06 19:47:55.626 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 19:47:55.628 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1982220101 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:55.676 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d00fdbd]
2025-11-06 19:47:55.754 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:47:55.754 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:55.762 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:47:55.763 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:55.763 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:47:55.770 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:55.779 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.780 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f28df] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.780 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1116312242 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:55.784 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791f28df]
2025-11-06 19:47:55.810 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: aa8d5f4b-a085-665d-3de7-0b708ff90d90
2025-11-06 19:47:55.810 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: aa8d5f4b-a085-665d-3de7-0b708ff90d90, 当前在线用户数: 1
2025-11-06 19:47:55.818 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:47:55.852 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 19:47:55.863 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:47:55.863 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:55.863 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:47:55.871 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:55.873 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:47:55.883 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.883 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22bb727a] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.929 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:47:55.930 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:55.935 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:47:55.936 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:47:55.937 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:47:55.958 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1508494722 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:55.962 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22bb727a]
2025-11-06 19:47:55.973 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:47:55.973 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:55.974 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:47:55.974 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:55.976 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.977 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7797140c] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.980 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@546794003 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:55.983 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:47:55.983 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:55.985 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7797140c]
2025-11-06 19:47:55.985 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.986 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c64cc55] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.986 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.987 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@507537482 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:55.987 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339c7bdd] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:55.988 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2075319284 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e5ab25] will not be managed by Spring
2025-11-06 19:47:55.988 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:55.988 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3312b989] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.005 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339c7bdd]
2025-11-06 19:47:56.005 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c64cc55]
2025-11-06 19:47:56.006 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.006 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24455d44] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.007 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1194203167 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.010 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24455d44]
2025-11-06 19:47:56.066 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@582786452 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.078 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3312b989]
2025-11-06 19:47:56.078 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.078 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fec7832] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.078 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@801773574 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.082 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fec7832]
2025-11-06 19:47:56.082 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.083 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed290bf] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.084 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@840130239 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.087 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed290bf]
2025-11-06 19:47:56.097 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:47:56.097 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:56.097 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:47:56.101 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:56.102 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.102 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b80db2a] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.103 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1394773553 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.105 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b80db2a]
2025-11-06 19:47:56.138 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:47:56.138 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:56.140 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:47:56.144 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:56.148 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.148 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6792afc3] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.149 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1517038221 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.151 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6792afc3]
2025-11-06 19:47:56.339 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:47:56.340 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:56.340 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:47:56.340 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:47:56.340 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:47:56.340 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:47:56.340 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:56.343 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.343 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440e8925] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.344 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1965035708 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.346 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:47:56.347 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440e8925]
2025-11-06 19:47:56.371 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.372 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108fce00] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.372 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1976100275 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.374 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108fce00]
2025-11-06 19:47:56.374 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.375 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c553d2] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.379 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@98225729 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.384 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71c553d2]
2025-11-06 19:47:56.448 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:47:56.448 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:56.449 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.449 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d8b04d] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.455 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@682331950 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.461 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d8b04d]
2025-11-06 19:47:56.477 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:47:56.477 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:47:56.478 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:47:56.478 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583389e2] was not registered for synchronization because synchronization is not active
2025-11-06 19:47:56.482 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1926973243 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:47:56.484 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583389e2]
2025-11-06 19:48:03.413 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 19:48:03.413 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:03.413 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 19:48:03.420 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:03.421 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:03.421 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5168b3] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:03.422 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@231637553 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e5ab25] will not be managed by Spring
2025-11-06 19:48:03.425 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5168b3]
2025-11-06 19:48:03.863 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 19:48:03.863 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:03.865 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 19:48:03.865 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:03.865 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 19:48:03.866 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c04e30d3-0b92-0055-6487-55c6eed63c04
2025-11-06 19:48:03.867 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: aa8d5f4b-a085-665d-3de7-0b708ff90d90
2025-11-06 19:48:03.868 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: aa8d5f4b-a085-665d-3de7-0b708ff90d90, 当前在线用户数: 0
2025-11-06 19:48:03.868 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:48:03.868 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c04e30d3-0b92-0055-6487-55c6eed63c04, 当前在线用户数: 1
2025-11-06 19:48:03.870 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 19:48:03.870 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:03.870 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:03.872 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7808a1ac] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:03.873 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@824757768 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:03.875 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7808a1ac]
2025-11-06 19:48:03.948 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:48:03.949 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 19:48:03.962 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 19:48:03.962 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 19:48:04.000 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 19:48:04.000 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:04.000 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 19:48:04.005 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:04.006 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.007 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e24130a] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.007 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2088529164 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.011 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e24130a]
2025-11-06 19:48:04.105 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 19:48:04.105 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.107 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.107 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70828a03] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.108 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1384359265 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.117 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70828a03]
2025-11-06 19:48:04.176 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 19:48:04.176 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.178 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 19:48:04.178 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 19:48:04.178 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 19:48:04.264 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 19:48:04.264 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 19:48:04.264 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.264 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.265 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.265 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.265 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3cecda] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.266 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144cba5a] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.266 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1179518484 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.268 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3cecda]
2025-11-06 19:48:04.268 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.270 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646d994c] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.270 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1832837927 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.270 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@603766900 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e5ab25] will not be managed by Spring
2025-11-06 19:48:04.273 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646d994c]
2025-11-06 19:48:04.273 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.274 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a4999e] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.274 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@512476671 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.275 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144cba5a]
2025-11-06 19:48:04.275 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.276 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a4999e]
2025-11-06 19:48:04.276 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@300dbdba] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.276 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1974936751 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e5ab25] will not be managed by Spring
2025-11-06 19:48:04.280 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@300dbdba]
2025-11-06 19:48:04.281 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.281 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b05ec99] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.282 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@649621038 wrapping com.mysql.cj.jdbc.ConnectionImpl@2e5ab25] will not be managed by Spring
2025-11-06 19:48:04.284 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b05ec99]
2025-11-06 19:48:04.337 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 19:48:04.338 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 19:48:04.338 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:04.338 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 19:48:04.338 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:04.338 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 19:48:04.343 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:04.343 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:04.344 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.344 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0be398] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.346 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1304245241 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.348 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a0be398]
2025-11-06 19:48:04.350 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.350 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281f8ce0] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.351 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1882868650 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.353 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281f8ce0]
2025-11-06 19:48:04.353 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.353 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26106473] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.354 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@236352510 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.360 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26106473]
2025-11-06 19:48:04.413 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 19:48:04.414 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 19:48:04.414 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 19:48:04.419 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 19:48:04.420 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.420 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35646c43] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.421 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@398635582 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.423 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35646c43]
2025-11-06 19:48:04.640 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 19:48:04.641 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.641 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 19:48:04.641 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.642 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.642 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402016fb] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.644 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2033971164 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.648 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@402016fb]
2025-11-06 19:48:04.743 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:48:04.744 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.745 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.745 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cfd18] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.749 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@655823716 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.751 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26cfd18]
2025-11-06 19:48:04.793 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 19:48:04.793 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 19:48:04.794 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 19:48:04.794 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ddcb5e] was not registered for synchronization because synchronization is not active
2025-11-06 19:48:04.798 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@274541687 wrapping com.mysql.cj.jdbc.ConnectionImpl@221a4124] will not be managed by Spring
2025-11-06 19:48:04.800 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ddcb5e]
2025-11-06 19:58:29.059 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 19:58:29.077 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 19:58:29.081 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c04e30d3-0b92-0055-6487-55c6eed63c04, 当前在线用户数: 0
2025-11-06 19:58:29.081 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 19:58:29.082 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 19:58:29.082 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:00:10.258 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 20:00:10.304 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 67628 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 20:00:10.305 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 20:00:10.306 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 20:00:10.350 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 20:00:10.350 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 20:00:10.962 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 20:00:10.963 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 20:00:10.963 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 20:00:10.963 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 20:00:10.963 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 20:00:10.964 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 20:00:10.967 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 20:00:10.967 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 20:00:10.967 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 20:00:10.967 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 20:00:10.968 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 20:00:10.969 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 20:00:10.970 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 20:00:10.971 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 20:00:10.971 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 20:00:10.971 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 20:00:10.971 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 20:00:10.972 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 20:00:10.972 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 20:00:10.972 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 20:00:10.972 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 20:00:10.972 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 20:00:10.973 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 20:00:10.973 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 20:00:11.325 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 20:00:11.331 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 20:00:11.332 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 20:00:11.333 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 20:00:11.374 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 20:00:11.374 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1023 ms
2025-11-06 20:00:11.404 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 20:00:11.855 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 20:00:11.855 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 20:00:12.308 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 20:00:12.330 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 20:00:12.345 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 20:00:12.354 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.513 seconds (process running for 3.078)
2025-11-06 20:00:45.069 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 20:00:45.069 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 20:00:45.070 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 20:00:45.077 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:00:45.078 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.125 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:00:45.126 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.128 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:00:45.128 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.143 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:00:45.144 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:00:45.150 [http-nio-8080-exec-1] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:00:45.158 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.161 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.165 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c0b3e8] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.165 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e06277f] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.174 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 20:00:45.202 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:00:45.202 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:00:45.211 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:00:45.212 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.213 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:00:45.214 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:00:45.214 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:00:45.254 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:00:45.254 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:00:45.264 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:00:45.264 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.266 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:00:45.266 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:00:45.267 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:00:45.313 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:00:45.313 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:00:45.318 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:00:45.318 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:45.320 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:00:45.321 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:00:45.322 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:00:45.361 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:00:45.361 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:00:45.436 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@725f7e02
2025-11-06 20:00:45.439 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 20:00:45.444 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@177014315 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:45.445 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1787687346 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:45.573 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c0b3e8]
2025-11-06 20:00:45.575 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.576 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5af2c6] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.577 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@368838012 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:45.587 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e06277f]
2025-11-06 20:00:45.589 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5af2c6]
2025-11-06 20:00:45.589 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.594 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.594 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2554fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.595 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc06dae] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.595 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1622484118 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:45.596 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@389805420 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:45.599 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b2554fc]
2025-11-06 20:00:45.599 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc06dae]
2025-11-06 20:00:45.601 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.601 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da241db] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.603 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1547237797 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:45.607 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2da241db]
2025-11-06 20:00:45.805 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:00:45.805 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:45.806 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:00:45.873 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:45.874 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:45.875 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@557ba4a5] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:45.875 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@93608201 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:45.878 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@557ba4a5]
2025-11-06 20:00:46.253 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:00:46.254 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:46.259 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 0fd84bf0-93bf-d191-e0ae-09b64123a76a
2025-11-06 20:00:46.260 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 0fd84bf0-93bf-d191-e0ae-09b64123a76a, 当前在线用户数: 1
2025-11-06 20:00:46.269 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:00:46.346 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 20:00:46.369 [http-nio-8080-exec-5] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:00:46.564 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:00:46.565 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:46.565 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:00:46.569 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:46.571 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.572 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630dee58] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.573 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1463676795 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.576 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@630dee58]
2025-11-06 20:00:46.585 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:00:46.585 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:46.585 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:00:46.592 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:46.593 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.594 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452d305e] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.595 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@151131159 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.598 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@452d305e]
2025-11-06 20:00:46.639 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:00:46.639 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:46.640 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.641 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6234753f] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.641 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@998600024 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.652 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6234753f]
2025-11-06 20:00:46.671 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:00:46.671 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:46.673 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:00:46.673 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:00:46.674 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:00:46.732 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:00:46.732 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:46.733 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:00:46.733 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:46.733 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.733 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a14c6e] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.733 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@996586666 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.734 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.734 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ccf3b] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.735 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a14c6e]
2025-11-06 20:00:46.735 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.735 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5bbe91] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.735 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1168531336 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.737 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@434673822 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:46.744 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5bbe91]
2025-11-06 20:00:46.745 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.745 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfcdfc6] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.746 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2099315262 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.749 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ccf3b]
2025-11-06 20:00:46.750 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.750 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dfcdfc6]
2025-11-06 20:00:46.750 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352453ae] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.750 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2029264607 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:46.757 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352453ae]
2025-11-06 20:00:46.757 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.757 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8e0faf] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.759 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@317368268 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:46.763 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8e0faf]
2025-11-06 20:00:46.787 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:00:46.787 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:46.788 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:00:46.790 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:46.791 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.791 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ee4d73] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.792 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1090787792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:46.793 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ee4d73]
2025-11-06 20:00:46.923 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:00:46.923 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:46.923 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:00:46.927 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:46.929 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:46.929 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b0f010] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:46.929 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1001768105 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:46.932 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39b0f010]
2025-11-06 20:00:46.937 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:00:46.937 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:47.094 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 20:00:47.094 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:00:47.094 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:47.094 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:47.094 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 20:00:47.095 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:47.095 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e46552d] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:47.096 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1626653398 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:47.098 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e46552d]
2025-11-06 20:00:47.098 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:47.105 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 20:00:47.105 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:47.117 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:00:47.117 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:47.119 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:47.119 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e817145] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:47.120 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:47.120 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a15b96c] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:47.121 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1925023949 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:47.122 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@56713710 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:00:47.122 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a15b96c]
2025-11-06 20:00:47.123 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:47.124 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e010b90] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:47.124 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e817145]
2025-11-06 20:00:47.134 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@576893215 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:47.138 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e010b90]
2025-11-06 20:00:47.247 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:00:47.247 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:00:47.248 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:47.248 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1acf17] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:47.251 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1434689971 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:47.254 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c1acf17]
2025-11-06 20:00:48.576 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/balance
2025-11-06 20:00:48.576 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:48.576 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/balance
2025-11-06 20:00:48.579 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:48.580 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:48.581 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af33781] was not registered for synchronization because synchronization is not active
2025-11-06 20:00:48.582 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1302962667 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:00:48.584 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3af33781]
2025-11-06 20:00:51.506 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/11/coin
2025-11-06 20:00:51.506 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:00:51.506 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/11/coin
2025-11-06 20:00:51.509 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:00:51.520 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:00:51.520 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.522 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1261375900 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will be managed by Spring
2025-11-06 20:00:51.523 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.523 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.526 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.526 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.533 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.533 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.541 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.541 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.543 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.544 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.547 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.547 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.550 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.550 [http-nio-8080-exec-3] INFO  c.t.service.impl.CoinServiceImpl - UP主 14 从视频 11 获得投币奖励 0.1 硬币
2025-11-06 20:00:51.550 [http-nio-8080-exec-3] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 向视频 11 投币 1 个
2025-11-06 20:00:51.552 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.554 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.555 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a] from current transaction
2025-11-06 20:00:51.558 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.559 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.559 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:00:51.559 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257aaf0a]
2025-11-06 20:01:05.383 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/11/coin
2025-11-06 20:01:05.383 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:05.383 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/11/coin
2025-11-06 20:01:05.386 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:05.388 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:05.388 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.388 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@508204793 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will be managed by Spring
2025-11-06 20:01:05.390 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.390 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.392 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.392 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.394 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.394 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.397 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.397 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.398 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.399 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.400 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.400 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.403 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.403 [http-nio-8080-exec-10] INFO  c.t.service.impl.CoinServiceImpl - UP主 14 从视频 11 获得投币奖励 0.1 硬币
2025-11-06 20:01:05.403 [http-nio-8080-exec-10] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 向视频 11 投币 1 个
2025-11-06 20:01:05.403 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.405 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.405 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27] from current transaction
2025-11-06 20:01:05.407 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.407 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.407 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:05.407 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d23d27]
2025-11-06 20:01:21.482 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/11/coin
2025-11-06 20:01:21.483 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:21.483 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/11/coin
2025-11-06 20:01:21.489 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:21.492 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:21.492 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.492 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1052970895 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will be managed by Spring
2025-11-06 20:01:21.494 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.494 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.496 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.496 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.499 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.499 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.502 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.502 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.505 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.505 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.509 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.509 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.513 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.513 [http-nio-8080-exec-1] INFO  c.t.service.impl.CoinServiceImpl - UP主 14 从视频 11 获得投币奖励 0.1 硬币
2025-11-06 20:01:21.513 [http-nio-8080-exec-1] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 向视频 11 投币 1 个
2025-11-06 20:01:21.513 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.515 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.515 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f] from current transaction
2025-11-06 20:01:21.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:21.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a86c1f]
2025-11-06 20:01:44.093 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:01:44.093 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 0fd84bf0-93bf-d191-e0ae-09b64123a76a, 当前在线用户数: 0
2025-11-06 20:01:44.093 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:01:44.093 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:01:44.382 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:01:44.382 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:44.383 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:01:44.392 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:44.393 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:44.395 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eeeceff] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:44.397 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@741205323 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:44.400 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eeeceff]
2025-11-06 20:01:44.759 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:01:44.759 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:44.764 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:01:44.765 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:44.765 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:01:44.767 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 8b9779a5-8b06-a719-ea51-9660b7bfd1b4
2025-11-06 20:01:44.768 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 8b9779a5-8b06-a719-ea51-9660b7bfd1b4, 当前在线用户数: 1
2025-11-06 20:01:44.769 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:01:44.769 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:44.771 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:44.773 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@591f618d] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:44.773 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1308111837 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:44.775 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@591f618d]
2025-11-06 20:01:44.839 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjE0NzAxMCwiZXhwIjoxODQ4NTQ3MDEwLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.s2nmLKa3S8OYhFoIXWBvZ67T5fo7EEbnEF-raAzw4rpEkbeeD9j_Wjka8ySpr04TdCn541mzKZHRncRQFYl1Jg"}
2025-11-06 20:01:44.840 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:01:44.885 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:01:44.885 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:44.885 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:01:44.891 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:44.892 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:44.893 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d29166f] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:44.894 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1005519090 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:44.898 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d29166f]
2025-11-06 20:01:44.952 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:01:44.952 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:44.953 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:44.954 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bd2153] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:44.960 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@577927996 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:44.968 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bd2153]
2025-11-06 20:01:45.040 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:01:45.040 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.043 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:01:45.044 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:01:45.044 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:01:45.072 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:01:45.073 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.075 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.075 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:01:45.075 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e78cf6] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.075 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.075 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1183407153 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.078 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.079 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670ebc06] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.079 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e78cf6]
2025-11-06 20:01:45.080 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.082 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bd0209] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.083 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1921427444 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.086 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@624483946 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:45.086 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49bd0209]
2025-11-06 20:01:45.087 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.088 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377de3fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.089 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@384893520 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.092 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670ebc06]
2025-11-06 20:01:45.092 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377de3fc]
2025-11-06 20:01:45.093 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.093 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634056f4] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.094 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@15208312 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:45.096 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634056f4]
2025-11-06 20:01:45.097 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.097 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71bff991] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.098 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@279570084 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:45.100 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71bff991]
2025-11-06 20:01:45.184 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:01:45.184 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:01:45.184 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:45.184 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:45.184 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:01:45.184 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:01:45.194 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:45.194 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:45.195 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.196 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.196 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490c89eb] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.196 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b66fe4a] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.198 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2051040765 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:45.197 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@477530954 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.201 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b66fe4a]
2025-11-06 20:01:45.201 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490c89eb]
2025-11-06 20:01:45.250 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:01:45.251 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.374 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 20:01:45.374 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:45.375 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 20:01:45.380 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:45.384 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.385 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376a42f2] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.386 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@468277201 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@376a42f2]
2025-11-06 20:01:45.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.388 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14bdd6ea] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.389 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1906666333 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.394 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14bdd6ea]
2025-11-06 20:01:45.423 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:01:45.424 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.425 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.425 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a92a5] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.426 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@404316023 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.428 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57a92a5]
2025-11-06 20:01:45.451 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:01:45.451 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.452 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.453 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36baaec9] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.456 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1328566832 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will not be managed by Spring
2025-11-06 20:01:45.459 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36baaec9]
2025-11-06 20:01:45.528 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:01:45.529 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:01:45.530 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:45.530 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed8a94b] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:45.536 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@504540916 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:45.538 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ed8a94b]
2025-11-06 20:01:52.674 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/balance
2025-11-06 20:01:52.675 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:52.675 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/balance
2025-11-06 20:01:52.678 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:52.679 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:52.679 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4fb1] was not registered for synchronization because synchronization is not active
2025-11-06 20:01:52.680 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1955487028 wrapping com.mysql.cj.jdbc.ConnectionImpl@5ae28fca] will not be managed by Spring
2025-11-06 20:01:52.684 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4fb1]
2025-11-06 20:01:57.602 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/11/coin
2025-11-06 20:01:57.603 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:01:57.603 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/11/coin
2025-11-06 20:01:57.606 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:01:57.608 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:01:57.608 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.608 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@86103699 wrapping com.mysql.cj.jdbc.ConnectionImpl@725f7e02] will be managed by Spring
2025-11-06 20:01:57.609 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.609 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.610 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.610 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.621 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.621 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.624 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.624 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.626 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.626 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.627 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.627 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.629 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.629 [http-nio-8080-exec-1] INFO  c.t.service.impl.CoinServiceImpl - UP主 14 从视频 11 获得投币奖励 0.1 硬币
2025-11-06 20:01:57.629 [http-nio-8080-exec-1] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 向视频 11 投币 1 个
2025-11-06 20:01:57.629 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.630 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.630 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935] from current transaction
2025-11-06 20:01:57.633 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.633 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.633 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:01:57.633 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c68d935]
2025-11-06 20:02:14.075 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 20:02:14.091 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 20:02:14.094 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 8b9779a5-8b06-a719-ea51-9660b7bfd1b4, 当前在线用户数: 0
2025-11-06 20:02:14.094 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:02:14.095 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:02:14.095 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:14:31.809 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 20:14:31.866 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 53460 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 20:14:31.867 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 20:14:31.868 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 20:14:31.932 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 20:14:31.932 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 20:14:32.788 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 20:14:32.789 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 20:14:32.790 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 20:14:32.793 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 20:14:32.794 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 20:14:32.794 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 20:14:32.795 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 20:14:32.795 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 20:14:32.795 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 20:14:32.795 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 20:14:32.795 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 20:14:32.796 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 20:14:32.798 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 20:14:32.799 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 20:14:32.799 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 20:14:32.799 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 20:14:32.799 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 20:14:32.800 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 20:14:32.800 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 20:14:32.800 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 20:14:33.251 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 20:14:33.259 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 20:14:33.261 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 20:14:33.261 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 20:14:33.308 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 20:14:33.308 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1375 ms
2025-11-06 20:14:33.346 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 20:14:33.835 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 20:14:33.835 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 20:14:34.298 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 20:14:34.324 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 20:14:34.339 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 20:14:34.347 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.984 seconds (process running for 3.593)
2025-11-06 20:14:44.583 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 20:14:44.583 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 20:14:44.584 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-06 20:14:44.592 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:14:44.593 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:44.658 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:44.674 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6077d339] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:44.806 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 20:14:45.064 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6be0d930
2025-11-06 20:14:45.067 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 20:14:45.074 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@814552647 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:45.190 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6077d339]
2025-11-06 20:14:46.169 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:14:46.170 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:46.182 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:46.182 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446febe2] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:46.246 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1202498817 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:46.259 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446febe2]
2025-11-06 20:14:46.260 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:46.260 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@743c8a16] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:46.261 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@622648080 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:46.265 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@743c8a16]
2025-11-06 20:14:46.265 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:46.265 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b222c04] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:46.266 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1541301068 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:46.269 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b222c04]
2025-11-06 20:14:46.495 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 20:14:46.496 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:49.118 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/get
2025-11-06 20:14:49.119 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:53.576 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/account/login
2025-11-06 20:14:53.576 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:53.661 [http-nio-8080-exec-5] INFO  c.t.c.user.UserAccountController - 用户尝试登录, username: nini
2025-11-06 20:14:53.661 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:53.662 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2d07bc] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:53.662 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@845060424 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:53.666 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2d07bc]
2025-11-06 20:14:53.747 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:53.747 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.751 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1693372874 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will be managed by Spring
2025-11-06 20:14:53.763 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.764 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd] from current transaction
2025-11-06 20:14:53.775 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.776 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd] from current transaction
2025-11-06 20:14:53.779 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.780 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd] from current transaction
2025-11-06 20:14:53.788 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.788 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd] from current transaction
2025-11-06 20:14:53.792 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.792 [http-nio-8080-exec-5] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 获得每日登录奖励 1 硬币
2025-11-06 20:14:53.793 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.793 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.793 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a79dddd]
2025-11-06 20:14:53.839 [http-nio-8080-exec-5] INFO  c.t.c.user.UserAccountController - 用户登录成功, uid: 14, username: nini
2025-11-06 20:14:53.855 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:14:53.855 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:53.855 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:14:53.885 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:53.886 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:53.887 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fe1cdb] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:53.887 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2064081672 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:53.889 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fe1cdb]
2025-11-06 20:14:54.208 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:14:54.208 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:54.208 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:14:54.212 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:54.214 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:54.216 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28e0fd] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:54.216 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1097145575 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:54.220 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e28e0fd]
2025-11-06 20:14:57.551 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:14:57.552 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:57.552 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:14:57.556 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:57.557 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.557 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc19678] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.558 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1619772285 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.560 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc19678]
2025-11-06 20:14:57.712 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:14:57.713 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:57.714 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:14:57.714 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:57.714 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:14:57.719 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:57.720 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.720 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cea3687] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.721 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@307408063 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.725 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cea3687]
2025-11-06 20:14:57.749 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:14:57.750 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:57.750 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:14:57.755 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:57.756 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.757 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7002a2f8] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.757 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@732331834 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.762 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7002a2f8]
2025-11-06 20:14:57.778 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: b27dd22d-038b-506d-18fd-d335e85ab959
2025-11-06 20:14:57.779 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: b27dd22d-038b-506d-18fd-d335e85ab959, 当前在线用户数: 1
2025-11-06 20:14:57.789 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:14:57.820 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTI5MywiZXhwIjoxODQ4ODMxMjkzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.drcxO14A8Rk2EwNl7UQ1-IaXEoqaKHIP8qnffOPkLMaZBdA_IDo_qKEriMkWVkfxAcOM1dK3Wa7LcnuUk9-EEg"}
2025-11-06 20:14:57.825 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:14:57.838 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:14:57.838 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:14:57.838 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:14:57.843 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:14:57.845 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.845 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3defc1e0] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.846 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@108248053 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.848 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3defc1e0]
2025-11-06 20:14:57.869 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:14:57.869 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:57.870 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.871 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bde88e6] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.872 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@387741183 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.879 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bde88e6]
2025-11-06 20:14:57.896 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:14:57.896 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:14:57.896 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.896 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aba2748] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.902 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1629261021 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.910 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aba2748]
2025-11-06 20:14:57.910 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.910 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d9b307] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.911 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2066243148 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.915 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d9b307]
2025-11-06 20:14:57.915 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:14:57.915 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79491ad9] was not registered for synchronization because synchronization is not active
2025-11-06 20:14:57.916 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1183816661 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:14:57.919 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79491ad9]
2025-11-06 20:15:59.022 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:15:59.023 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:15:59.023 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:15:59.042 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:15:59.043 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.045 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d636c7] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.047 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1373271742 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.052 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32d636c7]
2025-11-06 20:15:59.552 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:15:59.554 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:15:59.568 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 63738281-8a19-82de-f17d-826a98253295
2025-11-06 20:15:59.568 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: b27dd22d-038b-506d-18fd-d335e85ab959
2025-11-06 20:15:59.573 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: b27dd22d-038b-506d-18fd-d335e85ab959, 当前在线用户数: 0
2025-11-06 20:15:59.573 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:15:59.574 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 63738281-8a19-82de-f17d-826a98253295, 当前在线用户数: 1
2025-11-06 20:15:59.575 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:15:59.638 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:15:59.638 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:15:59.639 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:15:59.639 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:15:59.640 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:15:59.640 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:15:59.651 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:15:59.651 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:15:59.655 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.654 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.658 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b681fb] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.660 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTI5MywiZXhwIjoxODQ4ODMxMjkzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.drcxO14A8Rk2EwNl7UQ1-IaXEoqaKHIP8qnffOPkLMaZBdA_IDo_qKEriMkWVkfxAcOM1dK3Wa7LcnuUk9-EEg"}
2025-11-06 20:15:59.658 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b61fa70] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.662 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:15:59.662 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@92982750 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.664 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1818360701 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:15:59.666 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b681fb]
2025-11-06 20:15:59.672 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b61fa70]
2025-11-06 20:15:59.716 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:15:59.717 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:15:59.717 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:15:59.734 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:15:59.735 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.736 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca571e2] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.740 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1793358279 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.743 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ca571e2]
2025-11-06 20:15:59.783 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:15:59.784 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:15:59.785 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.785 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c564f4d] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.788 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@762365576 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.806 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c564f4d]
2025-11-06 20:15:59.837 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:15:59.838 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:15:59.842 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:15:59.845 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:15:59.846 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:15:59.892 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:15:59.892 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:15:59.895 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.897 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c77ca8] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.899 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@319565509 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.905 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c77ca8]
2025-11-06 20:15:59.906 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.908 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c638a1] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.910 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@489303117 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.911 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:15:59.912 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:15:59.913 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c638a1]
2025-11-06 20:15:59.916 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.918 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.919 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c9c6ec] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.920 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7ef58f] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.922 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@363391876 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.927 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c9c6ec]
2025-11-06 20:15:59.939 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1134694024 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.961 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7ef58f]
2025-11-06 20:15:59.963 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.963 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741d6813] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.964 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1238213366 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.967 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741d6813]
2025-11-06 20:15:59.968 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:15:59.968 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bfc2d89] was not registered for synchronization because synchronization is not active
2025-11-06 20:15:59.970 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1171597460 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:15:59.972 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bfc2d89]
2025-11-06 20:16:00.042 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:16:00.042 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:16:00.043 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:00.043 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:00.043 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:16:00.044 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:16:00.055 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:00.055 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:00.061 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.061 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.062 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f1773db] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.063 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc62ed1] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.065 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@910661678 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:00.066 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@185988241 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:00.074 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fc62ed1]
2025-11-06 20:16:00.074 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f1773db]
2025-11-06 20:16:00.075 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:16:00.076 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:00.195 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 20:16:00.195 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:00.195 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 20:16:00.207 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:00.251 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.255 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333f9229] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.255 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:16:00.256 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1213389523 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:00.256 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:00.260 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333f9229]
2025-11-06 20:16:00.260 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.260 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16161a03] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.260 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.261 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7d310a] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.267 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1369196086 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:00.270 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1785986613 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:00.275 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7d310a]
2025-11-06 20:16:00.277 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16161a03]
2025-11-06 20:16:00.398 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:16:00.400 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:00.401 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.402 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd4a782] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.409 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1237255649 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:00.416 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd4a782]
2025-11-06 20:16:00.432 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:16:00.432 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:00.434 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:00.435 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73077be4] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:00.439 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@638112247 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:00.443 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73077be4]
2025-11-06 20:16:33.136 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/balance
2025-11-06 20:16:33.136 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:33.136 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/balance
2025-11-06 20:16:33.142 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:33.143 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:33.143 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fadbbdf] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:33.144 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@490108752 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:33.146 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fadbbdf]
2025-11-06 20:16:37.298 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/11/coin
2025-11-06 20:16:37.298 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:37.298 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/11/coin
2025-11-06 20:16:37.301 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:37.311 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:37.312 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.313 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@122622067 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will be managed by Spring
2025-11-06 20:16:37.315 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.315 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.318 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.318 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.319 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.319 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.324 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.324 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.330 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.330 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.333 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.333 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.338 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.338 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.343 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.343 [http-nio-8080-exec-5] INFO  c.t.service.impl.CoinServiceImpl - UP主 14 从视频 11 获得投币奖励 0.1 硬币
2025-11-06 20:16:37.343 [http-nio-8080-exec-5] INFO  c.t.service.impl.CoinServiceImpl - 用户 14 向视频 11 投币 1 个
2025-11-06 20:16:37.344 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.350 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.351 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb] from current transaction
2025-11-06 20:16:37.356 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.356 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.357 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:37.357 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f967bb]
2025-11-06 20:16:41.370 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:16:41.370 [http-nio-8080-exec-8] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 63738281-8a19-82de-f17d-826a98253295, 当前在线用户数: 0
2025-11-06 20:16:41.370 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:16:41.370 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:16:41.842 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:16:41.842 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:41.842 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:16:41.848 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:41.848 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:41.849 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4e2f38] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:41.850 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@624650959 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:41.853 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4e2f38]
2025-11-06 20:16:41.908 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:16:41.909 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:41.914 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 00d06442-1f46-858d-99f3-fca943e80c21
2025-11-06 20:16:41.914 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:16:41.914 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 00d06442-1f46-858d-99f3-fca943e80c21, 当前在线用户数: 1
2025-11-06 20:16:41.914 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:16:41.915 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:41.915 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:41.915 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:16:41.915 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:16:41.915 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:16:41.923 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:41.925 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:41.927 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:41.928 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a9d8051] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:41.927 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:41.929 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f0f526] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:41.929 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@555009502 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:41.931 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@921780370 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:41.932 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a9d8051]
2025-11-06 20:16:41.933 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16f0f526]
2025-11-06 20:16:42.412 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTI5MywiZXhwIjoxODQ4ODMxMjkzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.drcxO14A8Rk2EwNl7UQ1-IaXEoqaKHIP8qnffOPkLMaZBdA_IDo_qKEriMkWVkfxAcOM1dK3Wa7LcnuUk9-EEg"}
2025-11-06 20:16:42.413 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:16:42.541 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:16:42.541 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:42.541 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:16:42.550 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:42.551 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.552 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c4f2a] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.554 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1899449309 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:42.556 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8c4f2a]
2025-11-06 20:16:42.762 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:16:42.763 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:42.764 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.764 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74009fa5] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.769 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1123733352 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:42.775 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74009fa5]
2025-11-06 20:16:42.894 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:16:42.894 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:42.897 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:16:42.897 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:16:42.898 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:16:42.951 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:16:42.952 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:16:42.952 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:42.952 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:42.953 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.953 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ac3a9e] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.953 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1448889560 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:42.954 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.954 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52caa210] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.955 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ac3a9e]
2025-11-06 20:16:42.956 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.956 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1449c602] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.956 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1640261343 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:42.959 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1449c602]
2025-11-06 20:16:42.959 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1458400528 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:42.960 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.961 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d411cfd] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.962 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@132298881 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:42.964 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d411cfd]
2025-11-06 20:16:42.966 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52caa210]
2025-11-06 20:16:42.966 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.966 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68623021] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.966 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1440372176 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:42.968 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68623021]
2025-11-06 20:16:42.969 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:42.969 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d57bb49] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:42.970 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1154312186 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:42.972 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d57bb49]
2025-11-06 20:16:43.006 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:16:43.007 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:43.007 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:16:43.008 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:16:43.008 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:43.008 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:16:43.016 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:43.018 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:43.019 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.019 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.020 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c35c340] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.020 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16085e77] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.021 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@901628780 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:43.021 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@37360768 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:43.023 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c35c340]
2025-11-06 20:16:43.023 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16085e77]
2025-11-06 20:16:43.088 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:16:43.089 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:43.311 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 20:16:43.311 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:43.311 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 20:16:43.311 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:16:43.311 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:43.312 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.312 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bad8d2] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.313 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@548001047 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:43.316 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:43.316 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bad8d2]
2025-11-06 20:16:43.323 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.323 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d7e9f1] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.323 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1921705042 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:43.326 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d7e9f1]
2025-11-06 20:16:43.326 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.327 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc22429] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.328 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@979225089 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:43.334 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc22429]
2025-11-06 20:16:43.357 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:16:43.358 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:43.359 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.359 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583261c7] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.363 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@97189087 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:43.366 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@583261c7]
2025-11-06 20:16:43.514 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:16:43.515 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:43.517 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:43.517 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616a7d92] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:43.520 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1572602115 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:43.521 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616a7d92]
2025-11-06 20:16:50.157 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:16:50.157 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 00d06442-1f46-858d-99f3-fca943e80c21, 当前在线用户数: 0
2025-11-06 20:16:50.157 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:16:50.157 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:16:52.991 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/account/login
2025-11-06 20:16:52.992 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:16:52.994 [http-nio-8080-exec-8] INFO  c.t.c.user.UserAccountController - 用户尝试登录, username: nini
2025-11-06 20:16:52.996 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:52.996 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791fcd59] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:52.998 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1138314134 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:53.004 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791fcd59]
2025-11-06 20:16:53.090 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:53.091 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23656e23]
2025-11-06 20:16:53.091 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@508827093 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will be managed by Spring
2025-11-06 20:16:53.093 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23656e23]
2025-11-06 20:16:53.094 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23656e23]
2025-11-06 20:16:53.094 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23656e23]
2025-11-06 20:16:53.094 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23656e23]
2025-11-06 20:16:53.095 [http-nio-8080-exec-8] INFO  c.t.c.user.UserAccountController - 用户登录成功, uid: 14, username: nini
2025-11-06 20:16:53.411 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:16:53.411 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:53.412 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:16:53.421 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:53.422 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:53.422 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cc9377] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:53.422 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@721020289 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:16:53.425 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cc9377]
2025-11-06 20:16:53.676 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:16:53.676 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:16:53.676 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:16:53.680 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:16:53.681 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:16:53.681 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35fa88e9] was not registered for synchronization because synchronization is not active
2025-11-06 20:16:53.682 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@356319992 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:16:53.685 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35fa88e9]
2025-11-06 20:17:49.629 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:17:49.629 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:17:49.630 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:17:49.631 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a53a659] was not registered for synchronization because synchronization is not active
2025-11-06 20:17:49.636 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2062411488 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:17:49.642 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a53a659]
2025-11-06 20:17:49.642 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:17:49.642 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f6ec27] was not registered for synchronization because synchronization is not active
2025-11-06 20:17:49.642 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@70898207 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:17:49.644 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11f6ec27]
2025-11-06 20:17:49.644 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:17:49.644 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f9539d] was not registered for synchronization because synchronization is not active
2025-11-06 20:17:49.644 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@365434385 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:17:49.645 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33f9539d]
2025-11-06 20:18:25.041 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:18:25.041 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:25.041 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:18:25.045 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:25.046 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.047 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d00c899] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.047 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1868739123 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.049 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d00c899]
2025-11-06 20:18:25.473 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:18:25.473 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:25.473 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:18:25.473 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:25.474 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:18:25.477 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 4df65486-20ff-0c82-83da-9aac89d0f25c
2025-11-06 20:18:25.478 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 4df65486-20ff-0c82-83da-9aac89d0f25c, 当前在线用户数: 1
2025-11-06 20:18:25.478 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:18:25.478 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:25.478 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:18:25.478 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:18:25.479 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:25.480 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.481 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15695004] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.482 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1528239730 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.483 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:25.484 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.486 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8b9e2e] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.486 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15695004]
2025-11-06 20:18:25.486 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1075085092 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:25.491 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a8b9e2e]
2025-11-06 20:18:25.549 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:18:25.549 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:18:25.579 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:18:25.580 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:25.580 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:18:25.585 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:25.585 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.586 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21134864] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.586 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1932968575 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.589 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21134864]
2025-11-06 20:18:25.614 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:18:25.614 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:25.615 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.618 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26764980] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.619 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1956991702 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:25.622 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26764980]
2025-11-06 20:18:25.665 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/add
2025-11-06 20:18:25.665 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:25.670 [http-nio-8080-exec-9] INFO  c.t.c.system.SearchController - 记录搜索词: kalq
2025-11-06 20:18:25.778 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/count
2025-11-06 20:18:25.779 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:25.784 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.784 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95bb498] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.791 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1587898418 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.794 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@95bb498]
2025-11-06 20:18:25.795 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.795 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edb7b1c] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.800 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2119331946 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.802 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7edb7b1c]
2025-11-06 20:18:25.888 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/video/only-pass
2025-11-06 20:18:25.888 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:25.889 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:25.889 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71727693] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:25.900 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1261169786 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:25.901 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71727693]
2025-11-06 20:18:27.019 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 4df65486-20ff-0c82-83da-9aac89d0f25c, 当前在线用户数: 0
2025-11-06 20:18:27.020 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:18:28.357 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/get
2025-11-06 20:18:28.358 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:33.204 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/get
2025-11-06 20:18:33.204 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:34.429 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:18:34.430 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:34.430 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:18:34.433 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:34.434 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:34.434 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7fb97d] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:34.435 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1056733020 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:34.437 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7fb97d]
2025-11-06 20:18:34.627 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:18:34.627 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:34.628 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:18:34.628 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:34.628 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:18:34.628 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:18:34.628 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:34.629 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:18:34.630 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 4de1dedc-853b-fc04-36a9-578cdf50ea56
2025-11-06 20:18:34.630 [http-nio-8080-exec-6] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 4de1dedc-853b-fc04-36a9-578cdf50ea56, 当前在线用户数: 1
2025-11-06 20:18:34.631 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:18:34.632 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:34.632 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:34.632 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:34.632 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:34.632 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26c1a9fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:34.633 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f6fe2e] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:34.633 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1643282516 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:34.634 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1395601670 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:34.636 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26c1a9fc]
2025-11-06 20:18:34.636 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f6fe2e]
2025-11-06 20:18:34.678 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:18:34.679 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:18:34.749 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:18:34.749 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:18:34.749 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:18:34.754 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:18:34.755 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:34.757 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a3927c4] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:34.757 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1301645752 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:34.760 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a3927c4]
2025-11-06 20:18:34.790 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:18:34.790 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:34.791 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:34.791 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1eac73] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:34.792 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1528424367 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:34.796 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1eac73]
2025-11-06 20:18:34.856 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/add
2025-11-06 20:18:34.856 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:34.863 [http-nio-8080-exec-2] INFO  c.t.c.system.SearchController - 记录搜索词: 测试
2025-11-06 20:18:35.071 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/count
2025-11-06 20:18:35.071 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/video/only-pass
2025-11-06 20:18:35.071 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:35.071 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:18:35.072 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.072 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.073 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63120f5d] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.073 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7343edbf] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.078 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1037150380 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:35.079 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@100338069 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:35.083 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7343edbf]
2025-11-06 20:18:35.084 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.085 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ac810] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.084 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63120f5d]
2025-11-06 20:18:35.085 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1721625192 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:35.085 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.086 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d68137] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.086 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@972217449 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:35.088 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349ac810]
2025-11-06 20:18:35.088 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.088 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d68137]
2025-11-06 20:18:35.088 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8da7fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.088 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.088 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166e7208] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.088 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@162867413 wrapping com.mysql.cj.jdbc.ConnectionImpl@6be0d930] will not be managed by Spring
2025-11-06 20:18:35.088 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@722245323 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:35.090 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8da7fc]
2025-11-06 20:18:35.090 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166e7208]
2025-11-06 20:18:35.091 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:18:35.091 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd0406a] was not registered for synchronization because synchronization is not active
2025-11-06 20:18:35.096 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1983837414 wrapping com.mysql.cj.jdbc.ConnectionImpl@450bcbc4] will not be managed by Spring
2025-11-06 20:18:35.100 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd0406a]
2025-11-06 20:18:36.719 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 4de1dedc-853b-fc04-36a9-578cdf50ea56, 当前在线用户数: 0
2025-11-06 20:18:36.719 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:18:37.829 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/search/word/get
2025-11-06 20:18:37.830 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:30.168 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (1 addition, 3 deletions, 0 modifications)
2025-11-06 20:36:30.190 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 20:36:30.199 [Thread-6] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 20:36:30.318 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 53460 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 20:36:30.318 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 20:36:30.319 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 20:36:30.610 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 20:36:30.611 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 20:36:30.612 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 20:36:30.612 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 20:36:30.612 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 20:36:30.612 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 20:36:30.613 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 20:36:30.614 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 20:36:30.615 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 20:36:30.616 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 20:36:30.616 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 20:36:30.616 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 20:36:30.616 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 20:36:30.616 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 20:36:30.711 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 20:36:30.712 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 20:36:30.712 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 20:36:30.712 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 20:36:30.742 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 20:36:30.742 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 418 ms
2025-11-06 20:36:30.757 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 20:36:31.063 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'videoReviewController': Unsatisfied dependency expressed through field 'videoService': Error creating bean with name 'videoServiceImpl' defined in file [E:\temimi\temimi-backend\target\classes\com\temimi\service\impl\VideoServiceImpl.class]: Post-processing of merged bean definition failed
2025-11-06 20:36:31.064 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-06 20:36:31.068 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-06 20:36:31.086 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'videoReviewController': Unsatisfied dependency expressed through field 'videoService': Error creating bean with name 'videoServiceImpl' defined in file [E:\temimi\temimi-backend\target\classes\com\temimi\service\impl\VideoServiceImpl.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.temimi.BackendApplication.main(BackendApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'videoServiceImpl' defined in file [E:\temimi\temimi-backend\target\classes\com\temimi\service\impl\VideoServiceImpl.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:577)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 25 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.temimi.service.impl.VideoServiceImpl] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@48bb0ef5]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:757)
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:689)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:431)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:412)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1085)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:574)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/temimi/service/UserVideoService
	at java.base/java.lang.Class.getDeclaredFields0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2371)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:752)
	... 40 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.temimi.service.UserVideoService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 44 common frames omitted
2025-11-06 20:36:32.998 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 53460 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 20:36:32.998 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 20:36:32.998 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 20:36:33.132 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 20:36:33.133 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 20:36:33.134 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 20:36:33.135 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 20:36:33.136 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 20:36:33.137 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 20:36:33.183 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 20:36:33.186 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 20:36:33.186 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 20:36:33.186 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 20:36:33.198 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 20:36:33.198 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 199 ms
2025-11-06 20:36:33.207 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 20:36:33.403 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 20:36:33.403 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 20:36:33.571 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 20:36:33.586 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 20:36:33.589 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 20:36:33.592 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 0.624 seconds (process running for 1322.839)
2025-11-06 20:36:33.596 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ProjectInfoAutoConfiguration#gitProperties matched:
      - GitResource found git info at classpath:git.properties (ProjectInfoAutoConfiguration.GitResourceAvailableCondition)
      - @ConditionalOnMissingBean (types: org.springframework.boot.info.GitProperties; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-11-06 20:36:41.707 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 20:36:41.773 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 66076 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 20:36:41.774 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 20:36:41.776 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 20:36:41.827 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 20:36:41.828 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 20:36:42.430 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 20:36:42.431 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 20:36:42.432 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 20:36:42.434 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 20:36:42.435 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 20:36:42.436 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 20:36:42.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 20:36:42.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 20:36:42.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 20:36:42.437 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 20:36:42.438 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 20:36:42.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 20:36:42.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 20:36:42.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 20:36:42.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 20:36:42.440 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 20:36:42.843 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 20:36:42.851 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 20:36:42.852 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 20:36:42.852 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 20:36:42.893 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 20:36:42.894 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1065 ms
2025-11-06 20:36:42.928 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 20:36:43.374 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 20:36:43.375 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 20:36:43.785 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 20:36:43.807 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 20:36:43.824 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 20:36:43.833 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.553 seconds (process running for 3.22)
2025-11-06 20:36:52.151 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 20:36:52.151 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 20:36:52.152 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 20:36:52.157 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:36:52.159 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:52.159 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:36:52.228 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:52.267 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.276 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c061c8] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.285 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 20:36:52.435 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a34ee33
2025-11-06 20:36:52.437 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 20:36:52.441 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1778068059 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.507 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c061c8]
2025-11-06 20:36:52.638 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:36:52.640 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:36:52.640 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:36:52.640 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:52.640 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:52.640 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:52.640 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:36:52.641 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:36:52.647 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:52.647 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:52.663 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.664 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a226bd3] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.665 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@500463072 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.669 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a226bd3]
2025-11-06 20:36:52.691 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.692 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ba61f8] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.706 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:36:52.706 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:52.718 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.720 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56fc37bd] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.755 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:36:52.756 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:52.757 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:36:52.761 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:52.763 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.763 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a66429] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.768 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 01a435b7-bf1b-9918-5943-00fbffffbd6a
2025-11-06 20:36:52.769 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 01a435b7-bf1b-9918-5943-00fbffffbd6a, 当前在线用户数: 1
2025-11-06 20:36:52.784 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:36:52.789 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:36:52.813 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:36:52.832 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@947290912 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:52.832 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1430349703 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.838 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a66429]
2025-11-06 20:36:52.846 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46ba61f8]
2025-11-06 20:36:52.856 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:36:52.857 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:52.860 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.860 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e20e3bc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.862 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@529906121 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.881 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e20e3bc]
2025-11-06 20:36:52.923 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1817843871 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.933 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56fc37bd]
2025-11-06 20:36:52.934 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.935 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3010a889] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.935 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@150307516 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.939 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3010a889]
2025-11-06 20:36:52.939 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:52.940 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f36a154] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:52.940 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1564637411 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:52.942 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f36a154]
2025-11-06 20:36:52.971 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 20:36:52.971 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:54.796 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:36:54.797 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:54.797 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:36:54.805 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:54.806 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:54.806 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62004e97] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:54.807 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@66521623 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:54.810 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62004e97]
2025-11-06 20:36:55.239 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:36:55.239 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.240 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:36:55.240 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:36:55.241 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:55.241 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:55.242 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:36:55.243 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:36:55.243 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c8562ba5-1b06-4a88-3a68-5e5799c86ecd
2025-11-06 20:36:55.244 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 01a435b7-bf1b-9918-5943-00fbffffbd6a
2025-11-06 20:36:55.247 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 01a435b7-bf1b-9918-5943-00fbffffbd6a, 当前在线用户数: 0
2025-11-06 20:36:55.247 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:55.247 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:55.248 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:36:55.249 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.249 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c8562ba5-1b06-4a88-3a68-5e5799c86ecd, 当前在线用户数: 1
2025-11-06 20:36:55.249 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.250 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:36:55.250 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddccfaa] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.250 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ef34cb] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.251 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@331126266 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.252 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1674768718 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:55.253 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63ef34cb]
2025-11-06 20:36:55.256 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ddccfaa]
2025-11-06 20:36:55.321 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:36:55.321 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:36:55.350 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:36:55.350 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:55.350 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:36:55.355 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:55.356 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.356 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a93b0bf] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.357 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1955962233 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:55.361 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a93b0bf]
2025-11-06 20:36:55.411 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:36:55.412 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.412 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.412 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c4af51] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.413 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@180918535 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.420 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66c4af51]
2025-11-06 20:36:55.482 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:36:55.482 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.484 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:36:55.485 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:36:55.485 [http-nio-8080-exec-5] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:36:55.532 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:36:55.533 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.534 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.535 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bae1669] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.535 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2009525577 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.539 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bae1669]
2025-11-06 20:36:55.540 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.541 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f913afd] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.541 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@132313033 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.551 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f913afd]
2025-11-06 20:36:55.551 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.552 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17880d19] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.552 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@478043176 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.555 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17880d19]
2025-11-06 20:36:55.643 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:36:55.643 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:36:55.643 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:36:55.644 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:55.644 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:55.644 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.644 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:36:55.644 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:36:55.646 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.646 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45cc3614] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.650 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:55.650 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:55.652 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.652 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.653 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372a513] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.655 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ace67fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.656 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@581706444 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.659 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1625596900 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:55.662 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ace67fc]
2025-11-06 20:36:55.662 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1440632317 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:36:55.663 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372a513]
2025-11-06 20:36:55.677 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45cc3614]
2025-11-06 20:36:55.677 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.677 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a499ee1] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.678 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@4726252 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:36:55.681 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a499ee1]
2025-11-06 20:36:55.682 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.683 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242de5d6] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.684 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1123408164 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:36:55.686 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:36:55.686 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.686 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@242de5d6]
2025-11-06 20:36:55.748 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:36:55.748 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.750 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.751 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a343c3e] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.752 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@289281357 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:55.755 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a343c3e]
2025-11-06 20:36:55.903 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:36:55.903 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:55.904 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:55.904 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bd49f6] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:55.911 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@968816241 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:55.915 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56bd49f6]
2025-11-06 20:36:56.000 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:36:56.000 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:56.001 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:56.001 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c9261e] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:56.004 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@289046789 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:56.007 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42c9261e]
2025-11-06 20:36:56.090 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 20:36:56.090 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:56.924 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:36:56.924 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c8562ba5-1b06-4a88-3a68-5e5799c86ecd, 当前在线用户数: 0
2025-11-06 20:36:56.925 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:36:56.925 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:36:57.085 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:36:57.086 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.086 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:36:57.090 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.090 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.091 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c575981] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.091 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1527280895 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.094 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c575981]
2025-11-06 20:36:57.118 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:36:57.119 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.120 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:36:57.121 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.122 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:36:57.124 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 206716ff-4d4f-8ce9-7a66-d25ab5ff0738
2025-11-06 20:36:57.126 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 206716ff-4d4f-8ce9-7a66-d25ab5ff0738, 当前在线用户数: 1
2025-11-06 20:36:57.127 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.127 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:36:57.128 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.129 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d00b0fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.132 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@442720487 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.134 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d00b0fc]
2025-11-06 20:36:57.293 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:36:57.293 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:36:57.331 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:36:57.331 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.331 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:36:57.335 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.335 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.336 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679796cc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.336 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@723648066 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.339 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@679796cc]
2025-11-06 20:36:57.375 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:36:57.375 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.375 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:36:57.380 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.381 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.382 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac39662] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.384 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@224770751 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.386 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac39662]
2025-11-06 20:36:57.442 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:36:57.442 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.443 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.443 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff1195b] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.444 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2072002919 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.451 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ff1195b]
2025-11-06 20:36:57.502 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:36:57.502 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.504 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:36:57.504 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:36:57.505 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:36:57.521 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:36:57.521 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.522 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:36:57.522 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.523 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.523 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ae2a0] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.523 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1540649651 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.524 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.524 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe75ef8] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.526 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ae2a0]
2025-11-06 20:36:57.526 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.527 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8ae021] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.527 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1517497586 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.529 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8ae021]
2025-11-06 20:36:57.529 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.530 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1625847441 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.531 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6235ef26] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.535 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@216639964 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.536 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fe75ef8]
2025-11-06 20:36:57.537 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.538 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45900701] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.538 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6235ef26]
2025-11-06 20:36:57.539 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1726987740 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.541 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45900701]
2025-11-06 20:36:57.541 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.541 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fcfefe1] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.542 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1354743035 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.544 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fcfefe1]
2025-11-06 20:36:57.577 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:36:57.577 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.577 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:36:57.582 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.583 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.583 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603e7202] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.584 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1609458927 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.585 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@603e7202]
2025-11-06 20:36:57.734 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:36:57.734 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:36:57.734 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.734 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:57.734 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:36:57.739 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:57.740 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.741 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d825409] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.741 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@270814730 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.744 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d825409]
2025-11-06 20:36:57.777 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:36:57.777 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.779 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.779 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b153fc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.781 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@145930813 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:36:57.783 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b153fc]
2025-11-06 20:36:57.871 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:36:57.871 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.873 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.873 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a2f458] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.884 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@665781681 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:57.886 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58a2f458]
2025-11-06 20:36:57.935 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:36:57.935 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:57.936 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:57.936 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e487e] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:57.940 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1627547897 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:57.942 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e487e]
2025-11-06 20:36:58.984 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:36:58.984 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 206716ff-4d4f-8ce9-7a66-d25ab5ff0738, 当前在线用户数: 0
2025-11-06 20:36:58.984 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:36:58.984 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:36:59.192 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:36:59.192 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.192 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:36:59.197 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.197 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.197 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287c0653] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.198 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1949277860 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.201 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287c0653]
2025-11-06 20:36:59.349 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:36:59.349 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:59.351 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:36:59.351 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:36:59.352 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.352 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.352 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:36:59.352 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:36:59.353 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: ffd6a0a1-ae18-ae4a-713a-4057a0801717
2025-11-06 20:36:59.353 [http-nio-8080-exec-5] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: ffd6a0a1-ae18-ae4a-713a-4057a0801717, 当前在线用户数: 1
2025-11-06 20:36:59.354 [http-nio-8080-exec-5] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:36:59.355 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.355 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.356 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.356 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.356 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe87dc1] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.356 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9a0093] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.357 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1067035919 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:59.357 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@527364393 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.358 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe87dc1]
2025-11-06 20:36:59.360 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c9a0093]
2025-11-06 20:36:59.390 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:36:59.391 [http-nio-8080-exec-10] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:36:59.736 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:36:59.736 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.736 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:36:59.740 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.742 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.742 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c1e18b8] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.743 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1948177179 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:36:59.746 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c1e18b8]
2025-11-06 20:36:59.765 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:36:59.765 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:59.766 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.766 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351a6d2] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.767 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1091052886 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.770 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351a6d2]
2025-11-06 20:36:59.797 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:36:59.798 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:59.800 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:36:59.800 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:36:59.800 [http-nio-8080-exec-7] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:36:59.819 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:36:59.819 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:36:59.819 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:59.819 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:36:59.820 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.820 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.820 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbc68d4] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.820 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d32759] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.820 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1958983986 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:59.822 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dbc68d4]
2025-11-06 20:36:59.823 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.823 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60413943] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.824 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1556009415 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.824 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@507844439 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:59.826 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60413943]
2025-11-06 20:36:59.826 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.826 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69065869] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.826 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@6618923 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:59.828 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69065869]
2025-11-06 20:36:59.828 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d32759]
2025-11-06 20:36:59.828 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.829 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ecf9dc] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.829 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@41297391 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.831 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28ecf9dc]
2025-11-06 20:36:59.831 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.832 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcf8466] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.833 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1151516378 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.835 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bcf8466]
2025-11-06 20:36:59.857 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:36:59.857 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:36:59.857 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.857 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:36:59.857 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:36:59.857 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:36:59.862 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.862 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:36:59.863 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.863 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:36:59.863 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@536f6c6b] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.864 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a070126] was not registered for synchronization because synchronization is not active
2025-11-06 20:36:59.865 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1380141975 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:36:59.865 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2098594867 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:36:59.867 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@536f6c6b]
2025-11-06 20:36:59.867 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a070126]
2025-11-06 20:37:00.064 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:37:00.064 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:00.163 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:37:00.165 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:00.166 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:00.166 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3969a0dd] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:00.167 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1085165071 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:00.169 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3969a0dd]
2025-11-06 20:37:00.179 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:37:00.179 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:00.179 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:00.179 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2b87c0] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:00.182 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1993401394 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:00.186 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2b87c0]
2025-11-06 20:37:00.194 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:37:00.194 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:00.194 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:00.194 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e81896e] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:00.196 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@815929498 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:37:00.197 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e81896e]
2025-11-06 20:37:09.512 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:37:09.512 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:09.513 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:37:09.517 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:09.517 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:09.518 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53427aae] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:09.518 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@129440407 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:09.521 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53427aae]
2025-11-06 20:37:09.611 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:37:09.611 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:09.612 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:37:09.612 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:09.612 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:37:09.614 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c84912a1-3382-1ce0-07c7-1762eff4da2a
2025-11-06 20:37:09.614 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: ffd6a0a1-ae18-ae4a-713a-4057a0801717
2025-11-06 20:37:09.615 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: ffd6a0a1-ae18-ae4a-713a-4057a0801717, 当前在线用户数: 0
2025-11-06 20:37:09.615 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:37:09.615 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c84912a1-3382-1ce0-07c7-1762eff4da2a, 当前在线用户数: 1
2025-11-06 20:37:09.615 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:37:09.617 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:09.618 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:09.619 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d0f88a] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:09.620 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@447084786 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:09.622 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d0f88a]
2025-11-06 20:37:09.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:37:09.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:09.636 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:37:09.640 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:09.641 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:09.641 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4abb4c] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:09.641 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@382751918 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:09.643 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a4abb4c]
2025-11-06 20:37:10.025 [http-nio-8080-exec-8] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:37:10.025 [http-nio-8080-exec-8] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:37:10.071 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:37:10.071 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:10.072 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:37:10.076 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:10.077 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.077 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ec9791] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.077 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1379010116 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:10.080 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59ec9791]
2025-11-06 20:37:10.103 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:37:10.103 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.104 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.104 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c3d6bb9] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.105 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1478904235 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.108 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c3d6bb9]
2025-11-06 20:37:10.167 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 20:37:10.167 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.168 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 20:37:10.168 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 20:37:10.170 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 2
2025-11-06 20:37:10.223 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 20:37:10.223 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.224 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.224 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145e2922] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.225 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@308305940 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:37:10.225 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 20:37:10.226 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.226 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.227 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a6880e] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.227 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145e2922]
2025-11-06 20:37:10.227 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.227 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5495e7c9] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.227 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@837276480 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:37:10.228 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5495e7c9]
2025-11-06 20:37:10.229 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.229 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2454ab2c] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.229 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1051577493 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.229 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1602530240 wrapping com.mysql.cj.jdbc.ConnectionImpl@11be74ba] will not be managed by Spring
2025-11-06 20:37:10.232 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2454ab2c]
2025-11-06 20:37:10.233 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a6880e]
2025-11-06 20:37:10.234 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.234 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a05c2ed] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.234 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1033363354 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.237 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a05c2ed]
2025-11-06 20:37:10.237 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.237 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20fcef0d] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.238 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1141523285 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.240 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20fcef0d]
2025-11-06 20:37:10.268 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 20:37:10.269 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 20:37:10.269 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:10.269 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:10.269 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 20:37:10.269 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 20:37:10.273 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:10.273 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:10.275 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.275 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.276 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3dd419] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.276 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5962787f] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.277 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@852783839 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:10.277 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1340493465 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.279 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5962787f]
2025-11-06 20:37:10.279 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3dd419]
2025-11-06 20:37:10.420 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 20:37:10.420 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.421 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 20:37:10.421 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.422 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.422 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e197137] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.423 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@25574243 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:10.427 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e197137]
2025-11-06 20:37:10.569 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:37:10.569 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.570 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.570 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c14d4c6] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.578 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@517625826 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:10.581 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c14d4c6]
2025-11-06 20:37:10.591 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:37:10.591 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:10.594 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:10.594 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32898502] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:10.597 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1302788947 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:10.598 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32898502]
2025-11-06 20:37:16.181 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 20:37:16.181 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:16.181 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 20:37:16.183 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:16.198 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:16.198 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d37893] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:16.199 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@92945647 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:16.200 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d37893]
2025-11-06 20:37:16.200 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:16.201 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b6359a] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:16.201 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1483522143 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:16.201 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15b6359a]
2025-11-06 20:37:16.201 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:16.201 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c2346ac] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:16.203 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1585244394 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:16.208 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c2346ac]
2025-11-06 20:37:16.212 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:16.213 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.214 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@344466451 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will be managed by Spring
2025-11-06 20:37:16.215 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.215 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22] from current transaction
2025-11-06 20:37:16.219 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.219 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.220 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.220 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@645e4a22]
2025-11-06 20:37:16.512 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c84912a1-3382-1ce0-07c7-1762eff4da2a, 当前在线用户数: 0
2025-11-06 20:37:16.512 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:37:16.513 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:37:16.513 [http-nio-8080-exec-10] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 20:37:18.325 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 20:37:18.326 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:18.326 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 20:37:18.328 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:18.329 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.329 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f67dc] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.329 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1579765494 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:18.332 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f67dc]
2025-11-06 20:37:18.487 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 20:37:18.487 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:18.489 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 20:37:18.490 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:18.490 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 20:37:18.491 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 23005547-c4b9-7cc0-0718-20b44b4799f8
2025-11-06 20:37:18.491 [http-nio-8080-exec-3] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 23005547-c4b9-7cc0-0718-20b44b4799f8, 当前在线用户数: 1
2025-11-06 20:37:18.491 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 20:37:18.495 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:18.496 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.496 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315edae1] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.498 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1041940979 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:18.500 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315edae1]
2025-11-06 20:37:18.532 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 20:37:18.532 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 20:37:18.572 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 20:37:18.572 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:18.572 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 20:37:18.575 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:18.576 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.576 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382a2799] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.576 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@878833467 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:18.578 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@382a2799]
2025-11-06 20:37:18.610 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 20:37:18.610 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 20:37:18.610 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 20:37:18.614 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 20:37:18.614 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.615 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e2de09] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.615 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1469062192 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:18.618 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e2de09]
2025-11-06 20:37:18.638 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 20:37:18.638 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:18.640 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.640 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f539ab] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.641 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@559844956 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a34ee33] will not be managed by Spring
2025-11-06 20:37:18.648 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f539ab]
2025-11-06 20:37:18.669 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 20:37:18.670 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 20:37:18.670 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.671 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76877cfd] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.674 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1575347430 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:18.677 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76877cfd]
2025-11-06 20:37:18.678 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.679 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726f283c] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.679 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@14622787 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:18.685 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726f283c]
2025-11-06 20:37:18.686 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 20:37:18.686 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3edb3] was not registered for synchronization because synchronization is not active
2025-11-06 20:37:18.686 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1975274772 wrapping com.mysql.cj.jdbc.ConnectionImpl@56f3053e] will not be managed by Spring
2025-11-06 20:37:18.687 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3edb3]
2025-11-06 20:37:19.906 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 20:37:19.906 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 20:37:20.672 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 23005547-c4b9-7cc0-0718-20b44b4799f8, 当前在线用户数: 0
2025-11-06 20:37:20.672 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 20:51:10.001 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 20:51:10.015 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 21:41:23.427 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 21:41:23.499 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72940 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 21:41:23.500 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 21:41:23.503 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 21:41:23.560 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 21:41:23.562 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 21:41:24.738 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 21:41:24.739 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 21:41:24.741 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 21:41:24.744 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 21:41:24.744 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 21:41:24.745 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 21:41:24.745 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 21:41:24.746 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 21:41:24.746 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 21:41:24.746 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 21:41:24.746 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 21:41:24.747 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 21:41:24.747 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 21:41:24.747 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 21:41:24.748 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 21:41:24.749 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 21:41:24.749 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 21:41:24.749 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 21:41:24.750 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 21:41:24.751 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 21:41:24.751 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 21:41:24.751 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 21:41:24.752 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 21:41:24.752 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 21:41:24.753 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 21:41:24.754 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 21:41:24.754 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 21:41:24.755 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 21:41:24.755 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 21:41:24.756 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 21:41:24.756 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 21:41:24.757 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 21:41:24.757 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 21:41:24.758 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 21:41:24.758 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 21:41:24.759 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 21:41:25.494 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 21:41:25.510 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 21:41:25.512 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 21:41:25.513 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 21:41:25.589 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 21:41:25.589 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2027 ms
2025-11-06 21:41:25.663 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 21:41:26.442 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 21:41:26.443 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 21:41:27.173 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 21:41:27.209 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 21:41:27.235 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 21:41:27.246 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 4.488 seconds (process running for 5.257)
2025-11-06 21:41:40.615 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 21:41:40.616 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 21:41:40.617 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-06 21:41:40.622 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:41:40.624 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:40.624 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:41:40.716 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:40.759 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:40.767 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47da0b05] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:40.779 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 21:41:40.926 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4de3a7df
2025-11-06 21:41:40.928 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 21:41:40.932 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@884316574 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:40.982 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47da0b05]
2025-11-06 21:41:41.107 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:41:41.108 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:41.117 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:41:41.117 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:41:41.118 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:41.118 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:41:41.118 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:41.118 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:41:41.123 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:41.123 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:41.135 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.136 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23371729] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.137 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@802034097 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.140 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23371729]
2025-11-06 21:41:41.148 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.149 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb62339] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.197 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 2404bce7-65f7-22a7-1040-506e9bc19ba2
2025-11-06 21:41:41.198 [http-nio-8080-exec-2] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 2404bce7-65f7-22a7-1040-506e9bc19ba2, 当前在线用户数: 1
2025-11-06 21:41:41.210 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:41:41.214 [http-nio-8080-exec-2] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:41:41.218 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:41:41.218 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:41.218 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:41:41.224 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:41.232 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.233 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d23f46e] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.243 [http-nio-8080-exec-2] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:41:41.256 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1662618424 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:41.256 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@856067575 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.260 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d23f46e]
2025-11-06 21:41:41.261 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:41:41.261 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:41.264 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb62339]
2025-11-06 21:41:41.266 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.267 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5d498e] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.309 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:41:41.309 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:41.311 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.311 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd1963b] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.313 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@347229816 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.333 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd1963b]
2025-11-06 21:41:41.359 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@140095340 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.373 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5d498e]
2025-11-06 21:41:41.374 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.375 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f6c4f2] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.375 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@326309127 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.379 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f6c4f2]
2025-11-06 21:41:41.380 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:41.380 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d25504] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:41.380 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@847644955 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:41.384 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51d25504]
2025-11-06 21:41:41.722 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 21:41:41.722 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:44.909 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:41:44.909 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:44.909 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:41:44.915 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:44.916 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:44.916 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4f4cd7] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:44.917 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@874175241 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:44.920 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4f4cd7]
2025-11-06 21:41:44.926 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:41:44.926 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:44.926 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:41:44.932 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:44.932 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:44.933 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328c6532] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:44.933 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@763828601 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:44.936 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@328c6532]
2025-11-06 21:41:45.093 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:41:45.093 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:45.096 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:41:45.096 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:41:45.096 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:45.096 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:45.097 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:41:45.097 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:41:45.099 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: e99e132f-2138-bddd-e917-23c1eb8c8a6f
2025-11-06 21:41:45.099 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: 2404bce7-65f7-22a7-1040-506e9bc19ba2
2025-11-06 21:41:45.100 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 2404bce7-65f7-22a7-1040-506e9bc19ba2, 当前在线用户数: 0
2025-11-06 21:41:45.100 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:41:45.100 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: e99e132f-2138-bddd-e917-23c1eb8c8a6f, 当前在线用户数: 1
2025-11-06 21:41:45.101 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:41:45.102 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:45.102 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:45.102 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:45.103 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7898ef45] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:45.103 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:45.104 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1267165303 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:45.104 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79fea190] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:45.105 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@563025608 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:45.106 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7898ef45]
2025-11-06 21:41:45.111 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79fea190]
2025-11-06 21:41:45.130 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:41:45.131 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:45.131 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:41:45.136 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:45.137 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:45.138 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2020f1e] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:45.140 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1133491668 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:45.144 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2020f1e]
2025-11-06 21:41:45.152 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:41:45.152 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:41:45.217 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:41:45.217 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:45.217 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:41:45.222 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:45.224 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:45.224 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a63a34f] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:45.225 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@571405252 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:45.234 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a63a34f]
2025-11-06 21:41:45.535 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:41:45.536 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:45.536 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:45.536 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6780d1e5] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:45.537 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@329310973 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:45.551 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6780d1e5]
2025-11-06 21:41:47.469 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user/14
2025-11-06 21:41:47.469 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:47.473 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:47.474 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b58811] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:47.490 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1605693586 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:47.496 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b58811]
2025-11-06 21:41:47.497 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:47.497 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cda1685] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:47.498 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2022167203 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:47.500 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cda1685]
2025-11-06 21:41:47.501 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:47.501 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feba1dc] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:47.501 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1930034842 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:47.502 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7feba1dc]
2025-11-06 21:41:49.311 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: e99e132f-2138-bddd-e917-23c1eb8c8a6f, 当前在线用户数: 0
2025-11-06 21:41:49.311 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:41:50.540 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:41:50.541 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:50.541 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:41:50.545 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:50.546 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:50.546 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eaa15c] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:50.547 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@839849365 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:50.551 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eaa15c]
2025-11-06 21:41:51.051 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:41:51.051 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.054 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:41:51.054 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:41:51.054 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:51.054 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:51.054 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:41:51.054 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:41:51.056 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: c4c6a21e-4366-a843-af02-2f3661200fbb
2025-11-06 21:41:51.056 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: c4c6a21e-4366-a843-af02-2f3661200fbb, 当前在线用户数: 1
2025-11-06 21:41:51.058 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:51.058 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:41:51.058 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.058 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:51.058 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2434ebcd] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.060 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.060 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499bcf27] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.060 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@109606772 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:51.060 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@892751506 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.062 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2434ebcd]
2025-11-06 21:41:51.063 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499bcf27]
2025-11-06 21:41:51.116 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:41:51.116 [http-nio-8080-exec-4] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:41:51.153 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:41:51.153 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:51.153 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:41:51.157 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:51.157 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.158 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21bab650] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.158 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@700838124 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.161 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21bab650]
2025-11-06 21:41:51.207 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:41:51.208 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.209 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.209 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657878d9] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.210 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1877226482 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.217 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657878d9]
2025-11-06 21:41:51.278 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 21:41:51.278 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.281 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 21:41:51.282 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 21:41:51.283 [http-nio-8080-exec-8] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 21:41:51.335 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 21:41:51.335 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.336 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.336 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13005ddf] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.337 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@835189538 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.339 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13005ddf]
2025-11-06 21:41:51.340 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.340 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51438e24] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.340 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1086115702 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.342 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51438e24]
2025-11-06 21:41:51.343 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.343 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e3968d] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.343 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1067193435 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.345 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e3968d]
2025-11-06 21:41:51.447 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 21:41:51.447 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 21:41:51.447 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 21:41:51.448 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.448 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:51.449 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 21:41:51.452 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.452 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27178cb] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.454 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:51.456 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.456 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7746d332] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.457 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@237578359 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.460 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7746d332]
2025-11-06 21:41:51.463 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1784337334 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:51.471 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27178cb]
2025-11-06 21:41:51.472 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.472 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34aba7f5] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.473 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1834608062 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:51.475 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34aba7f5]
2025-11-06 21:41:51.475 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.475 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3859cce7] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.476 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@684957578 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:51.478 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3859cce7]
2025-11-06 21:41:51.512 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 21:41:51.512 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:51.512 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 21:41:51.517 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:51.518 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.518 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a05bbb5] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.520 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@66913588 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:41:51.523 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a05bbb5]
2025-11-06 21:41:51.534 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 21:41:51.534 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.535 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.536 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f499f35] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.537 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@734161247 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.541 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f499f35]
2025-11-06 21:41:51.681 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:41:51.681 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.682 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.683 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff546a4] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.685 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2145328180 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.687 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff546a4]
2025-11-06 21:41:51.847 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:41:51.847 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:51.848 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:51.848 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e6d062] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:51.857 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1532895975 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:51.859 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e6d062]
2025-11-06 21:41:51.862 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 21:41:51.862 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:41:58.288 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 21:41:58.289 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:41:58.289 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 21:41:58.297 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:41:58.314 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:58.314 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de9568f] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:58.315 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@597883300 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:58.319 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@de9568f]
2025-11-06 21:41:58.319 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:58.319 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d0913] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:58.319 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1076059550 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:58.321 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333d0913]
2025-11-06 21:41:58.321 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:58.321 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5413a01f] was not registered for synchronization because synchronization is not active
2025-11-06 21:41:58.325 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2055528842 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:41:58.330 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5413a01f]
2025-11-06 21:41:58.335 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:41:58.336 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:41:58.337 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@588592232 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:41:58.338 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:41:58.339 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4] from current transaction
2025-11-06 21:41:58.343 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:41:58.343 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:41:58.343 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:41:58.344 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2613abe4]
2025-11-06 21:42:08.999 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/create
2025-11-06 21:42:08.999 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:42:08.999 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/create
2025-11-06 21:42:09.001 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:42:09.015 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:42:09.015 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741b3021]
2025-11-06 21:42:09.017 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@560158726 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:42:09.021 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741b3021]
2025-11-06 21:42:09.021 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741b3021]
2025-11-06 21:42:09.021 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741b3021]
2025-11-06 21:42:09.021 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@741b3021]
2025-11-06 21:42:10.911 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:42:10.911 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:42:10.911 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:42:10.914 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:42:10.921 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:42:10.921 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.921 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1857182971 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:42:10.924 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.924 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1] from current transaction
2025-11-06 21:42:10.927 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.927 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1] from current transaction
2025-11-06 21:42:10.932 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.932 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1] from current transaction
2025-11-06 21:42:10.936 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.936 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.942 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:10.942 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c5fcb1]
2025-11-06 21:42:15.747 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:42:15.747 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:42:15.747 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:42:15.749 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:42:15.753 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:42:15.754 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.754 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1572104575 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:42:15.755 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.755 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8] from current transaction
2025-11-06 21:42:15.756 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.756 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8] from current transaction
2025-11-06 21:42:15.760 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.761 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8] from current transaction
2025-11-06 21:42:15.762 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.762 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.762 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:15.762 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae2e7e8]
2025-11-06 21:42:18.557 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:42:18.558 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:42:18.558 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:42:18.560 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:42:18.567 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:42:18.567 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:18.567 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@855451759 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will be managed by Spring
2025-11-06 21:42:18.569 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:18.569 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640] from current transaction
2025-11-06 21:42:18.572 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:18.572 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640] from current transaction
2025-11-06 21:42:18.584 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:18.676 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:18.676 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@172af640]
2025-11-06 21:42:23.121 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:42:23.122 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:42:23.125 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:42:23.152 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:42:23.166 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:42:23.167 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:42:23.167 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1627060768 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will be managed by Spring
2025-11-06 21:42:23.173 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:42:23.177 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d] from current transaction
2025-11-06 21:42:23.186 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:42:23.187 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d] from current transaction
2025-11-06 21:42:23.199 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:42:23.200 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:42:23.200 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfa577d]
2025-11-06 21:43:17.464 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:43:17.465 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:17.465 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:43:17.475 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:17.478 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:17.480 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f715f5] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:17.482 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1569480636 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:17.488 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57f715f5]
2025-11-06 21:43:17.915 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:43:17.916 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:17.917 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:43:17.918 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:17.919 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:43:17.919 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:43:17.920 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:17.920 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:43:17.928 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: d63c6c3f-0080-a53b-243f-0f2bf824f421
2025-11-06 21:43:17.930 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: c4c6a21e-4366-a843-af02-2f3661200fbb
2025-11-06 21:43:17.931 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:17.931 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:17.932 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: c4c6a21e-4366-a843-af02-2f3661200fbb, 当前在线用户数: 0
2025-11-06 21:43:17.932 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:17.933 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:43:17.933 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:17.934 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: d63c6c3f-0080-a53b-243f-0f2bf824f421, 当前在线用户数: 1
2025-11-06 21:43:17.934 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeadccb] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:17.936 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:43:17.935 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5777d67b] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:17.936 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1483064699 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:17.939 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@68833986 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:17.940 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeadccb]
2025-11-06 21:43:17.945 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5777d67b]
2025-11-06 21:43:17.967 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:43:17.968 [http-nio-8080-exec-9] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:43:18.013 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:43:18.014 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:18.014 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:43:18.029 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:18.031 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:18.037 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e74167] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:18.045 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1348380662 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:18.049 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e74167]
2025-11-06 21:43:18.084 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/user/14
2025-11-06 21:43:18.085 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:18.087 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:43:18.088 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:18.089 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:18.089 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:18.090 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1758e5ed] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:18.091 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380a4f9] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:18.093 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1867577502 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:18.094 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@6674606 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:18.100 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1758e5ed]
2025-11-06 21:43:18.109 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380a4f9]
2025-11-06 21:43:18.251 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/profile/14
2025-11-06 21:43:18.251 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:18.253 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:18.253 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c74c095] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:18.254 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@199680181 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:18.262 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c74c095]
2025-11-06 21:43:18.282 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /backgrounds/bg_14_1762146751390.jpg
2025-11-06 21:43:18.283 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:18.334 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-works-count
2025-11-06 21:43:18.337 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:18.339 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:18.339 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9e71f] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:18.341 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@753311053 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:18.343 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e9e71f]
2025-11-06 21:43:20.093 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/15/videos
2025-11-06 21:43:20.093 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:20.093 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/15/videos
2025-11-06 21:43:20.102 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:20.104 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:20.109 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8a6a1b] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:20.113 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1133682771 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:20.117 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8a6a1b]
2025-11-06 21:43:20.119 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:20.120 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24589188] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:20.122 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1484713386 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:20.124 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24589188]
2025-11-06 21:43:24.924 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 21:43:24.924 [http-nio-8080-exec-6] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 21:43:25.067 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:43:25.067 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.067 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:43:25.074 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.075 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.078 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354168df] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.080 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1214207736 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:25.086 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354168df]
2025-11-06 21:43:25.261 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:43:25.262 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.262 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:43:25.263 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:43:25.263 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.264 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:43:25.264 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.269 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: a338ae0c-3f99-438d-4295-54d896ba62fe
2025-11-06 21:43:25.265 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:43:25.270 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: d63c6c3f-0080-a53b-243f-0f2bf824f421
2025-11-06 21:43:25.271 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: d63c6c3f-0080-a53b-243f-0f2bf824f421, 当前在线用户数: 0
2025-11-06 21:43:25.272 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:43:25.272 [http-nio-8080-exec-9] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: a338ae0c-3f99-438d-4295-54d896ba62fe, 当前在线用户数: 1
2025-11-06 21:43:25.273 [http-nio-8080-exec-9] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:43:25.274 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.275 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.277 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@674cfc70] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.277 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.278 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1688067555 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.279 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.282 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6642716] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.285 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@674cfc70]
2025-11-06 21:43:25.286 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1830272320 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.292 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6642716]
2025-11-06 21:43:25.314 [http-nio-8080-exec-3] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:43:25.319 [http-nio-8080-exec-3] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:43:25.372 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:43:25.373 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.374 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:43:25.380 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.381 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.383 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@412d138f] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.385 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1200008083 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.389 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@412d138f]
2025-11-06 21:43:25.422 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:43:25.422 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.423 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.423 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cca86e] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.424 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2045217135 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.431 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cca86e]
2025-11-06 21:43:25.469 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 21:43:25.470 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.473 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 21:43:25.474 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 21:43:25.474 [http-nio-8080-exec-4] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 21:43:25.494 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 21:43:25.495 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.496 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.496 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4709832d] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.496 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2008594614 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.499 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4709832d]
2025-11-06 21:43:25.499 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.500 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c1f975] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.500 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@718931595 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.503 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21c1f975]
2025-11-06 21:43:25.504 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.504 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a23d86] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.504 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1787194934 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.507 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a23d86]
2025-11-06 21:43:25.626 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 21:43:25.626 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 21:43:25.626 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.627 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.627 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 21:43:25.628 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.629 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c93eca] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.637 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.639 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.641 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1740734040 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:25.643 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40369eff] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.646 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2078474118 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.647 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53c93eca]
2025-11-06 21:43:25.649 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.649 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40369eff]
2025-11-06 21:43:25.650 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61608466] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.651 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@230622636 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:25.654 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61608466]
2025-11-06 21:43:25.655 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.657 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc35d86] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.658 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.659 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1491447276 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:25.660 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8e03f4] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.662 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dc35d86]
2025-11-06 21:43:25.665 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 21:43:25.665 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1460205038 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.666 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:25.667 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 21:43:25.668 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8e03f4]
2025-11-06 21:43:25.671 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:25.673 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.674 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e81fc6] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.675 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@459175416 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.678 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e81fc6]
2025-11-06 21:43:25.706 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 21:43:25.707 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.812 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 21:43:25.812 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.814 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.814 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc93ecb] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.815 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1385831323 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:25.817 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fc93ecb]
2025-11-06 21:43:25.835 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:43:25.835 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:25.837 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:25.839 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66699cb4] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:25.844 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@668378522 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will not be managed by Spring
2025-11-06 21:43:25.850 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66699cb4]
2025-11-06 21:43:26.004 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:43:26.005 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:43:26.006 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:26.007 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c23566] was not registered for synchronization because synchronization is not active
2025-11-06 21:43:26.021 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@618093760 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will not be managed by Spring
2025-11-06 21:43:26.027 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c23566]
2025-11-06 21:43:28.805 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:43:28.805 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:28.805 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:43:28.811 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:28.817 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:28.818 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:28.818 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1586113811 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:43:28.820 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:28.821 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc] from current transaction
2025-11-06 21:43:28.822 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:28.822 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc] from current transaction
2025-11-06 21:43:28.826 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:28.826 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:28.826 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9765bc]
2025-11-06 21:43:35.325 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:43:35.325 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:43:35.325 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:43:35.332 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:43:35.342 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:43:35.343 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:43:35.343 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1730883628 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:43:35.345 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:43:35.345 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104] from current transaction
2025-11-06 21:43:35.347 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:43:35.347 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104] from current transaction
2025-11-06 21:43:35.351 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:43:35.351 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:43:35.352 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c705104]
2025-11-06 21:44:34.629 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:44:34.629 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:44:34.629 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:44:34.632 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:44:34.636 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:44:34.637 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:44:34.637 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1843257692 wrapping com.mysql.cj.jdbc.ConnectionImpl@2eee7599] will be managed by Spring
2025-11-06 21:44:34.638 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:44:34.638 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc] from current transaction
2025-11-06 21:44:34.639 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:44:34.640 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc] from current transaction
2025-11-06 21:44:34.645 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:44:34.645 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:44:34.645 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bfa3dc]
2025-11-06 21:45:52.901 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:45:52.901 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:45:52.901 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:45:52.910 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:45:52.922 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:45:52.922 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:52.922 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1661048160 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:45:52.923 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:52.924 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a] from current transaction
2025-11-06 21:45:52.925 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:52.925 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a] from current transaction
2025-11-06 21:45:52.927 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:52.927 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:52.928 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ce434a]
2025-11-06 21:45:53.165 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:45:53.166 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:45:53.166 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:45:53.174 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:45:53.180 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:45:53.181 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:45:53.181 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@412343720 wrapping com.mysql.cj.jdbc.ConnectionImpl@4de3a7df] will be managed by Spring
2025-11-06 21:45:53.182 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:45:53.182 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0] from current transaction
2025-11-06 21:45:53.184 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:45:53.184 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0] from current transaction
2025-11-06 21:45:53.190 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:45:53.190 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:45:53.190 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@192414d0]
2025-11-06 21:46:54.470 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 21:46:54.493 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 21:46:54.498 [SpringApplicationShutdownHook] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: a338ae0c-3f99-438d-4295-54d896ba62fe, 当前在线用户数: 0
2025-11-06 21:46:54.498 [SpringApplicationShutdownHook] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:46:54.499 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 21:46:54.499 [SpringApplicationShutdownHook] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 21:47:01.066 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 21:47:01.114 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 65584 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 21:47:01.114 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 21:47:01.116 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 21:47:01.158 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 21:47:01.158 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 21:47:01.801 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 21:47:01.802 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 21:47:01.802 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 21:47:01.802 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 21:47:01.802 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 21:47:01.803 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 21:47:01.805 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 21:47:01.805 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 21:47:01.805 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 21:47:01.805 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 21:47:01.806 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 21:47:01.806 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 21:47:01.806 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 21:47:01.806 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 21:47:01.806 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 21:47:01.807 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 21:47:01.807 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 21:47:01.807 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 21:47:01.807 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 21:47:01.807 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 21:47:01.808 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 21:47:01.808 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 21:47:01.808 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 21:47:01.808 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 21:47:01.808 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 21:47:01.809 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 21:47:01.809 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 21:47:01.809 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 21:47:01.809 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 21:47:01.809 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 21:47:01.811 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 21:47:01.812 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 21:47:01.812 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 21:47:01.812 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 21:47:02.221 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 21:47:02.229 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 21:47:02.231 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 21:47:02.231 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 21:47:02.275 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 21:47:02.275 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1116 ms
2025-11-06 21:47:02.310 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 21:47:02.794 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 21:47:02.794 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 21:47:03.270 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 21:47:03.297 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 21:47:03.313 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 21:47:03.323 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.675 seconds (process running for 3.312)
2025-11-06 21:47:12.221 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 21:47:12.221 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 21:47:12.223 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-06 21:47:12.231 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 21:47:12.233 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:12.233 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 21:47:12.311 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:12.358 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.364 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1e95ac] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.373 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 21:47:12.554 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1149b30f
2025-11-06 21:47:12.557 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 21:47:12.563 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2070691057 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:12.653 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1e95ac]
2025-11-06 21:47:12.700 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 21:47:12.701 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:12.739 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 21:47:12.739 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 21:47:12.740 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:12.740 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:12.754 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 21:47:12.754 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 21:47:12.755 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:12.755 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:12.755 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 21:47:12.755 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 21:47:12.757 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.758 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebe40ba] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.758 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@441042620 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:12.761 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:12.761 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:12.763 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebe40ba]
2025-11-06 21:47:12.764 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.764 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1034f6c7] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.765 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1556336619 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:12.765 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.766 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178229d0] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.768 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@952143399 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ce57c95] will not be managed by Spring
2025-11-06 21:47:12.773 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@178229d0]
2025-11-06 21:47:12.789 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 21:47:12.791 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:12.800 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1034f6c7]
2025-11-06 21:47:12.801 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.802 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e5e539] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.804 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@206436582 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:12.808 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.809 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3c3c8] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.811 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e5e539]
2025-11-06 21:47:12.811 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.813 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdbee61] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.816 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 21:47:12.817 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:12.818 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 21:47:12.824 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:12.826 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:12.827 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53b172d] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:12.836 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 21:47:12.837 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 21:47:12.838 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 56b1496a-c36a-a75c-e8b7-f0341d37ea6d
2025-11-06 21:47:12.838 [http-nio-8080-exec-7] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 56b1496a-c36a-a75c-e8b7-f0341d37ea6d, 当前在线用户数: 1
2025-11-06 21:47:12.846 [http-nio-8080-exec-3] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 21:47:12.846 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 21:47:12.849 [http-nio-8080-exec-7] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 21:47:12.882 [http-nio-8080-exec-7] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 21:47:12.922 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@45354170 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:12.922 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1579475107 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ce57c95] will not be managed by Spring
2025-11-06 21:47:12.927 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53b172d]
2025-11-06 21:47:12.932 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bdbee61]
2025-11-06 21:47:13.012 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@235201899 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.026 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3c3c8]
2025-11-06 21:47:13.027 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.028 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa13542] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.028 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1873796769 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.032 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa13542]
2025-11-06 21:47:13.033 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.033 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1809d63b] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.034 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1853160285 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.036 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1809d63b]
2025-11-06 21:47:13.145 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 21:47:13.146 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 21:47:13.146 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:13.146 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 21:47:13.146 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 21:47:13.146 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:13.147 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:13.147 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 21:47:13.151 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:13.152 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:13.152 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.153 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d438d75] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.153 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.153 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b79fa9c] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.153 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1536661494 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.154 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@827747031 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ce57c95] will not be managed by Spring
2025-11-06 21:47:13.158 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d438d75]
2025-11-06 21:47:13.160 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b79fa9c]
2025-11-06 21:47:13.162 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.162 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e0c25d] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.163 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1535604630 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.166 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e0c25d]
2025-11-06 21:47:13.258 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 21:47:13.258 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:13.260 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.261 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380276e1] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.262 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1253590017 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ce57c95] will not be managed by Spring
2025-11-06 21:47:13.281 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380276e1]
2025-11-06 21:47:13.365 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 21:47:13.366 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:13.367 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.368 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487d2059] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.369 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1238950446 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.376 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487d2059]
2025-11-06 21:47:13.495 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:47:13.495 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:13.497 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.498 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45b45801] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.505 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1187525650 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.508 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45b45801]
2025-11-06 21:47:13.699 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 21:47:13.699 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 21:47:13.700 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:13.700 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdb7a9f] was not registered for synchronization because synchronization is not active
2025-11-06 21:47:13.703 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1870267163 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will not be managed by Spring
2025-11-06 21:47:13.707 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdb7a9f]
2025-11-06 21:47:16.558 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:47:16.559 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:16.559 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:47:16.562 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:16.598 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:16.599 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.599 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@223687080 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ce57c95] will be managed by Spring
2025-11-06 21:47:16.604 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.606 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599] from current transaction
2025-11-06 21:47:16.607 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.608 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599] from current transaction
2025-11-06 21:47:16.616 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.618 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599] from current transaction
2025-11-06 21:47:16.621 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.622 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.622 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:16.622 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55cc0599]
2025-11-06 21:47:19.787 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:47:19.787 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:19.787 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:47:19.789 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:19.794 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:19.794 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:19.794 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1459270135 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will be managed by Spring
2025-11-06 21:47:19.796 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:19.796 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5] from current transaction
2025-11-06 21:47:19.798 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:19.798 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:19.798 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:19.798 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544d0a5]
2025-11-06 21:47:23.935 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:47:23.936 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:23.936 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:47:23.941 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:23.947 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:23.948 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.948 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1311361191 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will be managed by Spring
2025-11-06 21:47:23.950 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.951 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c] from current transaction
2025-11-06 21:47:23.953 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.953 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c] from current transaction
2025-11-06 21:47:23.956 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.956 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c] from current transaction
2025-11-06 21:47:23.957 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.957 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.957 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:23.957 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02258c]
2025-11-06 21:47:29.775 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collect
2025-11-06 21:47:29.775 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 21:47:29.775 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collect
2025-11-06 21:47:29.779 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 21:47:29.788 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 21:47:29.789 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:29.789 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@127950846 wrapping com.mysql.cj.jdbc.ConnectionImpl@1149b30f] will be managed by Spring
2025-11-06 21:47:29.790 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:29.791 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d] from current transaction
2025-11-06 21:47:29.791 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:29.792 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:29.792 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:29.792 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a96b51d]
2025-11-06 21:47:56.613 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 21:47:56.613 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 21:47:56.613 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 56b1496a-c36a-a75c-e8b7-f0341d37ea6d, 当前在线用户数: 0
2025-11-06 21:47:56.613 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 21:47:58.404 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 21:47:58.414 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-06 22:44:31.081 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-11-06 22:44:31.129 [restartedMain] INFO  com.temimi.BackendApplication - Starting BackendApplication using Java 17.0.15 with PID 72544 (E:\temimi\temimi-backend\target\classes started by bai in E:\temimi\temimi-backend)
2025-11-06 22:44:31.130 [restartedMain] DEBUG com.temimi.BackendApplication - Running with Spring Boot v3.2.5, Spring v6.1.6
2025-11-06 22:44:31.132 [restartedMain] INFO  com.temimi.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-06 22:44:31.180 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-06 22:44:31.181 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-06 22:44:31.903 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CategoryMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatDetailedMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\ChatMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CoinTransactionMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\CommentMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\DanmuMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\FavoriteVideoMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MessageMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\MsgUnreadMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserDailyLoginMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserFollowMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserMapper.class]
2025-11-06 22:44:31.904 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\UserVideoMapper.class]
2025-11-06 22:44:31.905 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoCollectMilestoneMapper.class]
2025-11-06 22:44:31.905 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoMapper.class]
2025-11-06 22:44:31.905 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [E:\temimi\temimi-backend\target\classes\com\temimi\mapper\VideoStatsMapper.class]
2025-11-06 22:44:31.906 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'categoryMapper' and 'com.temimi.mapper.CategoryMapper' mapperInterface
2025-11-06 22:44:31.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'categoryMapper'.
2025-11-06 22:44:31.907 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatDetailedMapper' and 'com.temimi.mapper.ChatDetailedMapper' mapperInterface
2025-11-06 22:44:31.908 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatDetailedMapper'.
2025-11-06 22:44:31.908 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chatMapper' and 'com.temimi.mapper.ChatMapper' mapperInterface
2025-11-06 22:44:31.908 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'chatMapper'.
2025-11-06 22:44:31.908 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'coinTransactionMapper' and 'com.temimi.mapper.CoinTransactionMapper' mapperInterface
2025-11-06 22:44:31.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'coinTransactionMapper'.
2025-11-06 22:44:31.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'commentMapper' and 'com.temimi.mapper.CommentMapper' mapperInterface
2025-11-06 22:44:31.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'commentMapper'.
2025-11-06 22:44:31.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'danmuMapper' and 'com.temimi.mapper.DanmuMapper' mapperInterface
2025-11-06 22:44:31.909 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'danmuMapper'.
2025-11-06 22:44:31.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteMapper' and 'com.temimi.mapper.FavoriteMapper' mapperInterface
2025-11-06 22:44:31.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteMapper'.
2025-11-06 22:44:31.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'favoriteVideoMapper' and 'com.temimi.mapper.FavoriteVideoMapper' mapperInterface
2025-11-06 22:44:31.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'favoriteVideoMapper'.
2025-11-06 22:44:31.910 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'messageMapper' and 'com.temimi.mapper.MessageMapper' mapperInterface
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'messageMapper'.
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'msgUnreadMapper' and 'com.temimi.mapper.MsgUnreadMapper' mapperInterface
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'msgUnreadMapper'.
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userDailyLoginMapper' and 'com.temimi.mapper.UserDailyLoginMapper' mapperInterface
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userDailyLoginMapper'.
2025-11-06 22:44:31.911 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userFollowMapper' and 'com.temimi.mapper.UserFollowMapper' mapperInterface
2025-11-06 22:44:31.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userFollowMapper'.
2025-11-06 22:44:31.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.temimi.mapper.UserMapper' mapperInterface
2025-11-06 22:44:31.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-11-06 22:44:31.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userVideoMapper' and 'com.temimi.mapper.UserVideoMapper' mapperInterface
2025-11-06 22:44:31.912 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'userVideoMapper'.
2025-11-06 22:44:31.913 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoCollectMilestoneMapper' and 'com.temimi.mapper.VideoCollectMilestoneMapper' mapperInterface
2025-11-06 22:44:31.913 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoCollectMilestoneMapper'.
2025-11-06 22:44:31.913 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoMapper' and 'com.temimi.mapper.VideoMapper' mapperInterface
2025-11-06 22:44:31.914 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoMapper'.
2025-11-06 22:44:31.914 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'videoStatsMapper' and 'com.temimi.mapper.VideoStatsMapper' mapperInterface
2025-11-06 22:44:31.914 [restartedMain] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'videoStatsMapper'.
2025-11-06 22:44:32.294 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-06 22:44:32.302 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-06 22:44:32.302 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-06 22:44:32.303 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.20]
2025-11-06 22:44:32.338 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-06 22:44:32.338 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1157 ms
2025-11-06 22:44:32.373 [restartedMain] DEBUG c.t.c.JwtAuthenticationTokenFilter - Filter 'jwtAuthenticationTokenFilter' configured for use
2025-11-06 22:44:32.828 [restartedMain] WARN  c.b.m.core.metadata.TableInfoHelper - Can not find table primary key in Class: "com.temimi.model.entity.Category".
2025-11-06 22:44:32.828 [restartedMain] WARN  c.b.m.c.injector.DefaultSqlInjector - class com.temimi.model.entity.Category ,Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
2025-11-06 22:44:33.252 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-06 22:44:33.272 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-06 22:44:33.286 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-11-06 22:44:33.294 [restartedMain] INFO  com.temimi.BackendApplication - Started BackendApplication in 2.645 seconds (process running for 3.215)
2025-11-06 22:44:54.262 [http-nio-8080-exec-7] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-06 22:44:54.262 [http-nio-8080-exec-7] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-06 22:44:54.264 [http-nio-8080-exec-7] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-06 22:44:54.272 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 22:44:54.274 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:44:54.274 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 22:44:54.366 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:44:54.408 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.417 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10216774] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.429 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-06 22:44:54.561 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2717c555
2025-11-06 22:44:54.562 [http-nio-8080-exec-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-06 22:44:54.566 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1627540979 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:54.627 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10216774]
2025-11-06 22:44:54.736 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 22:44:54.736 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:44:54.739 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 22:44:54.739 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 22:44:54.740 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:44:54.740 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:44:54.740 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 22:44:54.741 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 22:44:54.745 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:44:54.747 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:44:54.755 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.756 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5700df18] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.756 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@101057158 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:54.761 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5700df18]
2025-11-06 22:44:54.770 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.771 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bd274e] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.816 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 22:44:54.817 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:44:54.829 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.829 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16867a28] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.842 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: e227d5bf-dd47-7156-bba0-2317aeadeaca
2025-11-06 22:44:54.843 [http-nio-8080-exec-1] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: e227d5bf-dd47-7156-bba0-2317aeadeaca, 当前在线用户数: 1
2025-11-06 22:44:54.857 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 22:44:54.861 [http-nio-8080-exec-1] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 22:44:54.872 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 22:44:54.872 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:44:54.873 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 22:44:54.880 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:44:54.882 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.882 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89d039] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.896 [http-nio-8080-exec-1] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 22:44:54.898 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@987337009 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:54.898 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@898358778 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:44:54.905 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e89d039]
2025-11-06 22:44:54.912 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28bd274e]
2025-11-06 22:44:54.942 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 22:44:54.943 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:44:54.944 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:54.944 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c63e99] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:54.946 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@692724183 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:54.962 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41c63e99]
2025-11-06 22:44:54.991 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1496925815 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:55.003 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16867a28]
2025-11-06 22:44:55.004 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:55.005 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261f56a9] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:55.005 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1326102111 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:55.009 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@261f56a9]
2025-11-06 22:44:55.010 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:44:55.010 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2c4f06] was not registered for synchronization because synchronization is not active
2025-11-06 22:44:55.011 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@854179853 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:44:55.013 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2c4f06]
2025-11-06 22:44:55.062 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /covers/5f23cafeb1f907549cb99907e1232075.jpg
2025-11-06 22:44:55.062 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:02.900 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/user/personal/info
2025-11-06 22:45:02.900 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:02.900 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/user/personal/info
2025-11-06 22:45:02.904 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:02.905 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:02.905 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2397aa] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:02.905 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@984260599 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:02.908 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2397aa]
2025-11-06 22:45:02.968 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /im
2025-11-06 22:45:02.968 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:02.972 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 连接聊天WebSocket, SessionID: 60740d6a-ebe2-34be-24e3-a29302331c88
2025-11-06 22:45:02.972 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 重复登录，关闭旧Session: e227d5bf-dd47-7156-bba0-2317aeadeaca
2025-11-06 22:45:02.973 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: e227d5bf-dd47-7156-bba0-2317aeadeaca, 当前在线用户数: 0
2025-11-06 22:45:02.973 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 22:45:02.975 [http-nio-8080-exec-4] INFO  c.temimi.handler.ChatSessionManager - 用户 14 上线，SessionID: 60740d6a-ebe2-34be-24e3-a29302331c88, 当前在线用户数: 1
2025-11-06 22:45:02.975 [http-nio-8080-exec-4] INFO  c.t.handler.ChatWebSocketHandler - 当前在线用户数: 1
2025-11-06 22:45:03.081 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/coin/check-today-login
2025-11-06 22:45:03.081 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/msg-unread/all
2025-11-06 22:45:03.082 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:03.082 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:03.082 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/coin/check-today-login
2025-11-06 22:45:03.082 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/msg-unread/all
2025-11-06 22:45:03.087 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:03.087 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:03.087 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.088 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0e8be8] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.088 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.088 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503514ff] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.088 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@96090661 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.089 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1037103825 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.090 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503514ff]
2025-11-06 22:45:03.091 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f0e8be8]
2025-11-06 22:45:03.446 [http-nio-8080-exec-6] INFO  c.t.handler.ChatWebSocketHandler - 收到WebSocket消息: {"code":100,"content":"Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1aWQiOjE0LCJyb2xlIjowLCJ0eXBlIjoiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiOiJuaW5pIiwic3ViIjoibmluaSIsImlhdCI6MTc2MjQzMTQxMywiZXhwIjoxODQ4ODMxNDEzLCJpc3MiOiJzaGl5b3UtYmFja2VuZCJ9.XHztOGE0sUBgUyRRnipx1wmJLyCrlabLOo3q5Slbi9cWNpXFSaNsbBQl2o6LNH9_OhLIhgzoTw9sqCXrXu4dFw"}
2025-11-06 22:45:03.447 [http-nio-8080-exec-6] WARN  c.t.handler.ChatWebSocketHandler - 未处理的消息类型: CONNECTION
2025-11-06 22:45:03.531 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/favorite/list
2025-11-06 22:45:03.532 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:03.532 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/favorite/list
2025-11-06 22:45:03.537 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:03.538 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.539 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5a658f] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.541 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@165079953 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.545 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5a658f]
2025-11-06 22:45:03.569 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/category/all
2025-11-06 22:45:03.569 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.569 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.569 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c167d1e] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.570 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1963982702 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.576 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c167d1e]
2025-11-06 22:45:03.682 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /ws/danmu/11
2025-11-06 22:45:03.682 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.684 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 弹幕WebSocket连接建立，路径: /ws/danmu/11
2025-11-06 22:45:03.685 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 用户加入视频 11 的弹幕池
2025-11-06 22:45:03.685 [http-nio-8080-exec-2] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 1
2025-11-06 22:45:03.736 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/detail/11
2025-11-06 22:45:03.736 [http-nio-8080-exec-9] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.737 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get
2025-11-06 22:45:03.737 [http-nio-8080-exec-10] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.738 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.738 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ad4e1a] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.738 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1268652793 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.738 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.739 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24acf5f5] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.742 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ad4e1a]
2025-11-06 22:45:03.743 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.744 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd75772] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.745 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@517189766 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.753 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@947283698 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.766 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd75772]
2025-11-06 22:45:03.767 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.767 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a896dc1] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.769 [http-nio-8080-exec-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@394406352 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.772 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24acf5f5]
2025-11-06 22:45:03.772 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a896dc1]
2025-11-06 22:45:03.773 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.773 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa3215c] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.775 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1496934280 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.778 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa3215c]
2025-11-06 22:45:03.779 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.780 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6dad83] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.781 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1603785875 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.782 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c6dad83]
2025-11-06 22:45:03.815 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/user-status
2025-11-06 22:45:03.815 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/collected-fids
2025-11-06 22:45:03.816 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:03.816 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:03.816 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/collected-fids
2025-11-06 22:45:03.816 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/user-status
2025-11-06 22:45:03.820 [http-nio-8080-exec-7] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:03.820 [http-nio-8080-exec-4] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:03.821 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.821 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.823 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae1e5b0] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.823 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d120752] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.824 [http-nio-8080-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2102248807 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:03.825 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@618879048 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.829 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d120752]
2025-11-06 22:45:03.829 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ae1e5b0]
2025-11-06 22:45:03.833 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.833 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b738109] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.834 [http-nio-8080-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2091158767 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.837 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b738109]
2025-11-06 22:45:03.925 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/comment/get-up-like
2025-11-06 22:45:03.925 [http-nio-8080-exec-1] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.927 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/danmu/11
2025-11-06 22:45:03.927 [http-nio-8080-exec-5] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:03.928 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:03.930 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e24e0a3] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:03.930 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@710550487 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:03.934 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e24e0a3]
2025-11-06 22:45:04.107 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 22:45:04.107 [http-nio-8080-exec-8] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:04.107 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:04.107 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /videos/5f23cafeb1f907549cb99907e1232075.mp4
2025-11-06 22:45:04.107 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c20414] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:04.107 [http-nio-8080-exec-6] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:04.112 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1699011888 wrapping com.mysql.cj.jdbc.ConnectionImpl@540ceb86] will not be managed by Spring
2025-11-06 22:45:04.118 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c20414]
2025-11-06 22:45:04.150 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/list
2025-11-06 22:45:04.151 [http-nio-8080-exec-3] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: true
2025-11-06 22:45:04.152 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:04.153 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2d39c4] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:04.158 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1606560852 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:04.161 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2d39c4]
2025-11-06 22:45:10.512 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器检查路径: /api/video/play/user
2025-11-06 22:45:10.513 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - 是否跳过JWT验证: false
2025-11-06 22:45:10.513 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT过滤器执行，请求路径: /api/video/play/user
2025-11-06 22:45:10.516 [http-nio-8080-exec-2] DEBUG c.t.c.JwtAuthenticationTokenFilter - JWT验证成功，用户ID: 14, 用户名: nini, 角色: 0
2025-11-06 22:45:10.534 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:10.535 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53312cfa] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:10.541 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1775456699 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:10.542 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53312cfa]
2025-11-06 22:45:10.542 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:10.542 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22309dc0] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:10.542 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1945715481 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:10.544 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22309dc0]
2025-11-06 22:45:10.544 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:10.544 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5afbcc] was not registered for synchronization because synchronization is not active
2025-11-06 22:45:10.547 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1879647418 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will not be managed by Spring
2025-11-06 22:45:10.555 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d5afbcc]
2025-11-06 22:45:10.562 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-06 22:45:10.563 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:10.565 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@649123111 wrapping com.mysql.cj.jdbc.ConnectionImpl@2717c555] will be managed by Spring
2025-11-06 22:45:10.567 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:10.567 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705] from current transaction
2025-11-06 22:45:10.575 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:10.576 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:10.576 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:10.576 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41720705]
2025-11-06 22:45:14.637 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 用户离开视频 11 的弹幕池
2025-11-06 22:45:14.636 [http-nio-8080-exec-10] INFO  c.temimi.handler.ChatSessionManager - 用户 14 下线，SessionID: 60740d6a-ebe2-34be-24e3-a29302331c88, 当前在线用户数: 0
2025-11-06 22:45:14.637 [http-nio-8080-exec-10] INFO  c.t.handler.ChatWebSocketHandler - 用户 14 断开聊天WebSocket连接
2025-11-06 22:45:14.637 [http-nio-8080-exec-9] INFO  c.t.handler.DanmuWebSocketHandler - 视频 11 当前观看人数: 0
2025-11-06 22:45:22.074 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-06 22:45:22.081 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
